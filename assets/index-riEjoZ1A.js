var Fp=Object.defineProperty;var Yp=(r,l,o)=>l in r?Fp(r,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[l]=o;var P0=(r,l,o)=>Yp(r,typeof l!="symbol"?l+"":l,o);function Gp(r,l){for(var o=0;o<l.length;o++){const i=l[o];if(typeof i!="string"&&!Array.isArray(i)){for(const u in i)if(u!=="default"&&!(u in r)){const m=Object.getOwnPropertyDescriptor(i,u);m&&Object.defineProperty(r,u,m.get?m:{enumerable:!0,get:()=>i[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(u){if(u.ep)return;u.ep=!0;const m=o(u);fetch(u.href,m)}})();function Mh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xo={exports:{}},ir={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function $p(){if(V0)return ir;V0=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function o(i,u,m){var h=null;if(m!==void 0&&(h=""+m),u.key!==void 0&&(h=""+u.key),"key"in u){m={};for(var f in u)f!=="key"&&(m[f]=u[f])}else m=u;return u=m.ref,{$$typeof:r,type:i,key:h,ref:u!==void 0?u:null,props:m}}return ir.Fragment=l,ir.jsx=o,ir.jsxs=o,ir}var F0;function Zp(){return F0||(F0=1,xo.exports=$p()),xo.exports}var e=Zp(),fo={exports:{}},cr={},po={exports:{}},go={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Wp(){return Y0||(Y0=1,function(r){function l(G,ee){var oe=G.length;G.push(ee);e:for(;0<oe;){var Me=oe-1>>>1,T=G[Me];if(0<u(T,ee))G[Me]=ee,G[oe]=T,oe=Me;else break e}}function o(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var ee=G[0],oe=G.pop();if(oe!==ee){G[0]=oe;e:for(var Me=0,T=G.length,K=T>>>1;Me<K;){var se=2*(Me+1)-1,te=G[se],de=se+1,ke=G[de];if(0>u(te,oe))de<T&&0>u(ke,te)?(G[Me]=ke,G[de]=oe,Me=de):(G[Me]=te,G[se]=oe,Me=se);else if(de<T&&0>u(ke,oe))G[Me]=ke,G[de]=oe,Me=de;else break e}}return ee}function u(G,ee){var oe=G.sortIndex-ee.sortIndex;return oe!==0?oe:G.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var b=[],x=[],g=1,p=null,C=3,M=!1,R=!1,A=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function E(G){for(var ee=o(x);ee!==null;){if(ee.callback===null)i(x);else if(ee.startTime<=G)i(x),ee.sortIndex=ee.expirationTime,l(b,ee);else break;ee=o(x)}}function v(G){if(A=!1,E(G),!R)if(o(b)!==null)R=!0,H||(H=!0,ae());else{var ee=o(x);ee!==null&&pe(v,ee.startTime-G)}}var H=!1,q=-1,$=5,J=-1;function W(){return j?!0:!(r.unstable_now()-J<$)}function ie(){if(j=!1,H){var G=r.unstable_now();J=G;var ee=!0;try{e:{R=!1,A&&(A=!1,S(q),q=-1),M=!0;var oe=C;try{t:{for(E(G),p=o(b);p!==null&&!(p.expirationTime>G&&W());){var Me=p.callback;if(typeof Me=="function"){p.callback=null,C=p.priorityLevel;var T=Me(p.expirationTime<=G);if(G=r.unstable_now(),typeof T=="function"){p.callback=T,E(G),ee=!0;break t}p===o(b)&&i(b),E(G)}else i(b);p=o(b)}if(p!==null)ee=!0;else{var K=o(x);K!==null&&pe(v,K.startTime-G),ee=!1}}break e}finally{p=null,C=oe,M=!1}ee=void 0}}finally{ee?ae():H=!1}}}var ae;if(typeof _=="function")ae=function(){_(ie)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ue=ye.port2;ye.port1.onmessage=ie,ae=function(){Ue.postMessage(null)}}else ae=function(){k(ie,0)};function pe(G,ee){q=k(function(){G(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(G){switch(C){case 1:case 2:case 3:var ee=3;break;default:ee=C}var oe=C;C=ee;try{return G()}finally{C=oe}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=C;C=G;try{return ee()}finally{C=oe}},r.unstable_scheduleCallback=function(G,ee,oe){var Me=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,G){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=oe+T,G={id:g++,callback:ee,priorityLevel:G,startTime:oe,expirationTime:T,sortIndex:-1},oe>Me?(G.sortIndex=oe,l(x,G),o(b)===null&&G===o(x)&&(A?(S(q),q=-1):A=!0,pe(v,oe-Me))):(G.sortIndex=T,l(b,G),R||M||(R=!0,H||(H=!0,ae()))),G},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(G){var ee=C;return function(){var oe=C;C=ee;try{return G.apply(this,arguments)}finally{C=oe}}}}(go)),go}var G0;function Xp(){return G0||(G0=1,po.exports=Wp()),po.exports}var yo={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function Qp(){if($0)return be;$0=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=p&&T[p]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function j(T,K,se){this.props=T,this.context=K,this.refs=A,this.updater=se||M}j.prototype.isReactComponent={},j.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function k(){}k.prototype=j.prototype;function S(T,K,se){this.props=T,this.context=K,this.refs=A,this.updater=se||M}var _=S.prototype=new k;_.constructor=S,R(_,j.prototype),_.isPureReactComponent=!0;var E=Array.isArray,v={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function q(T,K,se,te,de,ke){return se=ke.ref,{$$typeof:r,type:T,key:K,ref:se!==void 0?se:null,props:ke}}function $(T,K){return q(T.type,K,void 0,void 0,void 0,T.props)}function J(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function W(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(se){return K[se]})}var ie=/\/+/g;function ae(T,K){return typeof T=="object"&&T!==null&&T.key!=null?W(""+T.key):K.toString(36)}function ye(){}function Ue(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ye,ye):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function pe(T,K,se,te,de){var ke=typeof T;(ke==="undefined"||ke==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(ke){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case l:fe=!0;break;case g:return fe=T._init,pe(fe(T._payload),K,se,te,de)}}if(fe)return de=de(T),fe=te===""?"."+ae(T,0):te,E(de)?(se="",fe!=null&&(se=fe.replace(ie,"$&/")+"/"),pe(de,K,se,"",function(pa){return pa})):de!=null&&(J(de)&&(de=$(de,se+(de.key==null||T&&T.key===de.key?"":(""+de.key).replace(ie,"$&/")+"/")+fe)),K.push(de)),1;fe=0;var vt=te===""?".":te+":";if(E(T))for(var He=0;He<T.length;He++)te=T[He],ke=vt+ae(te,He),fe+=pe(te,K,se,ke,de);else if(He=C(T),typeof He=="function")for(T=He.call(T),He=0;!(te=T.next()).done;)te=te.value,ke=vt+ae(te,He++),fe+=pe(te,K,se,ke,de);else if(ke==="object"){if(typeof T.then=="function")return pe(Ue(T),K,se,te,de);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function G(T,K,se){if(T==null)return T;var te=[],de=0;return pe(T,te,"","",function(ke){return K.call(se,ke,de++)}),te}function ee(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(se){(T._status===0||T._status===-1)&&(T._status=1,T._result=se)},function(se){(T._status===0||T._status===-1)&&(T._status=2,T._result=se)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var oe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Me(){}return be.Children={map:G,forEach:function(T,K,se){G(T,function(){K.apply(this,arguments)},se)},count:function(T){var K=0;return G(T,function(){K++}),K},toArray:function(T){return G(T,function(K){return K})||[]},only:function(T){if(!J(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},be.Component=j,be.Fragment=o,be.Profiler=u,be.PureComponent=S,be.StrictMode=i,be.Suspense=b,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,be.__COMPILER_RUNTIME={__proto__:null,c:function(T){return v.H.useMemoCache(T)}},be.cache=function(T){return function(){return T.apply(null,arguments)}},be.cloneElement=function(T,K,se){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var te=R({},T.props),de=T.key,ke=void 0;if(K!=null)for(fe in K.ref!==void 0&&(ke=void 0),K.key!==void 0&&(de=""+K.key),K)!H.call(K,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&K.ref===void 0||(te[fe]=K[fe]);var fe=arguments.length-2;if(fe===1)te.children=se;else if(1<fe){for(var vt=Array(fe),He=0;He<fe;He++)vt[He]=arguments[He+2];te.children=vt}return q(T.type,de,void 0,void 0,ke,te)},be.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:m,_context:T},T},be.createElement=function(T,K,se){var te,de={},ke=null;if(K!=null)for(te in K.key!==void 0&&(ke=""+K.key),K)H.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=K[te]);var fe=arguments.length-2;if(fe===1)de.children=se;else if(1<fe){for(var vt=Array(fe),He=0;He<fe;He++)vt[He]=arguments[He+2];de.children=vt}if(T&&T.defaultProps)for(te in fe=T.defaultProps,fe)de[te]===void 0&&(de[te]=fe[te]);return q(T,ke,void 0,void 0,null,de)},be.createRef=function(){return{current:null}},be.forwardRef=function(T){return{$$typeof:f,render:T}},be.isValidElement=J,be.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:ee}},be.memo=function(T,K){return{$$typeof:x,type:T,compare:K===void 0?null:K}},be.startTransition=function(T){var K=v.T,se={};v.T=se;try{var te=T(),de=v.S;de!==null&&de(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Me,oe)}catch(ke){oe(ke)}finally{v.T=K}},be.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},be.use=function(T){return v.H.use(T)},be.useActionState=function(T,K,se){return v.H.useActionState(T,K,se)},be.useCallback=function(T,K){return v.H.useCallback(T,K)},be.useContext=function(T){return v.H.useContext(T)},be.useDebugValue=function(){},be.useDeferredValue=function(T,K){return v.H.useDeferredValue(T,K)},be.useEffect=function(T,K,se){var te=v.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(T,K)},be.useId=function(){return v.H.useId()},be.useImperativeHandle=function(T,K,se){return v.H.useImperativeHandle(T,K,se)},be.useInsertionEffect=function(T,K){return v.H.useInsertionEffect(T,K)},be.useLayoutEffect=function(T,K){return v.H.useLayoutEffect(T,K)},be.useMemo=function(T,K){return v.H.useMemo(T,K)},be.useOptimistic=function(T,K){return v.H.useOptimistic(T,K)},be.useReducer=function(T,K,se){return v.H.useReducer(T,K,se)},be.useRef=function(T){return v.H.useRef(T)},be.useState=function(T){return v.H.useState(T)},be.useSyncExternalStore=function(T,K,se){return v.H.useSyncExternalStore(T,K,se)},be.useTransition=function(){return v.H.useTransition()},be.version="19.1.0",be}var Z0;function Uo(){return Z0||(Z0=1,yo.exports=Qp()),yo.exports}var bo={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function Kp(){if(W0)return ut;W0=1;var r=Uo();function l(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)x+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(l(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(b,x,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:p==null?null:""+p,children:b,containerInfo:x,implementation:g}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(b,x){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(l(299));return m(b,x,null,g)},ut.flushSync=function(b){var x=h.T,g=i.p;try{if(h.T=null,i.p=2,b)return b()}finally{h.T=x,i.p=g,i.d.f()}},ut.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(b,x))},ut.prefetchDNS=function(b){typeof b=="string"&&i.d.D(b)},ut.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var g=x.as,p=f(g,x.crossOrigin),C=typeof x.integrity=="string"?x.integrity:void 0,M=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;g==="style"?i.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:p,integrity:C,fetchPriority:M}):g==="script"&&i.d.X(b,{crossOrigin:p,integrity:C,fetchPriority:M,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},ut.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var g=f(x.as,x.crossOrigin);i.d.M(b,{crossOrigin:g,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(b)},ut.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var g=x.as,p=f(g,x.crossOrigin);i.d.L(b,g,{crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},ut.preloadModule=function(b,x){if(typeof b=="string")if(x){var g=f(x.as,x.crossOrigin);i.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:g,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(b)},ut.requestFormReset=function(b){i.d.r(b)},ut.unstable_batchedUpdates=function(b,x){return b(x)},ut.useFormState=function(b,x,g){return h.H.useFormState(b,x,g)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.1.0",ut}var X0;function Eh(){if(X0)return bo.exports;X0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),bo.exports=Kp(),bo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function Jp(){if(Q0)return cr;Q0=1;var r=Xp(),l=Uo(),o=Eh();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(m(t)!==t)throw Error(i(188))}function b(t){var a=t.alternate;if(!a){if(a=m(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,n=a;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(n=c.return,n!==null){s=n;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return f(c),t;if(d===n)return f(c),a;d=d.sibling}throw Error(i(188))}if(s.return!==n.return)s=c,n=d;else{for(var y=!1,w=c.child;w;){if(w===s){y=!0,s=c,n=d;break}if(w===n){y=!0,n=c,s=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===s){y=!0,s=d,n=c;break}if(w===n){y=!0,n=d,s=c;break}w=w.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==n)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ye?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case v:return"Suspense";case H:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case _:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case E:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return a=t.displayName||null,a!==null?a:Ue(t.type)||"Memo";case $:a=t._payload,t=t._init;try{return Ue(t(a))}catch{}}return null}var pe=Array.isArray,G=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],T=-1;function K(t){return{current:t}}function se(t){0>T||(t.current=Me[T],Me[T]=null,T--)}function te(t,a){T++,Me[T]=t.current,t.current=a}var de=K(null),ke=K(null),fe=K(null),vt=K(null);function He(t,a){switch(te(fe,a),te(ke,t),te(de,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?f0(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=f0(a),t=p0(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(de),te(de,t)}function pa(){se(de),se(ke),se(fe)}function Jl(t){t.memoizedState!==null&&te(vt,t);var a=de.current,s=p0(a,t.type);a!==s&&(te(ke,t),te(de,s))}function jr(t){ke.current===t&&(se(de),se(ke)),vt.current===t&&(se(vt),ar._currentValue=oe)}var Il=Object.prototype.hasOwnProperty,ei=r.unstable_scheduleCallback,ti=r.unstable_cancelCallback,jx=r.unstable_shouldYield,vx=r.unstable_requestPaint,$t=r.unstable_now,Nx=r.unstable_getCurrentPriorityLevel,Xo=r.unstable_ImmediatePriority,Qo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,wx=r.unstable_LowPriority,Ko=r.unstable_IdlePriority,_x=r.log,Sx=r.unstable_setDisableYieldValue,dn=null,Nt=null;function ga(t){if(typeof _x=="function"&&Sx(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(dn,t)}catch{}}var wt=Math.clz32?Math.clz32:Ax,kx=Math.log,Cx=Math.LN2;function Ax(t){return t>>>=0,t===0?32:31-(kx(t)/Cx|0)|0}var Nr=256,wr=4194304;function Qa(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _r(t,a,s){var n=t.pendingLanes;if(n===0)return 0;var c=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var w=n&134217727;return w!==0?(n=w&~d,n!==0?c=Qa(n):(y&=w,y!==0?c=Qa(y):s||(s=w&~t,s!==0&&(c=Qa(s))))):(w=n&~d,w!==0?c=Qa(w):y!==0?c=Qa(y):s||(s=n&~t,s!==0&&(c=Qa(s)))),c===0?0:a!==0&&a!==c&&(a&d)===0&&(d=c&-c,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:c}function un(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Rx(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var t=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),t}function Io(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function ai(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function mn(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mx(t,a,s,n,c,d){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,L=t.expirationTimes,P=t.hiddenUpdates;for(s=y&~s;0<s;){var Z=31-wt(s),Q=1<<Z;w[Z]=0,L[Z]=-1;var V=P[Z];if(V!==null)for(P[Z]=null,Z=0;Z<V.length;Z++){var F=V[Z];F!==null&&(F.lane&=-536870913)}s&=~Q}n!==0&&ed(t,n,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~a))}function ed(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var n=31-wt(a);t.entangledLanes|=a,t.entanglements[n]=t.entanglements[n]|1073741824|s&4194090}function td(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var n=31-wt(s),c=1<<n;c&a|t[n]&a&&(t[n]|=a),s&=~c}}function si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ad(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:z0(t.type))}function Ex(t,a){var s=ee.p;try{return ee.p=t,a()}finally{ee.p=s}}var ya=Math.random().toString(36).slice(2),ot="__reactFiber$"+ya,xt="__reactProps$"+ya,gs="__reactContainer$"+ya,ri="__reactEvents$"+ya,Lx="__reactListeners$"+ya,Tx="__reactHandles$"+ya,sd="__reactResources$"+ya,hn="__reactMarker$"+ya;function li(t){delete t[ot],delete t[xt],delete t[ri],delete t[Lx],delete t[Tx]}function ys(t){var a=t[ot];if(a)return a;for(var s=t.parentNode;s;){if(a=s[gs]||s[ot]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=j0(t);t!==null;){if(s=t[ot])return s;t=j0(t)}return a}t=s,s=t.parentNode}return null}function bs(t){if(t=t[ot]||t[gs]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function xn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function js(t){var a=t[sd];return a||(a=t[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function et(t){t[hn]=!0}var nd=new Set,rd={};function Ka(t,a){vs(t,a),vs(t+"Capture",a)}function vs(t,a){for(rd[t]=a,t=0;t<a.length;t++)nd.add(a[t])}var Dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ld={},id={};function zx(t){return Il.call(id,t)?!0:Il.call(ld,t)?!1:Dx.test(t)?id[t]=!0:(ld[t]=!0,!1)}function Sr(t,a,s){if(zx(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function kr(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function ea(t,a,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+n)}}var ii,cd;function Ns(t){if(ii===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);ii=a&&a[1]||"",cd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+t+cd}var ci=!1;function oi(t,a){if(!t||ci)return"";ci=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(F){var V=F}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(F){V=F}t.call(Q.prototype)}}else{try{throw Error()}catch(F){V=F}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(F){if(F&&V&&typeof F.stack=="string")return[F.stack,V.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),y=d[0],w=d[1];if(y&&w){var L=y.split(`
`),P=w.split(`
`);for(c=n=0;n<L.length&&!L[n].includes("DetermineComponentFrameRoot");)n++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(n===L.length||c===P.length)for(n=L.length-1,c=P.length-1;1<=n&&0<=c&&L[n]!==P[c];)c--;for(;1<=n&&0<=c;n--,c--)if(L[n]!==P[c]){if(n!==1||c!==1)do if(n--,c--,0>c||L[n]!==P[c]){var Z=`
`+L[n].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=n&&0<=c);break}}}finally{ci=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ns(s):""}function Ox(t){switch(t.tag){case 26:case 27:case 5:return Ns(t.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 15:return oi(t.type,!1);case 11:return oi(t.type.render,!1);case 1:return oi(t.type,!0);case 31:return Ns("Activity");default:return""}}function od(t){try{var a="";do a+=Ox(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dd(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bx(t){var a=dd(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),n=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,d.call(this,y)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Cr(t){t._valueTracker||(t._valueTracker=Bx(t))}function ud(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return t&&(n=dd(t)?t.checked?"true":"false":t.value),t=n,t!==s?(a.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ux=/[\n"\\]/g;function Dt(t){return t.replace(Ux,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function di(t,a,s,n,c,d,y,w){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),a!=null?y==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Tt(a)):t.value!==""+Tt(a)&&(t.value=""+Tt(a)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),a!=null?ui(t,y,Tt(a)):s!=null?ui(t,y,Tt(s)):n!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Tt(w):t.removeAttribute("name")}function md(t,a,s,n,c,d,y,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;s=s!=null?""+Tt(s):"",a=a!=null?""+Tt(a):s,w||a===t.value||(t.value=a),t.defaultValue=a}n=n??c,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=w?t.checked:!!n,t.defaultChecked=!!n,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ui(t,a,s){a==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ws(t,a,s,n){if(t=t.options,a){a={};for(var c=0;c<s.length;c++)a["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=a.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Tt(s),a=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,n&&(t[c].defaultSelected=!0);return}a!==null||t[c].disabled||(a=t[c])}a!==null&&(a.selected=!0)}}function hd(t,a,s){if(a!=null&&(a=""+Tt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Tt(s):""}function xd(t,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(i(92));if(pe(n)){if(1<n.length)throw Error(i(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=Tt(a),t.defaultValue=s,n=t.textContent,n===s&&n!==""&&n!==null&&(t.value=n)}function _s(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var qx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(t,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":n?t.setProperty(a,s):typeof s!="number"||s===0||qx.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function pd(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var c in a)n=a[c],a.hasOwnProperty(c)&&s[c]!==n&&fd(t,c,n)}else for(var d in a)a.hasOwnProperty(d)&&fd(t,d,a[d])}function mi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(t){return Px.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function xi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,ks=null;function gd(t){var a=bs(t);if(a&&(t=a.stateNode)){var s=t[xt]||null;e:switch(t=a.stateNode,a.type){case"input":if(di(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Dt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==t&&n.form===t.form){var c=n[xt]||null;if(!c)throw Error(i(90));di(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===t.form&&ud(n)}break e;case"textarea":hd(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ws(t,!!s.multiple,a,!1)}}}var fi=!1;function yd(t,a,s){if(fi)return t(a,s);fi=!0;try{var n=t(a);return n}finally{if(fi=!1,(Ss!==null||ks!==null)&&(xl(),Ss&&(a=Ss,t=ks,ks=Ss=null,gd(a),t)))for(a=0;a<t.length;a++)gd(t[a])}}function fn(t,a){var s=t.stateNode;if(s===null)return null;var n=s[xt]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=!1;if(ta)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){pi=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{pi=!1}var ba=null,gi=null,Mr=null;function bd(){if(Mr)return Mr;var t,a=gi,s=a.length,n,c="value"in ba?ba.value:ba.textContent,d=c.length;for(t=0;t<s&&a[t]===c[t];t++);var y=s-t;for(n=1;n<=y&&a[s-n]===c[d-n];n++);return Mr=c.slice(t,1<n?1-n:void 0)}function Er(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Lr(){return!0}function jd(){return!1}function ft(t){function a(s,n,c,d,y){this._reactName=s,this._targetInst=c,this.type=n,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Lr:jd,this.isPropagationStopped=jd,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),a}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=ft(Ja),gn=g({},Ja,{view:0,detail:0}),Vx=ft(gn),yi,bi,yn,Dr=g({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yn&&(yn&&t.type==="mousemove"?(yi=t.screenX-yn.screenX,bi=t.screenY-yn.screenY):bi=yi=0,yn=t),yi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),vd=ft(Dr),Fx=g({},Dr,{dataTransfer:0}),Yx=ft(Fx),Gx=g({},gn,{relatedTarget:0}),ji=ft(Gx),$x=g({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Zx=ft($x),Wx=g({},Ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xx=ft(Wx),Qx=g({},Ja,{data:0}),Nd=ft(Qx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Ix[t])?!!a[t]:!1}function vi(){return ef}var tf=g({},gn,{key:function(t){if(t.key){var a=Kx[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),af=ft(tf),sf=g({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=ft(sf),nf=g({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),rf=ft(nf),lf=g({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),cf=ft(lf),of=g({},Dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),df=ft(of),uf=g({},Ja,{newState:0,oldState:0}),mf=ft(uf),hf=[9,13,27,32],Ni=ta&&"CompositionEvent"in window,bn=null;ta&&"documentMode"in document&&(bn=document.documentMode);var xf=ta&&"TextEvent"in window&&!bn,_d=ta&&(!Ni||bn&&8<bn&&11>=bn),Sd=" ",kd=!1;function Cd(t,a){switch(t){case"keyup":return hf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function ff(t,a){switch(t){case"compositionend":return Ad(a);case"keypress":return a.which!==32?null:(kd=!0,Sd);case"textInput":return t=a.data,t===Sd&&kd?null:t;default:return null}}function pf(t,a){if(Cs)return t==="compositionend"||!Ni&&Cd(t,a)?(t=bd(),Mr=gi=ba=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _d&&a.locale!=="ko"?null:a.data;default:return null}}var gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!gf[t.type]:a==="textarea"}function Md(t,a,s,n){Ss?ks?ks.push(n):ks=[n]:Ss=n,a=jl(a,"onChange"),0<a.length&&(s=new Tr("onChange","change",null,s,n),t.push({event:s,listeners:a}))}var jn=null,vn=null;function yf(t){d0(t,0)}function zr(t){var a=xn(t);if(ud(a))return t}function Ed(t,a){if(t==="change")return a}var Ld=!1;if(ta){var wi;if(ta){var _i="oninput"in document;if(!_i){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),_i=typeof Td.oninput=="function"}wi=_i}else wi=!1;Ld=wi&&(!document.documentMode||9<document.documentMode)}function Dd(){jn&&(jn.detachEvent("onpropertychange",zd),vn=jn=null)}function zd(t){if(t.propertyName==="value"&&zr(vn)){var a=[];Md(a,vn,t,xi(t)),yd(yf,a)}}function bf(t,a,s){t==="focusin"?(Dd(),jn=a,vn=s,jn.attachEvent("onpropertychange",zd)):t==="focusout"&&Dd()}function jf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zr(vn)}function vf(t,a){if(t==="click")return zr(a)}function Nf(t,a){if(t==="input"||t==="change")return zr(a)}function wf(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var _t=typeof Object.is=="function"?Object.is:wf;function Nn(t,a){if(_t(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var c=s[n];if(!Il.call(a,c)||!_t(t[c],a[c]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bd(t,a){var s=Od(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=a&&n>=a)return{node:s,offset:a-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Od(s)}}function Ud(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Ud(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ar(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Ar(t.document)}return a}function Si(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var _f=ta&&"documentMode"in document&&11>=document.documentMode,As=null,ki=null,wn=null,Ci=!1;function Hd(t,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ci||As==null||As!==Ar(n)||(n=As,"selectionStart"in n&&Si(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wn&&Nn(wn,n)||(wn=n,n=jl(ki,"onSelect"),0<n.length&&(a=new Tr("onSelect","select",null,a,s),t.push({event:a,listeners:n}),a.target=As)))}function Ia(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Rs={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Ai={},Pd={};ta&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function es(t){if(Ai[t])return Ai[t];if(!Rs[t])return t;var a=Rs[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Pd)return Ai[t]=a[s];return t}var Vd=es("animationend"),Fd=es("animationiteration"),Yd=es("animationstart"),Sf=es("transitionrun"),kf=es("transitionstart"),Cf=es("transitioncancel"),Gd=es("transitionend"),$d=new Map,Ri="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ri.push("scrollEnd");function Vt(t,a){$d.set(t,a),Ka(a,[t])}var Zd=new WeakMap;function zt(t,a){if(typeof t=="object"&&t!==null){var s=Zd.get(t);return s!==void 0?s:(a={value:t,source:a,stack:od(a)},Zd.set(t,a),a)}return{value:t,source:a,stack:od(a)}}var Ot=[],Ms=0,Mi=0;function Or(){for(var t=Ms,a=Mi=Ms=0;a<t;){var s=Ot[a];Ot[a++]=null;var n=Ot[a];Ot[a++]=null;var c=Ot[a];Ot[a++]=null;var d=Ot[a];if(Ot[a++]=null,n!==null&&c!==null){var y=n.pending;y===null?c.next=c:(c.next=y.next,y.next=c),n.pending=c}d!==0&&Wd(s,c,d)}}function Br(t,a,s,n){Ot[Ms++]=t,Ot[Ms++]=a,Ot[Ms++]=s,Ot[Ms++]=n,Mi|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function Ei(t,a,s,n){return Br(t,a,s,n),Ur(t)}function Es(t,a){return Br(t,null,null,a),Ur(t)}function Wd(t,a,s){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s);for(var c=!1,d=t.return;d!==null;)d.childLanes|=s,n=d.alternate,n!==null&&(n.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&a!==null&&(c=31-wt(s),t=d.hiddenUpdates,n=t[c],n===null?t[c]=[a]:n.push(a),a.lane=s|536870912),d):null}function Ur(t){if(50<Wn)throw Wn=0,Bc=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ls={};function Af(t,a,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,a,s,n){return new Af(t,a,s,n)}function Li(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aa(t,a){var s=t.alternate;return s===null?(s=St(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Xd(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function qr(t,a,s,n,c,d){var y=0;if(n=t,typeof t=="function")Li(t)&&(y=1);else if(typeof t=="string")y=Mp(t,s,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=St(31,s,a,c),t.elementType=J,t.lanes=d,t;case R:return ts(s.children,c,d,a);case A:y=8,c|=24;break;case j:return t=St(12,s,a,c|2),t.elementType=j,t.lanes=d,t;case v:return t=St(13,s,a,c),t.elementType=v,t.lanes=d,t;case H:return t=St(19,s,a,c),t.elementType=H,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case _:y=10;break e;case S:y=9;break e;case E:y=11;break e;case q:y=14;break e;case $:y=16,n=null;break e}y=29,s=Error(i(130,t===null?"null":typeof t,"")),n=null}return a=St(y,s,a,c),a.elementType=t,a.type=n,a.lanes=d,a}function ts(t,a,s,n){return t=St(7,t,n,a),t.lanes=s,t}function Ti(t,a,s){return t=St(6,t,null,a),t.lanes=s,t}function Di(t,a,s){return a=St(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Ts=[],Ds=0,Hr=null,Pr=0,Bt=[],Ut=0,as=null,sa=1,na="";function ss(t,a){Ts[Ds++]=Pr,Ts[Ds++]=Hr,Hr=t,Pr=a}function Qd(t,a,s){Bt[Ut++]=sa,Bt[Ut++]=na,Bt[Ut++]=as,as=t;var n=sa;t=na;var c=32-wt(n)-1;n&=~(1<<c),s+=1;var d=32-wt(a)+c;if(30<d){var y=c-c%5;d=(n&(1<<y)-1).toString(32),n>>=y,c-=y,sa=1<<32-wt(a)+c|s<<c|n,na=d+t}else sa=1<<d|s<<c|n,na=t}function zi(t){t.return!==null&&(ss(t,1),Qd(t,1,0))}function Oi(t){for(;t===Hr;)Hr=Ts[--Ds],Ts[Ds]=null,Pr=Ts[--Ds],Ts[Ds]=null;for(;t===as;)as=Bt[--Ut],Bt[Ut]=null,na=Bt[--Ut],Bt[Ut]=null,sa=Bt[--Ut],Bt[Ut]=null}var ht=null,Fe=null,Ae=!1,ns=null,Zt=!1,Bi=Error(i(519));function rs(t){var a=Error(i(418,""));throw kn(zt(a,t)),Bi}function Kd(t){var a=t.stateNode,s=t.type,n=t.memoizedProps;switch(a[ot]=t,a[xt]=n,s){case"dialog":_e("cancel",a),_e("close",a);break;case"iframe":case"object":case"embed":_e("load",a);break;case"video":case"audio":for(s=0;s<Qn.length;s++)_e(Qn[s],a);break;case"source":_e("error",a);break;case"img":case"image":case"link":_e("error",a),_e("load",a);break;case"details":_e("toggle",a);break;case"input":_e("invalid",a),md(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Cr(a);break;case"select":_e("invalid",a);break;case"textarea":_e("invalid",a),xd(a,n.value,n.defaultValue,n.children),Cr(a)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||x0(a.textContent,s)?(n.popover!=null&&(_e("beforetoggle",a),_e("toggle",a)),n.onScroll!=null&&_e("scroll",a),n.onScrollEnd!=null&&_e("scrollend",a),n.onClick!=null&&(a.onclick=vl),a=!0):a=!1,a||rs(t)}function Jd(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ht=ht.return}}function _n(t){if(t!==ht)return!1;if(!Ae)return Jd(t),Ae=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ic(t.type,t.memoizedProps)),s=!s),s&&Fe&&rs(t),Jd(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){Fe=Yt(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}Fe=null}}else a===27?(a=Fe,za(t.type)?(t=so,so=null,Fe=t):Fe=a):Fe=ht?Yt(t.stateNode.nextSibling):null;return!0}function Sn(){Fe=ht=null,Ae=!1}function Id(){var t=ns;return t!==null&&(yt===null?yt=t:yt.push.apply(yt,t),ns=null),t}function kn(t){ns===null?ns=[t]:ns.push(t)}var Ui=K(null),ls=null,ra=null;function ja(t,a,s){te(Ui,a._currentValue),a._currentValue=s}function la(t){t._currentValue=Ui.current,se(Ui)}function qi(t,a,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),t===s)break;t=t.return}}function Hi(t,a,s,n){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=c;for(var L=0;L<a.length;L++)if(w.context===a[L]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),qi(d.return,s,t),n||(y=null);break e}d=w.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(i(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),qi(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Cn(t,a,s,n){t=null;for(var c=a,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var w=c.type;_t(c.pendingProps.value,y.value)||(t!==null?t.push(w):t=[w])}}else if(c===vt.current){if(y=c.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ar):t=[ar])}c=c.return}t!==null&&Hi(a,t,s,n),a.flags|=262144}function Vr(t){for(t=t.firstContext;t!==null;){if(!_t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){ls=t,ra=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return eu(ls,t)}function Fr(t,a){return ls===null&&is(t),eu(t,a)}function eu(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ra===null){if(t===null)throw Error(i(308));ra=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ra=ra.next=a;return s}var Rf=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,n){t.push(n)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Mf=r.unstable_scheduleCallback,Ef=r.unstable_NormalPriority,Je={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Rf,data:new Map,refCount:0}}function An(t){t.refCount--,t.refCount===0&&Mf(Ef,function(){t.controller.abort()})}var Rn=null,Vi=0,zs=0,Os=null;function Lf(t,a){if(Rn===null){var s=Rn=[];Vi=0,zs=Yc(),Os={status:"pending",value:void 0,then:function(n){s.push(n)}}}return Vi++,a.then(tu,tu),a}function tu(){if(--Vi===0&&Rn!==null){Os!==null&&(Os.status="fulfilled");var t=Rn;Rn=null,zs=0,Os=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Tf(t,a){var s=[],n={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){n.status="fulfilled",n.value=a;for(var c=0;c<s.length;c++)(0,s[c])(a)},function(c){for(n.status="rejected",n.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),n}var au=G.S;G.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Lf(t,a),au!==null&&au(t,a)};var cs=K(null);function Fi(){var t=cs.current;return t!==null?t:qe.pooledCache}function Yr(t,a){a===null?te(cs,cs.current):te(cs,a.pool)}function su(){var t=Fi();return t===null?null:{parent:Je._currentValue,pool:t}}var Mn=Error(i(460)),nu=Error(i(474)),Gr=Error(i(542)),Yi={then:function(){}};function ru(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $r(){}function lu(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then($r,$r),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,cu(t),t;default:if(typeof a.status=="string")a.then($r,$r);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(n){if(a.status==="pending"){var c=a;c.status="fulfilled",c.value=n}},function(n){if(a.status==="pending"){var c=a;c.status="rejected",c.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,cu(t),t}throw En=a,Mn}}var En=null;function iu(){if(En===null)throw Error(i(459));var t=En;return En=null,t}function cu(t){if(t===Mn||t===Gr)throw Error(i(483))}var va=!1;function Gi(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $i(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wa(t,a,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Ee&2)!==0){var c=n.pending;return c===null?a.next=a:(a.next=c.next,c.next=a),n.pending=a,a=Ur(t),Wd(t,null,s),a}return Br(t,n,a,s),Ur(t)}function Ln(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,td(t,s)}}function Zi(t,a){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?c=d=a:d=d.next=a}else c=d=a;s={baseState:n.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Wi=!1;function Tn(){if(Wi){var t=Os;if(t!==null)throw t}}function Dn(t,a,s,n){Wi=!1;var c=t.updateQueue;va=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var L=w,P=L.next;L.next=null,y===null?d=P:y.next=P,y=L;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==y&&(w===null?Z.firstBaseUpdate=P:w.next=P,Z.lastBaseUpdate=L))}if(d!==null){var Q=c.baseState;y=0,Z=P=L=null,w=d;do{var V=w.lane&-536870913,F=V!==w.lane;if(F?(Se&V)===V:(n&V)===V){V!==0&&V===zs&&(Wi=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,ue=w;V=a;var ze=s;switch(ue.tag){case 1:if(he=ue.payload,typeof he=="function"){Q=he.call(ze,Q,V);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ue.payload,V=typeof he=="function"?he.call(ze,Q,V):he,V==null)break e;Q=g({},Q,V);break e;case 2:va=!0}}V=w.callback,V!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[V]:F.push(V))}else F={lane:V,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(P=Z=F,L=Q):Z=Z.next=F,y|=V;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;F=w,w=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Z===null&&(L=Q),c.baseState=L,c.firstBaseUpdate=P,c.lastBaseUpdate=Z,d===null&&(c.shared.lanes=0),Ea|=y,t.lanes=y,t.memoizedState=Q}}function ou(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function du(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ou(s[t],a)}var Bs=K(null),Zr=K(0);function uu(t,a){t=ha,te(Zr,t),te(Bs,a),ha=t|a.baseLanes}function Xi(){te(Zr,ha),te(Bs,Bs.current)}function Qi(){ha=Zr.current,se(Bs),se(Zr)}var _a=0,ve=null,Te=null,Qe=null,Wr=!1,Us=!1,os=!1,Xr=0,zn=0,qs=null,Df=0;function $e(){throw Error(i(321))}function Ki(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!_t(t[s],a[s]))return!1;return!0}function Ji(t,a,s,n,c,d){return _a=d,ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=t===null||t.memoizedState===null?Wu:Xu,os=!1,d=s(n,c),os=!1,Us&&(d=hu(a,s,n,c)),mu(t),d}function mu(t){G.H=tl;var a=Te!==null&&Te.next!==null;if(_a=0,Qe=Te=ve=null,Wr=!1,zn=0,qs=null,a)throw Error(i(300));t===null||tt||(t=t.dependencies,t!==null&&Vr(t)&&(tt=!0))}function hu(t,a,s,n){ve=t;var c=0;do{if(Us&&(qs=null),zn=0,Us=!1,25<=c)throw Error(i(301));if(c+=1,Qe=Te=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Pf,d=a(s,n)}while(Us);return d}function zf(){var t=G.H,a=t.useState()[0];return a=typeof a.then=="function"?On(a):a,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(ve.flags|=1024),a}function Ii(){var t=Xr!==0;return Xr=0,t}function ec(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function tc(t){if(Wr){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Wr=!1}_a=0,Qe=Te=ve=null,Us=!1,zn=Xr=0,qs=null}function pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ve.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ke(){if(Te===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var a=Qe===null?ve.memoizedState:Qe.next;if(a!==null)Qe=a,Te=t;else{if(t===null)throw ve.alternate===null?Error(i(467)):Error(i(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?ve.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function On(t){var a=zn;return zn+=1,qs===null&&(qs=[]),t=lu(qs,t,a),a=ve,(Qe===null?a.memoizedState:Qe.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?Wu:Xu),t}function Qr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return On(t);if(t.$$typeof===_)return dt(t)}throw Error(i(438,String(t)))}function sc(t){var a=null,s=ve.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=ve.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(c){return c.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=ac(),ve.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),n=0;n<t;n++)s[n]=W;return a.index++,s}function ia(t,a){return typeof a=="function"?a(t):a}function Kr(t){var a=Ke();return nc(a,Te,t)}function nc(t,a,s){var n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=s;var c=t.baseQueue,d=n.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}a.baseQueue=c=d,n.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{a=c.next;var w=y=null,L=null,P=a,Z=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Se&Q)===Q:(_a&Q)===Q){var V=P.revertLane;if(V===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===zs&&(Z=!0);else if((_a&V)===V){P=P.next,V===zs&&(Z=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},L===null?(w=L=Q,y=d):L=L.next=Q,ve.lanes|=V,Ea|=V;Q=P.action,os&&s(d,Q),d=P.hasEagerState?P.eagerState:s(d,Q)}else V={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},L===null?(w=L=V,y=d):L=L.next=V,ve.lanes|=Q,Ea|=Q;P=P.next}while(P!==null&&P!==a);if(L===null?y=d:L.next=w,!_t(d,t.memoizedState)&&(tt=!0,Z&&(s=Os,s!==null)))throw s;t.memoizedState=d,t.baseState=y,t.baseQueue=L,n.lastRenderedState=d}return c===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function rc(t){var a=Ke(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var n=s.dispatch,c=s.pending,d=a.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do d=t(d,y.action),y=y.next;while(y!==c);_t(d,a.memoizedState)||(tt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,n]}function xu(t,a,s){var n=ve,c=Ke(),d=Ae;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=a();var y=!_t((Te||c).memoizedState,s);y&&(c.memoizedState=s,tt=!0),c=c.queue;var w=gu.bind(null,n,c,t);if(Bn(2048,8,w,[t]),c.getSnapshot!==a||y||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Hs(9,Jr(),pu.bind(null,n,c,s,a),null),qe===null)throw Error(i(349));d||(_a&124)!==0||fu(n,a,s)}return s}function fu(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=ve.updateQueue,a===null?(a=ac(),ve.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function pu(t,a,s,n){a.value=s,a.getSnapshot=n,yu(a)&&bu(t)}function gu(t,a,s){return s(function(){yu(a)&&bu(t)})}function yu(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!_t(t,s)}catch{return!0}}function bu(t){var a=Es(t,2);a!==null&&Mt(a,t,2)}function lc(t){var a=pt();if(typeof t=="function"){var s=t;if(t=s(),os){ga(!0);try{s()}finally{ga(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:t},a}function ju(t,a,s,n){return t.baseState=s,nc(t,Te,typeof n=="function"?n:ia)}function Of(t,a,s,n,c){if(el(t))throw Error(i(485));if(t=a.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};G.T!==null?s(!0):d.isTransition=!1,n(d),s=a.pending,s===null?(d.next=a.pending=d,vu(a,d)):(d.next=s.next,a.pending=s.next=d)}}function vu(t,a){var s=a.action,n=a.payload,c=t.state;if(a.isTransition){var d=G.T,y={};G.T=y;try{var w=s(c,n),L=G.S;L!==null&&L(y,w),Nu(t,a,w)}catch(P){ic(t,a,P)}finally{G.T=d}}else try{d=s(c,n),Nu(t,a,d)}catch(P){ic(t,a,P)}}function Nu(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){wu(t,a,n)},function(n){return ic(t,a,n)}):wu(t,a,s)}function wu(t,a,s){a.status="fulfilled",a.value=s,_u(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,vu(t,s)))}function ic(t,a,s){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,_u(a),a=a.next;while(a!==n)}t.action=null}function _u(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Su(t,a){return a}function ku(t,a){if(Ae){var s=qe.formState;if(s!==null){e:{var n=ve;if(Ae){if(Fe){t:{for(var c=Fe,d=Zt;c.nodeType!==8;){if(!d){c=null;break t}if(c=Yt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Fe=Yt(c.nextSibling),n=c.data==="F!";break e}}rs(n)}n=!1}n&&(a=s[0])}}return s=pt(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:a},s.queue=n,s=Gu.bind(null,ve,n),n.dispatch=s,n=lc(!1),d=mc.bind(null,ve,!1,n.queue),n=pt(),c={state:a,dispatch:null,action:t,pending:null},n.queue=c,s=Of.bind(null,ve,c,d,s),c.dispatch=s,n.memoizedState=t,[a,s,!1]}function Cu(t){var a=Ke();return Au(a,Te,t)}function Au(t,a,s){if(a=nc(t,a,Su)[0],t=Kr(ia)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=On(a)}catch(y){throw y===Mn?Gr:y}else n=a;a=Ke();var c=a.queue,d=c.dispatch;return s!==a.memoizedState&&(ve.flags|=2048,Hs(9,Jr(),Bf.bind(null,c,s),null)),[n,d,t]}function Bf(t,a){t.action=a}function Ru(t){var a=Ke(),s=Te;if(s!==null)return Au(a,s,t);Ke(),a=a.memoizedState,s=Ke();var n=s.queue.dispatch;return s.memoizedState=t,[a,n,!1]}function Hs(t,a,s,n){return t={tag:t,create:s,deps:n,inst:a,next:null},a=ve.updateQueue,a===null&&(a=ac(),ve.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,a.lastEffect=t),t}function Jr(){return{destroy:void 0,resource:void 0}}function Mu(){return Ke().memoizedState}function Ir(t,a,s,n){var c=pt();n=n===void 0?null:n,ve.flags|=t,c.memoizedState=Hs(1|a,Jr(),s,n)}function Bn(t,a,s,n){var c=Ke();n=n===void 0?null:n;var d=c.memoizedState.inst;Te!==null&&n!==null&&Ki(n,Te.memoizedState.deps)?c.memoizedState=Hs(a,d,s,n):(ve.flags|=t,c.memoizedState=Hs(1|a,d,s,n))}function Eu(t,a){Ir(8390656,8,t,a)}function Lu(t,a){Bn(2048,8,t,a)}function Tu(t,a){return Bn(4,2,t,a)}function Du(t,a){return Bn(4,4,t,a)}function zu(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ou(t,a,s){s=s!=null?s.concat([t]):null,Bn(4,4,zu.bind(null,a,t),s)}function cc(){}function Bu(t,a){var s=Ke();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&Ki(a,n[1])?n[0]:(s.memoizedState=[t,a],t)}function Uu(t,a){var s=Ke();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&Ki(a,n[1]))return n[0];if(n=t(),os){ga(!0);try{t()}finally{ga(!1)}}return s.memoizedState=[n,a],n}function oc(t,a,s){return s===void 0||(_a&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=Pm(),ve.lanes|=t,Ea|=t,s)}function qu(t,a,s,n){return _t(s,a)?s:Bs.current!==null?(t=oc(t,s,n),_t(t,a)||(tt=!0),t):(_a&42)===0?(tt=!0,t.memoizedState=s):(t=Pm(),ve.lanes|=t,Ea|=t,a)}function Hu(t,a,s,n,c){var d=ee.p;ee.p=d!==0&&8>d?d:8;var y=G.T,w={};G.T=w,mc(t,!1,a,s);try{var L=c(),P=G.S;if(P!==null&&P(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=Tf(L,n);Un(t,a,Z,Rt(t))}else Un(t,a,n,Rt(t))}catch(Q){Un(t,a,{then:function(){},status:"rejected",reason:Q},Rt())}finally{ee.p=d,G.T=y}}function Uf(){}function dc(t,a,s,n){if(t.tag!==5)throw Error(i(476));var c=Pu(t).queue;Hu(t,c,a,oe,s===null?Uf:function(){return Vu(t),s(n)})}function Pu(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:oe},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Vu(t){var a=Pu(t).next.queue;Un(t,a,{},Rt())}function uc(){return dt(ar)}function Fu(){return Ke().memoizedState}function Yu(){return Ke().memoizedState}function qf(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Rt();t=Na(s);var n=wa(a,t,s);n!==null&&(Mt(n,a,s),Ln(n,a,s)),a={cache:Pi()},t.payload=a;return}a=a.return}}function Hf(t,a,s){var n=Rt();s={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},el(t)?$u(a,s):(s=Ei(t,a,s,n),s!==null&&(Mt(s,t,n),Zu(s,a,n)))}function Gu(t,a,s){var n=Rt();Un(t,a,s,n)}function Un(t,a,s,n){var c={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(el(t))$u(a,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var y=a.lastRenderedState,w=d(y,s);if(c.hasEagerState=!0,c.eagerState=w,_t(w,y))return Br(t,a,c,0),qe===null&&Or(),!1}catch{}finally{}if(s=Ei(t,a,c,n),s!==null)return Mt(s,t,n),Zu(s,a,n),!0}return!1}function mc(t,a,s,n){if(n={lane:2,revertLane:Yc(),action:n,hasEagerState:!1,eagerState:null,next:null},el(t)){if(a)throw Error(i(479))}else a=Ei(t,s,n,2),a!==null&&Mt(a,t,2)}function el(t){var a=t.alternate;return t===ve||a!==null&&a===ve}function $u(t,a){Us=Wr=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Zu(t,a,s){if((s&4194048)!==0){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,td(t,s)}}var tl={readContext:dt,use:Qr,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e},Wu={readContext:dt,use:Qr,useCallback:function(t,a){return pt().memoizedState=[t,a===void 0?null:a],t},useContext:dt,useEffect:Eu,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Ir(4194308,4,zu.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Ir(4194308,4,t,a)},useInsertionEffect:function(t,a){Ir(4,2,t,a)},useMemo:function(t,a){var s=pt();a=a===void 0?null:a;var n=t();if(os){ga(!0);try{t()}finally{ga(!1)}}return s.memoizedState=[n,a],n},useReducer:function(t,a,s){var n=pt();if(s!==void 0){var c=s(a);if(os){ga(!0);try{s(a)}finally{ga(!1)}}}else c=a;return n.memoizedState=n.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},n.queue=t,t=t.dispatch=Hf.bind(null,ve,t),[n.memoizedState,t]},useRef:function(t){var a=pt();return t={current:t},a.memoizedState=t},useState:function(t){t=lc(t);var a=t.queue,s=Gu.bind(null,ve,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:cc,useDeferredValue:function(t,a){var s=pt();return oc(s,t,a)},useTransition:function(){var t=lc(!1);return t=Hu.bind(null,ve,t.queue,!0,!1),pt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var n=ve,c=pt();if(Ae){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),qe===null)throw Error(i(349));(Se&124)!==0||fu(n,a,s)}c.memoizedState=s;var d={value:s,getSnapshot:a};return c.queue=d,Eu(gu.bind(null,n,d,t),[t]),n.flags|=2048,Hs(9,Jr(),pu.bind(null,n,d,s,a),null),s},useId:function(){var t=pt(),a=qe.identifierPrefix;if(Ae){var s=na,n=sa;s=(n&~(1<<32-wt(n)-1)).toString(32)+s,a=""+a+"R"+s,s=Xr++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=Df++,a=""+a+"r"+s.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:uc,useFormState:ku,useActionState:ku,useOptimistic:function(t){var a=pt();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=mc.bind(null,ve,!0,s),s.dispatch=a,[t,a]},useMemoCache:sc,useCacheRefresh:function(){return pt().memoizedState=qf.bind(null,ve)}},Xu={readContext:dt,use:Qr,useCallback:Bu,useContext:dt,useEffect:Lu,useImperativeHandle:Ou,useInsertionEffect:Tu,useLayoutEffect:Du,useMemo:Uu,useReducer:Kr,useRef:Mu,useState:function(){return Kr(ia)},useDebugValue:cc,useDeferredValue:function(t,a){var s=Ke();return qu(s,Te.memoizedState,t,a)},useTransition:function(){var t=Kr(ia)[0],a=Ke().memoizedState;return[typeof t=="boolean"?t:On(t),a]},useSyncExternalStore:xu,useId:Fu,useHostTransitionStatus:uc,useFormState:Cu,useActionState:Cu,useOptimistic:function(t,a){var s=Ke();return ju(s,Te,t,a)},useMemoCache:sc,useCacheRefresh:Yu},Pf={readContext:dt,use:Qr,useCallback:Bu,useContext:dt,useEffect:Lu,useImperativeHandle:Ou,useInsertionEffect:Tu,useLayoutEffect:Du,useMemo:Uu,useReducer:rc,useRef:Mu,useState:function(){return rc(ia)},useDebugValue:cc,useDeferredValue:function(t,a){var s=Ke();return Te===null?oc(s,t,a):qu(s,Te.memoizedState,t,a)},useTransition:function(){var t=rc(ia)[0],a=Ke().memoizedState;return[typeof t=="boolean"?t:On(t),a]},useSyncExternalStore:xu,useId:Fu,useHostTransitionStatus:uc,useFormState:Ru,useActionState:Ru,useOptimistic:function(t,a){var s=Ke();return Te!==null?ju(s,Te,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Yu},Ps=null,qn=0;function al(t){var a=qn;return qn+=1,Ps===null&&(Ps=[]),lu(Ps,t,a)}function Hn(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function sl(t,a){throw a.$$typeof===p?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Qu(t){var a=t._init;return a(t._payload)}function Ku(t){function a(z,D){if(t){var U=z.deletions;U===null?(z.deletions=[D],z.flags|=16):U.push(D)}}function s(z,D){if(!t)return null;for(;D!==null;)a(z,D),D=D.sibling;return null}function n(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function c(z,D){return z=aa(z,D),z.index=0,z.sibling=null,z}function d(z,D,U){return z.index=U,t?(U=z.alternate,U!==null?(U=U.index,U<D?(z.flags|=67108866,D):U):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function y(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,D,U,X){return D===null||D.tag!==6?(D=Ti(U,z.mode,X),D.return=z,D):(D=c(D,U),D.return=z,D)}function L(z,D,U,X){var re=U.type;return re===R?Z(z,D,U.props.children,X,U.key):D!==null&&(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===$&&Qu(re)===D.type)?(D=c(D,U.props),Hn(D,U),D.return=z,D):(D=qr(U.type,U.key,U.props,null,z.mode,X),Hn(D,U),D.return=z,D)}function P(z,D,U,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Di(U,z.mode,X),D.return=z,D):(D=c(D,U.children||[]),D.return=z,D)}function Z(z,D,U,X,re){return D===null||D.tag!==7?(D=ts(U,z.mode,X,re),D.return=z,D):(D=c(D,U),D.return=z,D)}function Q(z,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ti(""+D,z.mode,U),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return U=qr(D.type,D.key,D.props,null,z.mode,U),Hn(U,D),U.return=z,U;case M:return D=Di(D,z.mode,U),D.return=z,D;case $:var X=D._init;return D=X(D._payload),Q(z,D,U)}if(pe(D)||ae(D))return D=ts(D,z.mode,U,null),D.return=z,D;if(typeof D.then=="function")return Q(z,al(D),U);if(D.$$typeof===_)return Q(z,Fr(z,D),U);sl(z,D)}return null}function V(z,D,U,X){var re=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:w(z,D,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===re?L(z,D,U,X):null;case M:return U.key===re?P(z,D,U,X):null;case $:return re=U._init,U=re(U._payload),V(z,D,U,X)}if(pe(U)||ae(U))return re!==null?null:Z(z,D,U,X,null);if(typeof U.then=="function")return V(z,D,al(U),X);if(U.$$typeof===_)return V(z,D,Fr(z,U),X);sl(z,U)}return null}function F(z,D,U,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(U)||null,w(D,z,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return z=z.get(X.key===null?U:X.key)||null,L(D,z,X,re);case M:return z=z.get(X.key===null?U:X.key)||null,P(D,z,X,re);case $:var Ne=X._init;return X=Ne(X._payload),F(z,D,U,X,re)}if(pe(X)||ae(X))return z=z.get(U)||null,Z(D,z,X,re,null);if(typeof X.then=="function")return F(z,D,U,al(X),re);if(X.$$typeof===_)return F(z,D,U,Fr(D,X),re);sl(D,X)}return null}function he(z,D,U,X){for(var re=null,Ne=null,le=D,me=D=0,st=null;le!==null&&me<U.length;me++){le.index>me?(st=le,le=null):st=le.sibling;var Ce=V(z,le,U[me],X);if(Ce===null){le===null&&(le=st);break}t&&le&&Ce.alternate===null&&a(z,le),D=d(Ce,D,me),Ne===null?re=Ce:Ne.sibling=Ce,Ne=Ce,le=st}if(me===U.length)return s(z,le),Ae&&ss(z,me),re;if(le===null){for(;me<U.length;me++)le=Q(z,U[me],X),le!==null&&(D=d(le,D,me),Ne===null?re=le:Ne.sibling=le,Ne=le);return Ae&&ss(z,me),re}for(le=n(le);me<U.length;me++)st=F(le,z,me,U[me],X),st!==null&&(t&&st.alternate!==null&&le.delete(st.key===null?me:st.key),D=d(st,D,me),Ne===null?re=st:Ne.sibling=st,Ne=st);return t&&le.forEach(function(Ha){return a(z,Ha)}),Ae&&ss(z,me),re}function ue(z,D,U,X){if(U==null)throw Error(i(151));for(var re=null,Ne=null,le=D,me=D=0,st=null,Ce=U.next();le!==null&&!Ce.done;me++,Ce=U.next()){le.index>me?(st=le,le=null):st=le.sibling;var Ha=V(z,le,Ce.value,X);if(Ha===null){le===null&&(le=st);break}t&&le&&Ha.alternate===null&&a(z,le),D=d(Ha,D,me),Ne===null?re=Ha:Ne.sibling=Ha,Ne=Ha,le=st}if(Ce.done)return s(z,le),Ae&&ss(z,me),re;if(le===null){for(;!Ce.done;me++,Ce=U.next())Ce=Q(z,Ce.value,X),Ce!==null&&(D=d(Ce,D,me),Ne===null?re=Ce:Ne.sibling=Ce,Ne=Ce);return Ae&&ss(z,me),re}for(le=n(le);!Ce.done;me++,Ce=U.next())Ce=F(le,z,me,Ce.value,X),Ce!==null&&(t&&Ce.alternate!==null&&le.delete(Ce.key===null?me:Ce.key),D=d(Ce,D,me),Ne===null?re=Ce:Ne.sibling=Ce,Ne=Ce);return t&&le.forEach(function(Vp){return a(z,Vp)}),Ae&&ss(z,me),re}function ze(z,D,U,X){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:e:{for(var re=U.key;D!==null;){if(D.key===re){if(re=U.type,re===R){if(D.tag===7){s(z,D.sibling),X=c(D,U.props.children),X.return=z,z=X;break e}}else if(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===$&&Qu(re)===D.type){s(z,D.sibling),X=c(D,U.props),Hn(X,U),X.return=z,z=X;break e}s(z,D);break}else a(z,D);D=D.sibling}U.type===R?(X=ts(U.props.children,z.mode,X,U.key),X.return=z,z=X):(X=qr(U.type,U.key,U.props,null,z.mode,X),Hn(X,U),X.return=z,z=X)}return y(z);case M:e:{for(re=U.key;D!==null;){if(D.key===re)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){s(z,D.sibling),X=c(D,U.children||[]),X.return=z,z=X;break e}else{s(z,D);break}else a(z,D);D=D.sibling}X=Di(U,z.mode,X),X.return=z,z=X}return y(z);case $:return re=U._init,U=re(U._payload),ze(z,D,U,X)}if(pe(U))return he(z,D,U,X);if(ae(U)){if(re=ae(U),typeof re!="function")throw Error(i(150));return U=re.call(U),ue(z,D,U,X)}if(typeof U.then=="function")return ze(z,D,al(U),X);if(U.$$typeof===_)return ze(z,D,Fr(z,U),X);sl(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(s(z,D.sibling),X=c(D,U),X.return=z,z=X):(s(z,D),X=Ti(U,z.mode,X),X.return=z,z=X),y(z)):s(z,D)}return function(z,D,U,X){try{qn=0;var re=ze(z,D,U,X);return Ps=null,re}catch(le){if(le===Mn||le===Gr)throw le;var Ne=St(29,le,null,z.mode);return Ne.lanes=X,Ne.return=z,Ne}finally{}}}var Vs=Ku(!0),Ju=Ku(!1),qt=K(null),Wt=null;function Sa(t){var a=t.alternate;te(Ie,Ie.current&1),te(qt,t),Wt===null&&(a===null||Bs.current!==null||a.memoizedState!==null)&&(Wt=t)}function Iu(t){if(t.tag===22){if(te(Ie,Ie.current),te(qt,t),Wt===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(Wt=t)}}else ka()}function ka(){te(Ie,Ie.current),te(qt,qt.current)}function ca(t){se(qt),Wt===t&&(Wt=null),se(Ie)}var Ie=K(0);function nl(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ao(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function hc(t,a,s,n){a=t.memoizedState,s=s(n,a),s=s==null?a:g({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var xc={enqueueSetState:function(t,a,s){t=t._reactInternals;var n=Rt(),c=Na(n);c.payload=a,s!=null&&(c.callback=s),a=wa(t,c,n),a!==null&&(Mt(a,t,n),Ln(a,t,n))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var n=Rt(),c=Na(n);c.tag=1,c.payload=a,s!=null&&(c.callback=s),a=wa(t,c,n),a!==null&&(Mt(a,t,n),Ln(a,t,n))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Rt(),n=Na(s);n.tag=2,a!=null&&(n.callback=a),a=wa(t,n,s),a!==null&&(Mt(a,t,s),Ln(a,t,s))}};function em(t,a,s,n,c,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,d,y):a.prototype&&a.prototype.isPureReactComponent?!Nn(s,n)||!Nn(c,d):!0}function tm(t,a,s,n){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==t&&xc.enqueueReplaceState(a,a.state,null)}function ds(t,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(t=t.defaultProps){s===a&&(s=g({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var rl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function am(t){rl(t)}function sm(t){console.error(t)}function nm(t){rl(t)}function ll(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function rm(t,a,s){try{var n=t.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function fc(t,a,s){return s=Na(s),s.tag=3,s.payload={element:null},s.callback=function(){ll(t,a)},s}function lm(t){return t=Na(t),t.tag=3,t}function im(t,a,s,n){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=n.value;t.payload=function(){return c(d)},t.callback=function(){rm(a,s,n)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){rm(a,s,n),typeof c!="function"&&(La===null?La=new Set([this]):La.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})})}function Vf(t,a,s,n,c){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&Cn(a,s,c,!0),s=qt.current,s!==null){switch(s.tag){case 13:return Wt===null?qc():s.alternate===null&&Ye===0&&(Ye=3),s.flags&=-257,s.flags|=65536,s.lanes=c,n===Yi?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),Pc(t,n,c)),!1;case 22:return s.flags|=65536,n===Yi?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),Pc(t,n,c)),!1}throw Error(i(435,s.tag))}return Pc(t,n,c),qc(),!1}if(Ae)return a=qt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=c,n!==Bi&&(t=Error(i(422),{cause:n}),kn(zt(t,s)))):(n!==Bi&&(a=Error(i(423),{cause:n}),kn(zt(a,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,n=zt(n,s),c=fc(t.stateNode,n,c),Zi(t,c),Ye!==4&&(Ye=2)),!1;var d=Error(i(520),{cause:n});if(d=zt(d,s),Zn===null?Zn=[d]:Zn.push(d),Ye!==4&&(Ye=2),a===null)return!0;n=zt(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=fc(s.stateNode,n,t),Zi(s,t),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(La===null||!La.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=lm(c),im(c,t,s,n),Zi(s,c),!1}s=s.return}while(s!==null);return!1}var cm=Error(i(461)),tt=!1;function nt(t,a,s,n){a.child=t===null?Ju(a,null,s,n):Vs(a,t.child,s,n)}function om(t,a,s,n,c){s=s.render;var d=a.ref;if("ref"in n){var y={};for(var w in n)w!=="ref"&&(y[w]=n[w])}else y=n;return is(a),n=Ji(t,a,s,y,d,c),w=Ii(),t!==null&&!tt?(ec(t,a,c),oa(t,a,c)):(Ae&&w&&zi(a),a.flags|=1,nt(t,a,n,c),a.child)}function dm(t,a,s,n,c){if(t===null){var d=s.type;return typeof d=="function"&&!Li(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,um(t,a,d,n,c)):(t=qr(s.type,null,n,a,a.mode,c),t.ref=a.ref,t.return=a,a.child=t)}if(d=t.child,!wc(t,c)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Nn,s(y,n)&&t.ref===a.ref)return oa(t,a,c)}return a.flags|=1,t=aa(d,n),t.ref=a.ref,t.return=a,a.child=t}function um(t,a,s,n,c){if(t!==null){var d=t.memoizedProps;if(Nn(d,n)&&t.ref===a.ref)if(tt=!1,a.pendingProps=n=d,wc(t,c))(t.flags&131072)!==0&&(tt=!0);else return a.lanes=t.lanes,oa(t,a,c)}return pc(t,a,s,n,c)}function mm(t,a,s){var n=a.pendingProps,c=n.children,d=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((a.flags&128)!==0){if(n=d!==null?d.baseLanes|s:s,t!==null){for(c=a.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;a.childLanes=d&~n}else a.childLanes=0,a.child=null;return hm(t,a,n,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yr(a,d!==null?d.cachePool:null),d!==null?uu(a,d):Xi(),Iu(a);else return a.lanes=a.childLanes=536870912,hm(t,a,d!==null?d.baseLanes|s:s,s)}else d!==null?(Yr(a,d.cachePool),uu(a,d),ka(),a.memoizedState=null):(t!==null&&Yr(a,null),Xi(),ka());return nt(t,a,c,s),a.child}function hm(t,a,s,n){var c=Fi();return c=c===null?null:{parent:Je._currentValue,pool:c},a.memoizedState={baseLanes:s,cachePool:c},t!==null&&Yr(a,null),Xi(),Iu(a),t!==null&&Cn(t,a,n,!0),null}function il(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function pc(t,a,s,n,c){return is(a),s=Ji(t,a,s,n,void 0,c),n=Ii(),t!==null&&!tt?(ec(t,a,c),oa(t,a,c)):(Ae&&n&&zi(a),a.flags|=1,nt(t,a,s,c),a.child)}function xm(t,a,s,n,c,d){return is(a),a.updateQueue=null,s=hu(a,n,s,c),mu(t),n=Ii(),t!==null&&!tt?(ec(t,a,d),oa(t,a,d)):(Ae&&n&&zi(a),a.flags|=1,nt(t,a,s,d),a.child)}function fm(t,a,s,n,c){if(is(a),a.stateNode===null){var d=Ls,y=s.contextType;typeof y=="object"&&y!==null&&(d=dt(y)),d=new s(n,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xc,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=n,d.state=a.memoizedState,d.refs={},Gi(a),y=s.contextType,d.context=typeof y=="object"&&y!==null?dt(y):Ls,d.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(hc(a,s,y,n),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&xc.enqueueReplaceState(d,d.state,null),Dn(a,n,d,c),Tn(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(t===null){d=a.stateNode;var w=a.memoizedProps,L=ds(s,w);d.props=L;var P=d.context,Z=s.contextType;y=Ls,typeof Z=="object"&&Z!==null&&(y=dt(Z));var Q=s.getDerivedStateFromProps;Z=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||P!==y)&&tm(a,d,n,y),va=!1;var V=a.memoizedState;d.state=V,Dn(a,n,d,c),Tn(),P=a.memoizedState,w||V!==P||va?(typeof Q=="function"&&(hc(a,s,Q,n),P=a.memoizedState),(L=va||em(a,s,L,n,V,P,y))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=P),d.props=n,d.state=P,d.context=y,n=L):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{d=a.stateNode,$i(t,a),y=a.memoizedProps,Z=ds(s,y),d.props=Z,Q=a.pendingProps,V=d.context,P=s.contextType,L=Ls,typeof P=="object"&&P!==null&&(L=dt(P)),w=s.getDerivedStateFromProps,(P=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Q||V!==L)&&tm(a,d,n,L),va=!1,V=a.memoizedState,d.state=V,Dn(a,n,d,c),Tn();var F=a.memoizedState;y!==Q||V!==F||va||t!==null&&t.dependencies!==null&&Vr(t.dependencies)?(typeof w=="function"&&(hc(a,s,w,n),F=a.memoizedState),(Z=va||em(a,s,Z,n,V,F,L)||t!==null&&t.dependencies!==null&&Vr(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,F,L),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,F,L)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=F),d.props=n,d.state=F,d.context=L,n=Z):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=1024),n=!1)}return d=n,il(t,a),n=(a.flags&128)!==0,d||n?(d=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,t!==null&&n?(a.child=Vs(a,t.child,null,c),a.child=Vs(a,null,s,c)):nt(t,a,s,c),a.memoizedState=d.state,t=a.child):t=oa(t,a,c),t}function pm(t,a,s,n){return Sn(),a.flags|=256,nt(t,a,s,n),a.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(t){return{baseLanes:t,cachePool:su()}}function bc(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Ht),t}function gm(t,a,s){var n=a.pendingProps,c=!1,d=(a.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(Ie.current&2)!==0),y&&(c=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ae){if(c?Sa(a):ka(),Ae){var w=Fe,L;if(L=w){e:{for(L=w,w=Zt;L.nodeType!==8;){if(!w){w=null;break e}if(L=Yt(L.nextSibling),L===null){w=null;break e}}w=L}w!==null?(a.memoizedState={dehydrated:w,treeContext:as!==null?{id:sa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},L=St(18,null,null,0),L.stateNode=w,L.return=a,a.child=L,ht=a,Fe=null,L=!0):L=!1}L||rs(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return ao(w)?a.lanes=32:a.lanes=536870912,null;ca(a)}return w=n.children,n=n.fallback,c?(ka(),c=a.mode,w=cl({mode:"hidden",children:w},c),n=ts(n,c,s,null),w.return=a,n.return=a,w.sibling=n,a.child=w,c=a.child,c.memoizedState=yc(s),c.childLanes=bc(t,y,s),a.memoizedState=gc,n):(Sa(a),jc(a,w))}if(L=t.memoizedState,L!==null&&(w=L.dehydrated,w!==null)){if(d)a.flags&256?(Sa(a),a.flags&=-257,a=vc(t,a,s)):a.memoizedState!==null?(ka(),a.child=t.child,a.flags|=128,a=null):(ka(),c=n.fallback,w=a.mode,n=cl({mode:"visible",children:n.children},w),c=ts(c,w,s,null),c.flags|=2,n.return=a,c.return=a,n.sibling=c,a.child=n,Vs(a,t.child,null,s),n=a.child,n.memoizedState=yc(s),n.childLanes=bc(t,y,s),a.memoizedState=gc,a=c);else if(Sa(a),ao(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var P=y.dgst;y=P,n=Error(i(419)),n.stack="",n.digest=y,kn({value:n,source:null,stack:null}),a=vc(t,a,s)}else if(tt||Cn(t,a,s,!1),y=(s&t.childLanes)!==0,tt||y){if(y=qe,y!==null&&(n=s&-s,n=(n&42)!==0?1:si(n),n=(n&(y.suspendedLanes|s))!==0?0:n,n!==0&&n!==L.retryLane))throw L.retryLane=n,Es(t,n),Mt(y,t,n),cm;w.data==="$?"||qc(),a=vc(t,a,s)}else w.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=L.treeContext,Fe=Yt(w.nextSibling),ht=a,Ae=!0,ns=null,Zt=!1,t!==null&&(Bt[Ut++]=sa,Bt[Ut++]=na,Bt[Ut++]=as,sa=t.id,na=t.overflow,as=a),a=jc(a,n.children),a.flags|=4096);return a}return c?(ka(),c=n.fallback,w=a.mode,L=t.child,P=L.sibling,n=aa(L,{mode:"hidden",children:n.children}),n.subtreeFlags=L.subtreeFlags&65011712,P!==null?c=aa(P,c):(c=ts(c,w,s,null),c.flags|=2),c.return=a,n.return=a,n.sibling=c,a.child=n,n=c,c=a.child,w=t.child.memoizedState,w===null?w=yc(s):(L=w.cachePool,L!==null?(P=Je._currentValue,L=L.parent!==P?{parent:P,pool:P}:L):L=su(),w={baseLanes:w.baseLanes|s,cachePool:L}),c.memoizedState=w,c.childLanes=bc(t,y,s),a.memoizedState=gc,n):(Sa(a),s=t.child,t=s.sibling,s=aa(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,t!==null&&(y=a.deletions,y===null?(a.deletions=[t],a.flags|=16):y.push(t)),a.child=s,a.memoizedState=null,s)}function jc(t,a){return a=cl({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function cl(t,a){return t=St(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vc(t,a,s){return Vs(a,t.child,null,s),t=jc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function ym(t,a,s){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a),qi(t.return,a,s)}function Nc(t,a,s,n,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:c}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=s,d.tailMode=c)}function bm(t,a,s){var n=a.pendingProps,c=n.revealOrder,d=n.tail;if(nt(t,a,n.children,s),n=Ie.current,(n&2)!==0)n=n&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,s,a);else if(t.tag===19)ym(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(te(Ie,n),c){case"forwards":for(s=a.child,c=null;s!==null;)t=s.alternate,t!==null&&nl(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=a.child,a.child=null):(c=s.sibling,s.sibling=null),Nc(a,!1,c,s,d);break;case"backwards":for(s=null,c=a.child,a.child=null;c!==null;){if(t=c.alternate,t!==null&&nl(t)===null){a.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Nc(a,!0,s,null,d);break;case"together":Nc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function oa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Ea|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Cn(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=aa(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=aa(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function wc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Vr(t)))}function Ff(t,a,s){switch(a.tag){case 3:He(a,a.stateNode.containerInfo),ja(a,Je,t.memoizedState.cache),Sn();break;case 27:case 5:Jl(a);break;case 4:He(a,a.stateNode.containerInfo);break;case 10:ja(a,a.type,a.memoizedProps.value);break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(Sa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?gm(t,a,s):(Sa(a),t=oa(t,a,s),t!==null?t.sibling:null);Sa(a);break;case 19:var c=(t.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(Cn(t,a,s,!1),n=(s&a.childLanes)!==0),c){if(n)return bm(t,a,s);a.flags|=128}if(c=a.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),te(Ie,Ie.current),n)break;return null;case 22:case 23:return a.lanes=0,mm(t,a,s);case 24:ja(a,Je,t.memoizedState.cache)}return oa(t,a,s)}function jm(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)tt=!0;else{if(!wc(t,s)&&(a.flags&128)===0)return tt=!1,Ff(t,a,s);tt=(t.flags&131072)!==0}else tt=!1,Ae&&(a.flags&1048576)!==0&&Qd(a,Pr,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var n=a.elementType,c=n._init;if(n=c(n._payload),a.type=n,typeof n=="function")Li(n)?(t=ds(n,t),a.tag=1,a=fm(null,a,n,t,s)):(a.tag=0,a=pc(null,a,n,t,s));else{if(n!=null){if(c=n.$$typeof,c===E){a.tag=11,a=om(null,a,n,t,s);break e}else if(c===q){a.tag=14,a=dm(null,a,n,t,s);break e}}throw a=Ue(n)||n,Error(i(306,a,""))}}return a;case 0:return pc(t,a,a.type,a.pendingProps,s);case 1:return n=a.type,c=ds(n,a.pendingProps),fm(t,a,n,c,s);case 3:e:{if(He(a,a.stateNode.containerInfo),t===null)throw Error(i(387));n=a.pendingProps;var d=a.memoizedState;c=d.element,$i(t,a),Dn(a,n,null,s);var y=a.memoizedState;if(n=y.cache,ja(a,Je,n),n!==d.cache&&Hi(a,[Je],s,!0),Tn(),n=y.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=pm(t,a,n,s);break e}else if(n!==c){c=zt(Error(i(424)),a),kn(c),a=pm(t,a,n,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=Yt(t.firstChild),ht=a,Ae=!0,ns=null,Zt=!0,s=Ju(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Sn(),n===c){a=oa(t,a,s);break e}nt(t,a,n,s)}a=a.child}return a;case 26:return il(t,a),t===null?(s=_0(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ae||(s=a.type,t=a.pendingProps,n=Nl(fe.current).createElement(s),n[ot]=a,n[xt]=t,lt(n,s,t),et(n),a.stateNode=n):a.memoizedState=_0(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Jl(a),t===null&&Ae&&(n=a.stateNode=v0(a.type,a.pendingProps,fe.current),ht=a,Zt=!0,c=Fe,za(a.type)?(so=c,Fe=Yt(n.firstChild)):Fe=c),nt(t,a,a.pendingProps.children,s),il(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ae&&((c=n=Fe)&&(n=gp(n,a.type,a.pendingProps,Zt),n!==null?(a.stateNode=n,ht=a,Fe=Yt(n.firstChild),Zt=!1,c=!0):c=!1),c||rs(a)),Jl(a),c=a.type,d=a.pendingProps,y=t!==null?t.memoizedProps:null,n=d.children,Ic(c,d)?n=null:y!==null&&Ic(c,y)&&(a.flags|=32),a.memoizedState!==null&&(c=Ji(t,a,zf,null,null,s),ar._currentValue=c),il(t,a),nt(t,a,n,s),a.child;case 6:return t===null&&Ae&&((t=s=Fe)&&(s=yp(s,a.pendingProps,Zt),s!==null?(a.stateNode=s,ht=a,Fe=null,t=!0):t=!1),t||rs(a)),null;case 13:return gm(t,a,s);case 4:return He(a,a.stateNode.containerInfo),n=a.pendingProps,t===null?a.child=Vs(a,null,n,s):nt(t,a,n,s),a.child;case 11:return om(t,a,a.type,a.pendingProps,s);case 7:return nt(t,a,a.pendingProps,s),a.child;case 8:return nt(t,a,a.pendingProps.children,s),a.child;case 12:return nt(t,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,ja(a,a.type,n.value),nt(t,a,n.children,s),a.child;case 9:return c=a.type._context,n=a.pendingProps.children,is(a),c=dt(c),n=n(c),a.flags|=1,nt(t,a,n,s),a.child;case 14:return dm(t,a,a.type,a.pendingProps,s);case 15:return um(t,a,a.type,a.pendingProps,s);case 19:return bm(t,a,s);case 31:return n=a.pendingProps,s=a.mode,n={mode:n.mode,children:n.children},t===null?(s=cl(n,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=aa(t.child,n),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return mm(t,a,s);case 24:return is(a),n=dt(Je),t===null?(c=Fi(),c===null&&(c=qe,d=Pi(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),a.memoizedState={parent:n,cache:c},Gi(a),ja(a,Je,c)):((t.lanes&s)!==0&&($i(t,a),Dn(a,null,null,s),Tn()),c=t.memoizedState,d=a.memoizedState,c.parent!==n?(c={parent:n,cache:n},a.memoizedState=c,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=c),ja(a,Je,n)):(n=d.cache,ja(a,Je,n),n!==c.cache&&Hi(a,[Je],s,!0))),nt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function da(t){t.flags|=4}function vm(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(a)){if(a=qt.current,a!==null&&((Se&4194048)===Se?Wt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||a!==Wt))throw En=Yi,nu;t.flags|=8192}}function ol(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Io():536870912,t.lanes|=a,$s|=a)}function Pn(t,a){if(!Ae)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ve(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(a)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,n|=c.subtreeFlags&65011712,n|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,n|=c.subtreeFlags,n|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=n,t.childLanes=s,a}function Yf(t,a,s){var n=a.pendingProps;switch(Oi(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(a),null;case 1:return Ve(a),null;case 3:return s=a.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),la(Je),pa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_n(a)?da(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Id())),Ve(a),null;case 26:return s=a.memoizedState,t===null?(da(a),s!==null?(Ve(a),vm(a,s)):(Ve(a),a.flags&=-16777217)):s?s!==t.memoizedState?(da(a),Ve(a),vm(a,s)):(Ve(a),a.flags&=-16777217):(t.memoizedProps!==n&&da(a),Ve(a),a.flags&=-16777217),null;case 27:jr(a),s=fe.current;var c=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==n&&da(a);else{if(!n){if(a.stateNode===null)throw Error(i(166));return Ve(a),null}t=de.current,_n(a)?Kd(a):(t=v0(c,n,s),a.stateNode=t,da(a))}return Ve(a),null;case 5:if(jr(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&da(a);else{if(!n){if(a.stateNode===null)throw Error(i(166));return Ve(a),null}if(t=de.current,_n(a))Kd(a);else{switch(c=Nl(fe.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?c.createElement("select",{is:n.is}):c.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?c.createElement(s,{is:n.is}):c.createElement(s)}}t[ot]=a,t[xt]=n;e:for(c=a.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a.stateNode=t;e:switch(lt(t,s,n),s){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&da(a)}}return Ve(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==n&&da(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(i(166));if(t=fe.current,_n(a)){if(t=a.stateNode,s=a.memoizedProps,n=null,c=ht,c!==null)switch(c.tag){case 27:case 5:n=c.memoizedProps}t[ot]=a,t=!!(t.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||x0(t.nodeValue,s)),t||rs(a)}else t=Nl(t).createTextNode(n),t[ot]=a,a.stateNode=t}return Ve(a),null;case 13:if(n=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=_n(a),n!==null&&n.dehydrated!==null){if(t===null){if(!c)throw Error(i(318));if(c=a.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[ot]=a}else Sn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ve(a),c=!1}else c=Id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return a.flags&256?(ca(a),a):(ca(a),null)}if(ca(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=n!==null,t=t!==null&&t.memoizedState!==null,s){n=a.child,c=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(c=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==c&&(n.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),ol(a,a.updateQueue),Ve(a),null;case 4:return pa(),t===null&&Wc(a.stateNode.containerInfo),Ve(a),null;case 10:return la(a.type),Ve(a),null;case 19:if(se(Ie),c=a.memoizedState,c===null)return Ve(a),null;if(n=(a.flags&128)!==0,d=c.rendering,d===null)if(n)Pn(c,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(d=nl(t),d!==null){for(a.flags|=128,Pn(c,!1),t=d.updateQueue,a.updateQueue=t,ol(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Xd(s,t),s=s.sibling;return te(Ie,Ie.current&1|2),a.child}t=t.sibling}c.tail!==null&&$t()>ml&&(a.flags|=128,n=!0,Pn(c,!1),a.lanes=4194304)}else{if(!n)if(t=nl(d),t!==null){if(a.flags|=128,n=!0,t=t.updateQueue,a.updateQueue=t,ol(a,t),Pn(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ae)return Ve(a),null}else 2*$t()-c.renderingStartTime>ml&&s!==536870912&&(a.flags|=128,n=!0,Pn(c,!1),a.lanes=4194304);c.isBackwards?(d.sibling=a.child,a.child=d):(t=c.last,t!==null?t.sibling=d:a.child=d,c.last=d)}return c.tail!==null?(a=c.tail,c.rendering=a,c.tail=a.sibling,c.renderingStartTime=$t(),a.sibling=null,t=Ie.current,te(Ie,n?t&1|2:t&1),a):(Ve(a),null);case 22:case 23:return ca(a),Qi(),n=a.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(Ve(a),a.subtreeFlags&6&&(a.flags|=8192)):Ve(a),s=a.updateQueue,s!==null&&ol(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),t!==null&&se(cs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),la(Je),Ve(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Gf(t,a){switch(Oi(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return la(Je),pa(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return jr(a),null;case 13:if(ca(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Sn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return se(Ie),null;case 4:return pa(),null;case 10:return la(a.type),null;case 22:case 23:return ca(a),Qi(),t!==null&&se(cs),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return la(Je),null;case 25:return null;default:return null}}function Nm(t,a){switch(Oi(a),a.tag){case 3:la(Je),pa();break;case 26:case 27:case 5:jr(a);break;case 4:pa();break;case 13:ca(a);break;case 19:se(Ie);break;case 10:la(a.type);break;case 22:case 23:ca(a),Qi(),t!==null&&se(cs);break;case 24:la(Je)}}function Vn(t,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var c=n.next;s=c;do{if((s.tag&t)===t){n=void 0;var d=s.create,y=s.inst;n=d(),y.destroy=n}s=s.next}while(s!==c)}}catch(w){Oe(a,a.return,w)}}function Ca(t,a,s){try{var n=a.updateQueue,c=n!==null?n.lastEffect:null;if(c!==null){var d=c.next;n=d;do{if((n.tag&t)===t){var y=n.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,c=a;var L=s,P=w;try{P()}catch(Z){Oe(c,L,Z)}}}n=n.next}while(n!==d)}}catch(Z){Oe(a,a.return,Z)}}function wm(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{du(a,s)}catch(n){Oe(t,t.return,n)}}}function _m(t,a,s){s.props=ds(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(n){Oe(t,a,n)}}function Fn(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof s=="function"?t.refCleanup=s(n):s.current=n}}catch(c){Oe(t,a,c)}}function Xt(t,a){var s=t.ref,n=t.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(c){Oe(t,a,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Oe(t,a,c)}else s.current=null}function Sm(t){var a=t.type,s=t.memoizedProps,n=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(c){Oe(t,t.return,c)}}function _c(t,a,s){try{var n=t.stateNode;mp(n,t.type,s,a),n[xt]=a}catch(c){Oe(t,t.return,c)}}function km(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&za(t.type)||t.tag===4}function Sc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||km(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&za(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=vl));else if(n!==4&&(n===27&&za(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(kc(t,a,s),t=t.sibling;t!==null;)kc(t,a,s),t=t.sibling}function dl(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(n!==4&&(n===27&&za(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(dl(t,a,s),t=t.sibling;t!==null;)dl(t,a,s),t=t.sibling}function Cm(t){var a=t.stateNode,s=t.memoizedProps;try{for(var n=t.type,c=a.attributes;c.length;)a.removeAttributeNode(c[0]);lt(a,n,s),a[ot]=t,a[xt]=s}catch(d){Oe(t,t.return,d)}}var ua=!1,Ze=!1,Cc=!1,Am=typeof WeakSet=="function"?WeakSet:Set,at=null;function $f(t,a){if(t=t.containerInfo,Kc=Al,t=qd(t),Si(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var c=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,w=-1,L=-1,P=0,Z=0,Q=t,V=null;t:for(;;){for(var F;Q!==s||c!==0&&Q.nodeType!==3||(w=y+c),Q!==d||n!==0&&Q.nodeType!==3||(L=y+n),Q.nodeType===3&&(y+=Q.nodeValue.length),(F=Q.firstChild)!==null;)V=Q,Q=F;for(;;){if(Q===t)break t;if(V===s&&++P===c&&(w=y),V===d&&++Z===n&&(L=y),(F=Q.nextSibling)!==null)break;Q=V,V=Q.parentNode}Q=F}s=w===-1||L===-1?null:{start:w,end:L}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jc={focusedElem:t,selectionRange:s},Al=!1,at=a;at!==null;)if(a=at,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,at=t;else for(;at!==null;){switch(a=at,d=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=a,c=d.memoizedProps,d=d.memoizedState,n=s.stateNode;try{var he=ds(s.type,c,s.elementType===s.type);t=n.getSnapshotBeforeUpdate(he,d),n.__reactInternalSnapshotBeforeUpdate=t}catch(ue){Oe(s,s.return,ue)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)to(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":to(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,at=t;break}at=a.return}}function Rm(t,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:Aa(t,s),n&4&&Vn(5,s);break;case 1:if(Aa(t,s),n&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(y){Oe(s,s.return,y)}else{var c=ds(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(c,a,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Oe(s,s.return,y)}}n&64&&wm(s),n&512&&Fn(s,s.return);break;case 3:if(Aa(t,s),n&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{du(t,a)}catch(y){Oe(s,s.return,y)}}break;case 27:a===null&&n&4&&Cm(s);case 26:case 5:Aa(t,s),a===null&&n&4&&Sm(s),n&512&&Fn(s,s.return);break;case 12:Aa(t,s);break;case 13:Aa(t,s),n&4&&Lm(t,s),n&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=tp.bind(null,s),bp(t,s))));break;case 22:if(n=s.memoizedState!==null||ua,!n){a=a!==null&&a.memoizedState!==null||Ze,c=ua;var d=Ze;ua=n,(Ze=a)&&!d?Ra(t,s,(s.subtreeFlags&8772)!==0):Aa(t,s),ua=c,Ze=d}break;case 30:break;default:Aa(t,s)}}function Mm(t){var a=t.alternate;a!==null&&(t.alternate=null,Mm(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&li(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,gt=!1;function ma(t,a,s){for(s=s.child;s!==null;)Em(t,a,s),s=s.sibling}function Em(t,a,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(dn,s)}catch{}switch(s.tag){case 26:Ze||Xt(s,a),ma(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ze||Xt(s,a);var n=Pe,c=gt;za(s.type)&&(Pe=s.stateNode,gt=!1),ma(t,a,s),Jn(s.stateNode),Pe=n,gt=c;break;case 5:Ze||Xt(s,a);case 6:if(n=Pe,c=gt,Pe=null,ma(t,a,s),Pe=n,gt=c,Pe!==null)if(gt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(s.stateNode)}catch(d){Oe(s,a,d)}else try{Pe.removeChild(s.stateNode)}catch(d){Oe(s,a,d)}break;case 18:Pe!==null&&(gt?(t=Pe,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),lr(t)):b0(Pe,s.stateNode));break;case 4:n=Pe,c=gt,Pe=s.stateNode.containerInfo,gt=!0,ma(t,a,s),Pe=n,gt=c;break;case 0:case 11:case 14:case 15:Ze||Ca(2,s,a),Ze||Ca(4,s,a),ma(t,a,s);break;case 1:Ze||(Xt(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&_m(s,a,n)),ma(t,a,s);break;case 21:ma(t,a,s);break;case 22:Ze=(n=Ze)||s.memoizedState!==null,ma(t,a,s),Ze=n;break;default:ma(t,a,s)}}function Lm(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lr(t)}catch(s){Oe(a,a.return,s)}}function Zf(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Am),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Am),a;default:throw Error(i(435,t.tag))}}function Ac(t,a){var s=Zf(t);a.forEach(function(n){var c=ap.bind(null,t,n);s.has(n)||(s.add(n),n.then(c,c))})}function kt(t,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var c=s[n],d=t,y=a,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(za(w.type)){Pe=w.stateNode,gt=!1;break e}break;case 5:Pe=w.stateNode,gt=!1;break e;case 3:case 4:Pe=w.stateNode.containerInfo,gt=!0;break e}w=w.return}if(Pe===null)throw Error(i(160));Em(d,y,c),Pe=null,gt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Tm(a,t),a=a.sibling}var Ft=null;function Tm(t,a){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kt(a,t),Ct(t),n&4&&(Ca(3,t,t.return),Vn(3,t),Ca(5,t,t.return));break;case 1:kt(a,t),Ct(t),n&512&&(Ze||s===null||Xt(s,s.return)),n&64&&ua&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var c=Ft;if(kt(a,t),Ct(t),n&512&&(Ze||s===null||Xt(s,s.return)),n&4){var d=s!==null?s.memoizedState:null;if(n=t.memoizedState,s===null)if(n===null)if(t.stateNode===null){e:{n=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(n){case"title":d=c.getElementsByTagName("title")[0],(!d||d[hn]||d[ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(n),c.head.insertBefore(d,c.querySelector("head > title"))),lt(d,n,s),d[ot]=t,et(d),n=d;break e;case"link":var y=C0("link","href",c).get(n+(s.href||""));if(y){for(var w=0;w<y.length;w++)if(d=y[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(w,1);break t}}d=c.createElement(n),lt(d,n,s),c.head.appendChild(d);break;case"meta":if(y=C0("meta","content",c).get(n+(s.content||""))){for(w=0;w<y.length;w++)if(d=y[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(w,1);break t}}d=c.createElement(n),lt(d,n,s),c.head.appendChild(d);break;default:throw Error(i(468,n))}d[ot]=t,et(d),n=d}t.stateNode=n}else A0(c,t.type,t.stateNode);else t.stateNode=k0(c,n,t.memoizedProps);else d!==n?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,n===null?A0(c,t.type,t.stateNode):k0(c,n,t.memoizedProps)):n===null&&t.stateNode!==null&&_c(t,t.memoizedProps,s.memoizedProps)}break;case 27:kt(a,t),Ct(t),n&512&&(Ze||s===null||Xt(s,s.return)),s!==null&&n&4&&_c(t,t.memoizedProps,s.memoizedProps);break;case 5:if(kt(a,t),Ct(t),n&512&&(Ze||s===null||Xt(s,s.return)),t.flags&32){c=t.stateNode;try{_s(c,"")}catch(F){Oe(t,t.return,F)}}n&4&&t.stateNode!=null&&(c=t.memoizedProps,_c(t,c,s!==null?s.memoizedProps:c)),n&1024&&(Cc=!0);break;case 6:if(kt(a,t),Ct(t),n&4){if(t.stateNode===null)throw Error(i(162));n=t.memoizedProps,s=t.stateNode;try{s.nodeValue=n}catch(F){Oe(t,t.return,F)}}break;case 3:if(Sl=null,c=Ft,Ft=wl(a.containerInfo),kt(a,t),Ft=c,Ct(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{lr(a.containerInfo)}catch(F){Oe(t,t.return,F)}Cc&&(Cc=!1,Dm(t));break;case 4:n=Ft,Ft=wl(t.stateNode.containerInfo),kt(a,t),Ct(t),Ft=n;break;case 12:kt(a,t),Ct(t);break;case 13:kt(a,t),Ct(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Dc=$t()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Ac(t,n)));break;case 22:c=t.memoizedState!==null;var L=s!==null&&s.memoizedState!==null,P=ua,Z=Ze;if(ua=P||c,Ze=Z||L,kt(a,t),Ze=Z,ua=P,Ct(t),n&8192)e:for(a=t.stateNode,a._visibility=c?a._visibility&-2:a._visibility|1,c&&(s===null||L||ua||Ze||us(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){L=s=a;try{if(d=L.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=L.stateNode;var Q=L.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(F){Oe(L,L.return,F)}}}else if(a.tag===6){if(s===null){L=a;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(F){Oe(L,L.return,F)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=t.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,Ac(t,s))));break;case 19:kt(a,t),Ct(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Ac(t,n)));break;case 30:break;case 21:break;default:kt(a,t),Ct(t)}}function Ct(t){var a=t.flags;if(a&2){try{for(var s,n=t.return;n!==null;){if(km(n)){s=n;break}n=n.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var c=s.stateNode,d=Sc(t);dl(t,d,c);break;case 5:var y=s.stateNode;s.flags&32&&(_s(y,""),s.flags&=-33);var w=Sc(t);dl(t,w,y);break;case 3:case 4:var L=s.stateNode.containerInfo,P=Sc(t);kc(t,P,L);break;default:throw Error(i(161))}}catch(Z){Oe(t,t.return,Z)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Dm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Dm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Aa(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rm(t,a.alternate,a),a=a.sibling}function us(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Ca(4,a,a.return),us(a);break;case 1:Xt(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&_m(a,a.return,s),us(a);break;case 27:Jn(a.stateNode);case 26:case 5:Xt(a,a.return),us(a);break;case 22:a.memoizedState===null&&us(a);break;case 30:us(a);break;default:us(a)}t=t.sibling}}function Ra(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,c=t,d=a,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ra(c,d,s),Vn(4,d);break;case 1:if(Ra(c,d,s),n=d,c=n.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Oe(n,n.return,P)}if(n=d,c=n.updateQueue,c!==null){var w=n.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)ou(L[c],w)}catch(P){Oe(n,n.return,P)}}s&&y&64&&wm(d),Fn(d,d.return);break;case 27:Cm(d);case 26:case 5:Ra(c,d,s),s&&n===null&&y&4&&Sm(d),Fn(d,d.return);break;case 12:Ra(c,d,s);break;case 13:Ra(c,d,s),s&&y&4&&Lm(c,d);break;case 22:d.memoizedState===null&&Ra(c,d,s),Fn(d,d.return);break;case 30:break;default:Ra(c,d,s)}a=a.sibling}}function Rc(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&An(s))}function Mc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&An(t))}function Qt(t,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)zm(t,a,s,n),a=a.sibling}function zm(t,a,s,n){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Qt(t,a,s,n),c&2048&&Vn(9,a);break;case 1:Qt(t,a,s,n);break;case 3:Qt(t,a,s,n),c&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&An(t)));break;case 12:if(c&2048){Qt(t,a,s,n),t=a.stateNode;try{var d=a.memoizedProps,y=d.id,w=d.onPostCommit;typeof w=="function"&&w(y,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Oe(a,a.return,L)}}else Qt(t,a,s,n);break;case 13:Qt(t,a,s,n);break;case 23:break;case 22:d=a.stateNode,y=a.alternate,a.memoizedState!==null?d._visibility&2?Qt(t,a,s,n):Yn(t,a):d._visibility&2?Qt(t,a,s,n):(d._visibility|=2,Fs(t,a,s,n,(a.subtreeFlags&10256)!==0)),c&2048&&Rc(y,a);break;case 24:Qt(t,a,s,n),c&2048&&Mc(a.alternate,a);break;default:Qt(t,a,s,n)}}function Fs(t,a,s,n,c){for(c=c&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=t,y=a,w=s,L=n,P=y.flags;switch(y.tag){case 0:case 11:case 15:Fs(d,y,w,L,c),Vn(8,y);break;case 23:break;case 22:var Z=y.stateNode;y.memoizedState!==null?Z._visibility&2?Fs(d,y,w,L,c):Yn(d,y):(Z._visibility|=2,Fs(d,y,w,L,c)),c&&P&2048&&Rc(y.alternate,y);break;case 24:Fs(d,y,w,L,c),c&&P&2048&&Mc(y.alternate,y);break;default:Fs(d,y,w,L,c)}a=a.sibling}}function Yn(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,n=a,c=n.flags;switch(n.tag){case 22:Yn(s,n),c&2048&&Rc(n.alternate,n);break;case 24:Yn(s,n),c&2048&&Mc(n.alternate,n);break;default:Yn(s,n)}a=a.sibling}}var Gn=8192;function Ys(t){if(t.subtreeFlags&Gn)for(t=t.child;t!==null;)Om(t),t=t.sibling}function Om(t){switch(t.tag){case 26:Ys(t),t.flags&Gn&&t.memoizedState!==null&&Lp(Ft,t.memoizedState,t.memoizedProps);break;case 5:Ys(t);break;case 3:case 4:var a=Ft;Ft=wl(t.stateNode.containerInfo),Ys(t),Ft=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Gn,Gn=16777216,Ys(t),Gn=a):Ys(t));break;default:Ys(t)}}function Bm(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function $n(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];at=n,qm(n,t)}Bm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Um(t),t=t.sibling}function Um(t){switch(t.tag){case 0:case 11:case 15:$n(t),t.flags&2048&&Ca(9,t,t.return);break;case 3:$n(t);break;case 12:$n(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ul(t)):$n(t);break;default:$n(t)}}function ul(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];at=n,qm(n,t)}Bm(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Ca(8,a,a.return),ul(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ul(a));break;default:ul(a)}t=t.sibling}}function qm(t,a){for(;at!==null;){var s=at;switch(s.tag){case 0:case 11:case 15:Ca(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:An(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,at=n;else e:for(s=t;at!==null;){n=at;var c=n.sibling,d=n.return;if(Mm(n),n===s){at=null;break e}if(c!==null){c.return=d,at=c;break e}at=d}}}var Wf={getCacheForType:function(t){var a=dt(Je),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},Xf=typeof WeakMap=="function"?WeakMap:Map,Ee=0,qe=null,we=null,Se=0,Le=0,At=null,Ma=!1,Gs=!1,Ec=!1,ha=0,Ye=0,Ea=0,ms=0,Lc=0,Ht=0,$s=0,Zn=null,yt=null,Tc=!1,Dc=0,ml=1/0,hl=null,La=null,rt=0,Ta=null,Zs=null,Ws=0,zc=0,Oc=null,Hm=null,Wn=0,Bc=null;function Rt(){if((Ee&2)!==0&&Se!==0)return Se&-Se;if(G.T!==null){var t=zs;return t!==0?t:Yc()}return ad()}function Pm(){Ht===0&&(Ht=(Se&536870912)===0||Ae?Jo():536870912);var t=qt.current;return t!==null&&(t.flags|=32),Ht}function Mt(t,a,s){(t===qe&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(Xs(t,0),Da(t,Se,Ht,!1)),mn(t,s),((Ee&2)===0||t!==qe)&&(t===qe&&((Ee&2)===0&&(ms|=s),Ye===4&&Da(t,Se,Ht,!1)),Kt(t))}function Vm(t,a,s){if((Ee&6)!==0)throw Error(i(327));var n=!s&&(a&124)===0&&(a&t.expiredLanes)===0||un(t,a),c=n?Jf(t,a):Hc(t,a,!0),d=n;do{if(c===0){Gs&&!n&&Da(t,a,0,!1);break}else{if(s=t.current.alternate,d&&!Qf(s)){c=Hc(t,a,!1),d=!1;continue}if(c===2){if(d=a,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var w=t;c=Zn;var L=w.current.memoizedState.isDehydrated;if(L&&(Xs(w,y).flags|=256),y=Hc(w,y,!1),y!==2){if(Ec&&!L){w.errorRecoveryDisabledLanes|=d,ms|=d,c=4;break e}d=yt,yt=c,d!==null&&(yt===null?yt=d:yt.push.apply(yt,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){Xs(t,0),Da(t,a,0,!0);break}e:{switch(n=t,d=c,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Da(n,a,Ht,!Ma);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(c=Dc+300-$t(),10<c)){if(Da(n,a,Ht,!Ma),_r(n,0,!0)!==0)break e;n.timeoutHandle=g0(Fm.bind(null,n,s,yt,hl,Tc,a,Ht,ms,$s,Ma,d,2,-0,0),c);break e}Fm(n,s,yt,hl,Tc,a,Ht,ms,$s,Ma,d,0,-0,0)}}break}while(!0);Kt(t)}function Fm(t,a,s,n,c,d,y,w,L,P,Z,Q,V,F){if(t.timeoutHandle=-1,Q=a.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(tr={stylesheets:null,count:0,unsuspend:Ep},Om(a),Q=Tp(),Q!==null)){t.cancelPendingCommit=Q(Qm.bind(null,t,a,d,s,n,c,y,w,L,Z,1,V,F)),Da(t,d,y,!P);return}Qm(t,a,d,s,n,c,y,w,L)}function Qf(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var c=s[n],d=c.getSnapshot;c=c.value;try{if(!_t(d(),c))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Da(t,a,s,n){a&=~Lc,a&=~ms,t.suspendedLanes|=a,t.pingedLanes&=~a,n&&(t.warmLanes|=a),n=t.expirationTimes;for(var c=a;0<c;){var d=31-wt(c),y=1<<d;n[d]=-1,c&=~y}s!==0&&ed(t,s,a)}function xl(){return(Ee&6)===0?(Xn(0),!1):!0}function Uc(){if(we!==null){if(Le===0)var t=we.return;else t=we,ra=ls=null,tc(t),Ps=null,qn=0,t=we;for(;t!==null;)Nm(t.alternate,t),t=t.return;we=null}}function Xs(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,xp(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Uc(),qe=t,we=s=aa(t.current,null),Se=a,Le=0,At=null,Ma=!1,Gs=un(t,a),Ec=!1,$s=Ht=Lc=ms=Ea=Ye=0,yt=Zn=null,Tc=!1,(a&8)!==0&&(a|=a&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=a;0<n;){var c=31-wt(n),d=1<<c;a|=t[c],n&=~d}return ha=a,Or(),s}function Ym(t,a){ve=null,G.H=tl,a===Mn||a===Gr?(a=iu(),Le=3):a===nu?(a=iu(),Le=4):Le=a===cm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,At=a,we===null&&(Ye=1,ll(t,zt(a,t.current)))}function Gm(){var t=G.H;return G.H=tl,t===null?tl:t}function $m(){var t=G.A;return G.A=Wf,t}function qc(){Ye=4,Ma||(Se&4194048)!==Se&&qt.current!==null||(Gs=!0),(Ea&134217727)===0&&(ms&134217727)===0||qe===null||Da(qe,Se,Ht,!1)}function Hc(t,a,s){var n=Ee;Ee|=2;var c=Gm(),d=$m();(qe!==t||Se!==a)&&(hl=null,Xs(t,a)),a=!1;var y=Ye;e:do try{if(Le!==0&&we!==null){var w=we,L=At;switch(Le){case 8:Uc(),y=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(a=!0);var P=Le;if(Le=0,At=null,Qs(t,w,L,P),s&&Gs){y=0;break e}break;default:P=Le,Le=0,At=null,Qs(t,w,L,P)}}Kf(),y=Ye;break}catch(Z){Ym(t,Z)}while(!0);return a&&t.shellSuspendCounter++,ra=ls=null,Ee=n,G.H=c,G.A=d,we===null&&(qe=null,Se=0,Or()),y}function Kf(){for(;we!==null;)Zm(we)}function Jf(t,a){var s=Ee;Ee|=2;var n=Gm(),c=$m();qe!==t||Se!==a?(hl=null,ml=$t()+500,Xs(t,a)):Gs=un(t,a);e:do try{if(Le!==0&&we!==null){a=we;var d=At;t:switch(Le){case 1:Le=0,At=null,Qs(t,a,d,1);break;case 2:case 9:if(ru(d)){Le=0,At=null,Wm(a);break}a=function(){Le!==2&&Le!==9||qe!==t||(Le=7),Kt(t)},d.then(a,a);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ru(d)?(Le=0,At=null,Wm(a)):(Le=0,At=null,Qs(t,a,d,7));break;case 5:var y=null;switch(we.tag){case 26:y=we.memoizedState;case 5:case 27:var w=we;if(!y||R0(y)){Le=0,At=null;var L=w.sibling;if(L!==null)we=L;else{var P=w.return;P!==null?(we=P,fl(P)):we=null}break t}}Le=0,At=null,Qs(t,a,d,5);break;case 6:Le=0,At=null,Qs(t,a,d,6);break;case 8:Uc(),Ye=6;break e;default:throw Error(i(462))}}If();break}catch(Z){Ym(t,Z)}while(!0);return ra=ls=null,G.H=n,G.A=c,Ee=s,we!==null?0:(qe=null,Se=0,Or(),Ye)}function If(){for(;we!==null&&!jx();)Zm(we)}function Zm(t){var a=jm(t.alternate,t,ha);t.memoizedProps=t.pendingProps,a===null?fl(t):we=a}function Wm(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=xm(s,a,a.pendingProps,a.type,void 0,Se);break;case 11:a=xm(s,a,a.pendingProps,a.type.render,a.ref,Se);break;case 5:tc(a);default:Nm(s,a),a=we=Xd(a,ha),a=jm(s,a,ha)}t.memoizedProps=t.pendingProps,a===null?fl(t):we=a}function Qs(t,a,s,n){ra=ls=null,tc(a),Ps=null,qn=0;var c=a.return;try{if(Vf(t,c,a,s,Se)){Ye=1,ll(t,zt(s,t.current)),we=null;return}}catch(d){if(c!==null)throw we=c,d;Ye=1,ll(t,zt(s,t.current)),we=null;return}a.flags&32768?(Ae||n===1?t=!0:Gs||(Se&536870912)!==0?t=!1:(Ma=t=!0,(n===2||n===9||n===3||n===6)&&(n=qt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Xm(a,t)):fl(a)}function fl(t){var a=t;do{if((a.flags&32768)!==0){Xm(a,Ma);return}t=a.return;var s=Yf(a.alternate,a,ha);if(s!==null){we=s;return}if(a=a.sibling,a!==null){we=a;return}we=a=t}while(a!==null);Ye===0&&(Ye=5)}function Xm(t,a){do{var s=Gf(t.alternate,t);if(s!==null){s.flags&=32767,we=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){we=t;return}we=t=s}while(t!==null);Ye=6,we=null}function Qm(t,a,s,n,c,d,y,w,L){t.cancelPendingCommit=null;do pl();while(rt!==0);if((Ee&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=Mi,Mx(t,s,d,y,w,L),t===qe&&(we=qe=null,Se=0),Zs=a,Ta=t,Ws=s,zc=d,Oc=c,Hm=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sp(vr,function(){return t0(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=G.T,G.T=null,c=ee.p,ee.p=2,y=Ee,Ee|=4;try{$f(t,a,s)}finally{Ee=y,ee.p=c,G.T=n}}rt=1,Km(),Jm(),Im()}}function Km(){if(rt===1){rt=0;var t=Ta,a=Zs,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var n=ee.p;ee.p=2;var c=Ee;Ee|=4;try{Tm(a,t);var d=Jc,y=qd(t.containerInfo),w=d.focusedElem,L=d.selectionRange;if(y!==w&&w&&w.ownerDocument&&Ud(w.ownerDocument.documentElement,w)){if(L!==null&&Si(w)){var P=L.start,Z=L.end;if(Z===void 0&&(Z=P),"selectionStart"in w)w.selectionStart=P,w.selectionEnd=Math.min(Z,w.value.length);else{var Q=w.ownerDocument||document,V=Q&&Q.defaultView||window;if(V.getSelection){var F=V.getSelection(),he=w.textContent.length,ue=Math.min(L.start,he),ze=L.end===void 0?ue:Math.min(L.end,he);!F.extend&&ue>ze&&(y=ze,ze=ue,ue=y);var z=Bd(w,ue),D=Bd(w,ze);if(z&&D&&(F.rangeCount!==1||F.anchorNode!==z.node||F.anchorOffset!==z.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var U=Q.createRange();U.setStart(z.node,z.offset),F.removeAllRanges(),ue>ze?(F.addRange(U),F.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),F.addRange(U))}}}}for(Q=[],F=w;F=F.parentNode;)F.nodeType===1&&Q.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var X=Q[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Al=!!Kc,Jc=Kc=null}finally{Ee=c,ee.p=n,G.T=s}}t.current=a,rt=2}}function Jm(){if(rt===2){rt=0;var t=Ta,a=Zs,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var n=ee.p;ee.p=2;var c=Ee;Ee|=4;try{Rm(t,a.alternate,a)}finally{Ee=c,ee.p=n,G.T=s}}rt=3}}function Im(){if(rt===4||rt===3){rt=0,vx();var t=Ta,a=Zs,s=Ws,n=Hm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rt=5:(rt=0,Zs=Ta=null,e0(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(La=null),ni(s),a=a.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(dn,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=G.T,c=ee.p,ee.p=2,G.T=null;try{for(var d=t.onRecoverableError,y=0;y<n.length;y++){var w=n[y];d(w.value,{componentStack:w.stack})}}finally{G.T=a,ee.p=c}}(Ws&3)!==0&&pl(),Kt(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Bc?Wn++:(Wn=0,Bc=t):Wn=0,Xn(0)}}function e0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,An(a)))}function pl(t){return Km(),Jm(),Im(),t0()}function t0(){if(rt!==5)return!1;var t=Ta,a=zc;zc=0;var s=ni(Ws),n=G.T,c=ee.p;try{ee.p=32>s?32:s,G.T=null,s=Oc,Oc=null;var d=Ta,y=Ws;if(rt=0,Zs=Ta=null,Ws=0,(Ee&6)!==0)throw Error(i(331));var w=Ee;if(Ee|=4,Um(d.current),zm(d,d.current,y,s),Ee=w,Xn(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(dn,d)}catch{}return!0}finally{ee.p=c,G.T=n,e0(t,a)}}function a0(t,a,s){a=zt(s,a),a=fc(t.stateNode,a,2),t=wa(t,a,2),t!==null&&(mn(t,2),Kt(t))}function Oe(t,a,s){if(t.tag===3)a0(t,t,s);else for(;a!==null;){if(a.tag===3){a0(a,t,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(La===null||!La.has(n))){t=zt(s,t),s=lm(2),n=wa(a,s,2),n!==null&&(im(s,n,a,t),mn(n,2),Kt(n));break}}a=a.return}}function Pc(t,a,s){var n=t.pingCache;if(n===null){n=t.pingCache=new Xf;var c=new Set;n.set(a,c)}else c=n.get(a),c===void 0&&(c=new Set,n.set(a,c));c.has(s)||(Ec=!0,c.add(s),t=ep.bind(null,t,a,s),a.then(t,t))}function ep(t,a,s){var n=t.pingCache;n!==null&&n.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,qe===t&&(Se&s)===s&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>$t()-Dc?(Ee&2)===0&&Xs(t,0):Lc|=s,$s===Se&&($s=0)),Kt(t)}function s0(t,a){a===0&&(a=Io()),t=Es(t,a),t!==null&&(mn(t,a),Kt(t))}function tp(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),s0(t,s)}function ap(t,a){var s=0;switch(t.tag){case 13:var n=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(i(314))}n!==null&&n.delete(a),s0(t,s)}function sp(t,a){return ei(t,a)}var gl=null,Ks=null,Vc=!1,yl=!1,Fc=!1,hs=0;function Kt(t){t!==Ks&&t.next===null&&(Ks===null?gl=Ks=t:Ks=Ks.next=t),yl=!0,Vc||(Vc=!0,rp())}function Xn(t,a){if(!Fc&&yl){Fc=!0;do for(var s=!1,n=gl;n!==null;){if(t!==0){var c=n.pendingLanes;if(c===0)var d=0;else{var y=n.suspendedLanes,w=n.pingedLanes;d=(1<<31-wt(42|t)+1)-1,d&=c&~(y&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,i0(n,d))}else d=Se,d=_r(n,n===qe?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||un(n,d)||(s=!0,i0(n,d));n=n.next}while(s);Fc=!1}}function np(){n0()}function n0(){yl=Vc=!1;var t=0;hs!==0&&(hp()&&(t=hs),hs=0);for(var a=$t(),s=null,n=gl;n!==null;){var c=n.next,d=r0(n,a);d===0?(n.next=null,s===null?gl=c:s.next=c,c===null&&(Ks=s)):(s=n,(t!==0||(d&3)!==0)&&(yl=!0)),n=c}Xn(t)}function r0(t,a){for(var s=t.suspendedLanes,n=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-wt(d),w=1<<y,L=c[y];L===-1?((w&s)===0||(w&n)!==0)&&(c[y]=Rx(w,a)):L<=a&&(t.expiredLanes|=w),d&=~w}if(a=qe,s=Se,s=_r(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,s===0||t===a&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&ti(n),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||un(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(n!==null&&ti(n),ni(s)){case 2:case 8:s=Qo;break;case 32:s=vr;break;case 268435456:s=Ko;break;default:s=vr}return n=l0.bind(null,t),s=ei(s,n),t.callbackPriority=a,t.callbackNode=s,a}return n!==null&&n!==null&&ti(n),t.callbackPriority=2,t.callbackNode=null,2}function l0(t,a){if(rt!==0&&rt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(pl()&&t.callbackNode!==s)return null;var n=Se;return n=_r(t,t===qe?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Vm(t,n,a),r0(t,$t()),t.callbackNode!=null&&t.callbackNode===s?l0.bind(null,t):null)}function i0(t,a){if(pl())return null;Vm(t,a,!0)}function rp(){fp(function(){(Ee&6)!==0?ei(Xo,np):n0()})}function Yc(){return hs===0&&(hs=Jo()),hs}function c0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rr(""+t)}function o0(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function lp(t,a,s,n,c){if(a==="submit"&&s&&s.stateNode===c){var d=c0((c[xt]||null).action),y=n.submitter;y&&(a=(a=y[xt]||null)?c0(a.formAction):y.getAttribute("formAction"),a!==null&&(d=a,y=null));var w=new Tr("action","action",null,n,c);t.push({event:w,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(hs!==0){var L=y?o0(c,y):new FormData(c);dc(s,{pending:!0,data:L,method:c.method,action:d},null,L)}}else typeof d=="function"&&(w.preventDefault(),L=y?o0(c,y):new FormData(c),dc(s,{pending:!0,data:L,method:c.method,action:d},d,L))},currentTarget:c}]})}}for(var Gc=0;Gc<Ri.length;Gc++){var $c=Ri[Gc],ip=$c.toLowerCase(),cp=$c[0].toUpperCase()+$c.slice(1);Vt(ip,"on"+cp)}Vt(Vd,"onAnimationEnd"),Vt(Fd,"onAnimationIteration"),Vt(Yd,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(Sf,"onTransitionRun"),Vt(kf,"onTransitionStart"),Vt(Cf,"onTransitionCancel"),Vt(Gd,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qn));function d0(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],c=n.event;n=n.listeners;e:{var d=void 0;if(a)for(var y=n.length-1;0<=y;y--){var w=n[y],L=w.instance,P=w.currentTarget;if(w=w.listener,L!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=P;try{d(c)}catch(Z){rl(Z)}c.currentTarget=null,d=L}else for(y=0;y<n.length;y++){if(w=n[y],L=w.instance,P=w.currentTarget,w=w.listener,L!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=P;try{d(c)}catch(Z){rl(Z)}c.currentTarget=null,d=L}}}}function _e(t,a){var s=a[ri];s===void 0&&(s=a[ri]=new Set);var n=t+"__bubble";s.has(n)||(u0(a,t,2,!1),s.add(n))}function Zc(t,a,s){var n=0;a&&(n|=4),u0(s,t,n,a)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[bl]){t[bl]=!0,nd.forEach(function(s){s!=="selectionchange"&&(op.has(s)||Zc(s,!1,t),Zc(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[bl]||(a[bl]=!0,Zc("selectionchange",!1,a))}}function u0(t,a,s,n){switch(z0(a)){case 2:var c=Op;break;case 8:c=Bp;break;default:c=co}s=c.bind(null,a,s,t),c=void 0,!pi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(c=!0),n?c!==void 0?t.addEventListener(a,s,{capture:!0,passive:c}):t.addEventListener(a,s,!0):c!==void 0?t.addEventListener(a,s,{passive:c}):t.addEventListener(a,s,!1)}function Xc(t,a,s,n,c){var d=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var w=n.stateNode.containerInfo;if(w===c)break;if(y===4)for(y=n.return;y!==null;){var L=y.tag;if((L===3||L===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;w!==null;){if(y=ys(w),y===null)return;if(L=y.tag,L===5||L===6||L===26||L===27){n=d=y;continue e}w=w.parentNode}}n=n.return}yd(function(){var P=d,Z=xi(s),Q=[];e:{var V=$d.get(t);if(V!==void 0){var F=Tr,he=t;switch(t){case"keypress":if(Er(s)===0)break e;case"keydown":case"keyup":F=af;break;case"focusin":he="focus",F=ji;break;case"focusout":he="blur",F=ji;break;case"beforeblur":case"afterblur":F=ji;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=rf;break;case Vd:case Fd:case Yd:F=Zx;break;case Gd:F=cf;break;case"scroll":case"scrollend":F=Vx;break;case"wheel":F=df;break;case"copy":case"cut":case"paste":F=Xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=wd;break;case"toggle":case"beforetoggle":F=mf}var ue=(a&4)!==0,ze=!ue&&(t==="scroll"||t==="scrollend"),z=ue?V!==null?V+"Capture":null:V;ue=[];for(var D=P,U;D!==null;){var X=D;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||z===null||(X=fn(D,z),X!=null&&ue.push(Kn(D,X,U))),ze)break;D=D.return}0<ue.length&&(V=new F(V,he,null,s,Z),Q.push({event:V,listeners:ue}))}}if((a&7)===0){e:{if(V=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",V&&s!==hi&&(he=s.relatedTarget||s.fromElement)&&(ys(he)||he[gs]))break e;if((F||V)&&(V=Z.window===Z?Z:(V=Z.ownerDocument)?V.defaultView||V.parentWindow:window,F?(he=s.relatedTarget||s.toElement,F=P,he=he?ys(he):null,he!==null&&(ze=m(he),ue=he.tag,he!==ze||ue!==5&&ue!==27&&ue!==6)&&(he=null)):(F=null,he=P),F!==he)){if(ue=vd,X="onMouseLeave",z="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ue=wd,X="onPointerLeave",z="onPointerEnter",D="pointer"),ze=F==null?V:xn(F),U=he==null?V:xn(he),V=new ue(X,D+"leave",F,s,Z),V.target=ze,V.relatedTarget=U,X=null,ys(Z)===P&&(ue=new ue(z,D+"enter",he,s,Z),ue.target=U,ue.relatedTarget=ze,X=ue),ze=X,F&&he)t:{for(ue=F,z=he,D=0,U=ue;U;U=Js(U))D++;for(U=0,X=z;X;X=Js(X))U++;for(;0<D-U;)ue=Js(ue),D--;for(;0<U-D;)z=Js(z),U--;for(;D--;){if(ue===z||z!==null&&ue===z.alternate)break t;ue=Js(ue),z=Js(z)}ue=null}else ue=null;F!==null&&m0(Q,V,F,ue,!1),he!==null&&ze!==null&&m0(Q,ze,he,ue,!0)}}e:{if(V=P?xn(P):window,F=V.nodeName&&V.nodeName.toLowerCase(),F==="select"||F==="input"&&V.type==="file")var re=Ed;else if(Rd(V))if(Ld)re=Nf;else{re=jf;var Ne=bf}else F=V.nodeName,!F||F.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?P&&mi(P.elementType)&&(re=Ed):re=vf;if(re&&(re=re(t,P))){Md(Q,re,s,Z);break e}Ne&&Ne(t,V,P),t==="focusout"&&P&&V.type==="number"&&P.memoizedProps.value!=null&&ui(V,"number",V.value)}switch(Ne=P?xn(P):window,t){case"focusin":(Rd(Ne)||Ne.contentEditable==="true")&&(As=Ne,ki=P,wn=null);break;case"focusout":wn=ki=As=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Hd(Q,s,Z);break;case"selectionchange":if(_f)break;case"keydown":case"keyup":Hd(Q,s,Z)}var le;if(Ni)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Cs?Cd(t,s)&&(me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(_d&&s.locale!=="ko"&&(Cs||me!=="onCompositionStart"?me==="onCompositionEnd"&&Cs&&(le=bd()):(ba=Z,gi="value"in ba?ba.value:ba.textContent,Cs=!0)),Ne=jl(P,me),0<Ne.length&&(me=new Nd(me,t,null,s,Z),Q.push({event:me,listeners:Ne}),le?me.data=le:(le=Ad(s),le!==null&&(me.data=le)))),(le=xf?ff(t,s):pf(t,s))&&(me=jl(P,"onBeforeInput"),0<me.length&&(Ne=new Nd("onBeforeInput","beforeinput",null,s,Z),Q.push({event:Ne,listeners:me}),Ne.data=le)),lp(Q,t,P,s,Z)}d0(Q,a)})}function Kn(t,a,s){return{instance:t,listener:a,currentTarget:s}}function jl(t,a){for(var s=a+"Capture",n=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=fn(t,s),c!=null&&n.unshift(Kn(t,c,d)),c=fn(t,a),c!=null&&n.push(Kn(t,c,d))),t.tag===3)return n;t=t.return}return[]}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m0(t,a,s,n,c){for(var d=a._reactName,y=[];s!==null&&s!==n;){var w=s,L=w.alternate,P=w.stateNode;if(w=w.tag,L!==null&&L===n)break;w!==5&&w!==26&&w!==27||P===null||(L=P,c?(P=fn(s,d),P!=null&&y.unshift(Kn(s,P,L))):c||(P=fn(s,d),P!=null&&y.push(Kn(s,P,L)))),s=s.return}y.length!==0&&t.push({event:a,listeners:y})}var dp=/\r\n?/g,up=/\u0000|\uFFFD/g;function h0(t){return(typeof t=="string"?t:""+t).replace(dp,`
`).replace(up,"")}function x0(t,a){return a=h0(a),h0(t)===a}function vl(){}function De(t,a,s,n,c,d){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||_s(t,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&_s(t,""+n);break;case"className":kr(t,"class",n);break;case"tabIndex":kr(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(t,s,n);break;case"style":pd(t,n,d);break;case"data":if(a!=="object"){kr(t,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=Rr(""+n),t.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&De(t,a,"name",c.name,c,null),De(t,a,"formEncType",c.formEncType,c,null),De(t,a,"formMethod",c.formMethod,c,null),De(t,a,"formTarget",c.formTarget,c,null)):(De(t,a,"encType",c.encType,c,null),De(t,a,"method",c.method,c,null),De(t,a,"target",c.target,c,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=Rr(""+n),t.setAttribute(s,n);break;case"onClick":n!=null&&(t.onclick=vl);break;case"onScroll":n!=null&&_e("scroll",t);break;case"onScrollEnd":n!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(s=n.__html,s!=null){if(c.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}s=Rr(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""+n):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":n===!0?t.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,n):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(s,n):t.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(s):t.setAttribute(s,n);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Sr(t,"popover",n);break;case"xlinkActuate":ea(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ea(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ea(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ea(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ea(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ea(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ea(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ea(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ea(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Sr(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hx.get(s)||s,Sr(t,s,n))}}function Qc(t,a,s,n,c,d){switch(s){case"style":pd(t,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(s=n.__html,s!=null){if(c.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof n=="string"?_s(t,n):(typeof n=="number"||typeof n=="bigint")&&_s(t,""+n);break;case"onScroll":n!=null&&_e("scroll",t);break;case"onScrollEnd":n!=null&&_e("scrollend",t);break;case"onClick":n!=null&&(t.onclick=vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),a=s.slice(2,c?s.length-7:void 0),d=t[xt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(a,d,c),typeof n=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,n,c);break e}s in t?t[s]=n:n===!0?t.setAttribute(s,""):Sr(t,s,n)}}}function lt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var n=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":n=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(t,a,d,y,s,null)}}c&&De(t,a,"srcSet",s.srcSet,s,null),n&&De(t,a,"src",s.src,s,null);return;case"input":_e("invalid",t);var w=d=y=c=null,L=null,P=null;for(n in s)if(s.hasOwnProperty(n)){var Z=s[n];if(Z!=null)switch(n){case"name":c=Z;break;case"type":y=Z;break;case"checked":L=Z;break;case"defaultChecked":P=Z;break;case"value":d=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:De(t,a,n,Z,s,null)}}md(t,d,w,L,P,y,c,!1),Cr(t);return;case"select":_e("invalid",t),n=y=d=null;for(c in s)if(s.hasOwnProperty(c)&&(w=s[c],w!=null))switch(c){case"value":d=w;break;case"defaultValue":y=w;break;case"multiple":n=w;default:De(t,a,c,w,s,null)}a=d,s=y,t.multiple=!!n,a!=null?ws(t,!!n,a,!1):s!=null&&ws(t,!!n,s,!0);return;case"textarea":_e("invalid",t),d=c=n=null;for(y in s)if(s.hasOwnProperty(y)&&(w=s[y],w!=null))switch(y){case"value":n=w;break;case"defaultValue":c=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:De(t,a,y,w,s,null)}xd(t,n,c,d),Cr(t);return;case"option":for(L in s)if(s.hasOwnProperty(L)&&(n=s[L],n!=null))switch(L){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:De(t,a,L,n,s,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(n=0;n<Qn.length;n++)_e(Qn[n],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(n=s[P],n!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:De(t,a,P,n,s,null)}return;default:if(mi(a)){for(Z in s)s.hasOwnProperty(Z)&&(n=s[Z],n!==void 0&&Qc(t,a,Z,n,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(n=s[w],n!=null&&De(t,a,w,n,s,null))}function mp(t,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,w=null,L=null,P=null,Z=null;for(F in s){var Q=s[F];if(s.hasOwnProperty(F)&&Q!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":L=Q;default:n.hasOwnProperty(F)||De(t,a,F,null,n,Q)}}for(var V in n){var F=n[V];if(Q=s[V],n.hasOwnProperty(V)&&(F!=null||Q!=null))switch(V){case"type":d=F;break;case"name":c=F;break;case"checked":P=F;break;case"defaultChecked":Z=F;break;case"value":y=F;break;case"defaultValue":w=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,a));break;default:F!==Q&&De(t,a,V,F,n,Q)}}di(t,y,w,L,P,Z,d,c);return;case"select":F=y=w=V=null;for(d in s)if(L=s[d],s.hasOwnProperty(d)&&L!=null)switch(d){case"value":break;case"multiple":F=L;default:n.hasOwnProperty(d)||De(t,a,d,null,n,L)}for(c in n)if(d=n[c],L=s[c],n.hasOwnProperty(c)&&(d!=null||L!=null))switch(c){case"value":V=d;break;case"defaultValue":w=d;break;case"multiple":y=d;default:d!==L&&De(t,a,c,d,n,L)}a=w,s=y,n=F,V!=null?ws(t,!!s,V,!1):!!n!=!!s&&(a!=null?ws(t,!!s,a,!0):ws(t,!!s,s?[]:"",!1));return;case"textarea":F=V=null;for(w in s)if(c=s[w],s.hasOwnProperty(w)&&c!=null&&!n.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:De(t,a,w,null,n,c)}for(y in n)if(c=n[y],d=s[y],n.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":V=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==d&&De(t,a,y,c,n,d)}hd(t,V,F);return;case"option":for(var he in s)if(V=s[he],s.hasOwnProperty(he)&&V!=null&&!n.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:De(t,a,he,null,n,V)}for(L in n)if(V=n[L],F=s[L],n.hasOwnProperty(L)&&V!==F&&(V!=null||F!=null))switch(L){case"selected":t.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:De(t,a,L,V,n,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in s)V=s[ue],s.hasOwnProperty(ue)&&V!=null&&!n.hasOwnProperty(ue)&&De(t,a,ue,null,n,V);for(P in n)if(V=n[P],F=s[P],n.hasOwnProperty(P)&&V!==F&&(V!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,a));break;default:De(t,a,P,V,n,F)}return;default:if(mi(a)){for(var ze in s)V=s[ze],s.hasOwnProperty(ze)&&V!==void 0&&!n.hasOwnProperty(ze)&&Qc(t,a,ze,void 0,n,V);for(Z in n)V=n[Z],F=s[Z],!n.hasOwnProperty(Z)||V===F||V===void 0&&F===void 0||Qc(t,a,Z,V,n,F);return}}for(var z in s)V=s[z],s.hasOwnProperty(z)&&V!=null&&!n.hasOwnProperty(z)&&De(t,a,z,null,n,V);for(Q in n)V=n[Q],F=s[Q],!n.hasOwnProperty(Q)||V===F||V==null&&F==null||De(t,a,Q,V,n,F)}var Kc=null,Jc=null;function Nl(t){return t.nodeType===9?t:t.ownerDocument}function f0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Ic(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var eo=null;function hp(){var t=window.event;return t&&t.type==="popstate"?t===eo?!1:(eo=t,!0):(eo=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,fp=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(t){return y0.resolve(null).then(t).catch(pp)}:g0;function pp(t){setTimeout(function(){throw t})}function za(t){return t==="head"}function b0(t,a){var s=a,n=0,c=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<n&&8>n){s=n;var y=t.ownerDocument;if(s&1&&Jn(y.documentElement),s&2&&Jn(y.body),s&4)for(s=y.head,Jn(s),y=s.firstChild;y;){var w=y.nextSibling,L=y.nodeName;y[hn]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=w}}if(c===0){t.removeChild(d),lr(a);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:n=s.charCodeAt(0)-48;else n=0;s=d}while(s);lr(a)}function to(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":to(s),li(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gp(t,a,s,n){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[hn])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yt(t.nextSibling),t===null)break}return null}function yp(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yt(t.nextSibling),t===null))return null;return t}function ao(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function bp(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Yt(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var so=null;function j0(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function v0(t,a,s){switch(a=Nl(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Jn(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);li(t)}var Pt=new Map,N0=new Set;function wl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xa=ee.d;ee.d={f:jp,r:vp,D:Np,C:wp,L:_p,m:Sp,X:Cp,S:kp,M:Ap};function jp(){var t=xa.f(),a=xl();return t||a}function vp(t){var a=bs(t);a!==null&&a.tag===5&&a.type==="form"?Vu(a):xa.r(t)}var Is=typeof document>"u"?null:document;function w0(t,a,s){var n=Is;if(n&&typeof a=="string"&&a){var c=Dt(a);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),N0.has(c)||(N0.add(c),t={rel:t,crossOrigin:s,href:a},n.querySelector(c)===null&&(a=n.createElement("link"),lt(a,"link",t),et(a),n.head.appendChild(a)))}}function Np(t){xa.D(t),w0("dns-prefetch",t,null)}function wp(t,a){xa.C(t,a),w0("preconnect",t,a)}function _p(t,a,s){xa.L(t,a,s);var n=Is;if(n&&t&&a){var c='link[rel="preload"][as="'+Dt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Dt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Dt(s.imageSizes)+'"]')):c+='[href="'+Dt(t)+'"]';var d=c;switch(a){case"style":d=en(t);break;case"script":d=tn(t)}Pt.has(d)||(t=g({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Pt.set(d,t),n.querySelector(c)!==null||a==="style"&&n.querySelector(In(d))||a==="script"&&n.querySelector(er(d))||(a=n.createElement("link"),lt(a,"link",t),et(a),n.head.appendChild(a)))}}function Sp(t,a){xa.m(t,a);var s=Is;if(s&&t){var n=a&&typeof a.as=="string"?a.as:"script",c='link[rel="modulepreload"][as="'+Dt(n)+'"][href="'+Dt(t)+'"]',d=c;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=tn(t)}if(!Pt.has(d)&&(t=g({rel:"modulepreload",href:t},a),Pt.set(d,t),s.querySelector(c)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(er(d)))return}n=s.createElement("link"),lt(n,"link",t),et(n),s.head.appendChild(n)}}}function kp(t,a,s){xa.S(t,a,s);var n=Is;if(n&&t){var c=js(n).hoistableStyles,d=en(t);a=a||"default";var y=c.get(d);if(!y){var w={loading:0,preload:null};if(y=n.querySelector(In(d)))w.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Pt.get(d))&&no(t,s);var L=y=n.createElement("link");et(L),lt(L,"link",t),L._p=new Promise(function(P,Z){L.onload=P,L.onerror=Z}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,_l(y,a,n)}y={type:"stylesheet",instance:y,count:1,state:w},c.set(d,y)}}}function Cp(t,a){xa.X(t,a);var s=Is;if(s&&t){var n=js(s).hoistableScripts,c=tn(t),d=n.get(c);d||(d=s.querySelector(er(c)),d||(t=g({src:t,async:!0},a),(a=Pt.get(c))&&ro(t,a),d=s.createElement("script"),et(d),lt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(c,d))}}function Ap(t,a){xa.M(t,a);var s=Is;if(s&&t){var n=js(s).hoistableScripts,c=tn(t),d=n.get(c);d||(d=s.querySelector(er(c)),d||(t=g({src:t,async:!0,type:"module"},a),(a=Pt.get(c))&&ro(t,a),d=s.createElement("script"),et(d),lt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(c,d))}}function _0(t,a,s,n){var c=(c=fe.current)?wl(c):null;if(!c)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=en(s.href),s=js(c).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=en(s.href);var d=js(c).hoistableStyles,y=d.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=c.querySelector(In(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Pt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pt.set(t,s),d||Rp(c,t,s,y.state))),a&&n===null)throw Error(i(528,""));return y}if(a&&n!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=tn(s),s=js(c).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function en(t){return'href="'+Dt(t)+'"'}function In(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function Rp(t,a,s,n){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=t.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),lt(a,"link",s),et(a),t.head.appendChild(a))}function tn(t){return'[src="'+Dt(t)+'"]'}function er(t){return"script[async]"+t}function k0(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=t.querySelector('style[data-href~="'+Dt(s.href)+'"]');if(n)return a.instance=n,et(n),n;var c=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),et(n),lt(n,"style",c),_l(n,s.precedence,t),a.instance=n;case"stylesheet":c=en(s.href);var d=t.querySelector(In(c));if(d)return a.state.loading|=4,a.instance=d,et(d),d;n=S0(s),(c=Pt.get(c))&&no(n,c),d=(t.ownerDocument||t).createElement("link"),et(d);var y=d;return y._p=new Promise(function(w,L){y.onload=w,y.onerror=L}),lt(d,"link",n),a.state.loading|=4,_l(d,s.precedence,t),a.instance=d;case"script":return d=tn(s.src),(c=t.querySelector(er(d)))?(a.instance=c,et(c),c):(n=s,(c=Pt.get(d))&&(n=g({},s),ro(n,c)),t=t.ownerDocument||t,c=t.createElement("script"),et(c),lt(c,"link",n),t.head.appendChild(c),a.instance=c);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,_l(n,s.precedence,t));return a.instance}function _l(t,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=n.length?n[n.length-1]:null,d=c,y=0;y<n.length;y++){var w=n[y];if(w.dataset.precedence===a)d=w;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function no(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function ro(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Sl=null;function C0(t,a,s){if(Sl===null){var n=new Map,c=Sl=new Map;c.set(s,n)}else c=Sl,n=c.get(s),n||(n=new Map,c.set(s,n));if(n.has(t))return n;for(n.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var d=s[c];if(!(d[hn]||d[ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(a)||"";y=t+y;var w=n.get(y);w?w.push(d):n.set(y,[d])}}return n}function A0(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Mp(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var tr=null;function Ep(){}function Lp(t,a,s){if(tr===null)throw Error(i(475));var n=tr;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=en(s.href),d=t.querySelector(In(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=kl.bind(n),t.then(n,n)),a.state.loading|=4,a.instance=d,et(d);return}d=t.ownerDocument||t,s=S0(s),(c=Pt.get(c))&&no(s,c),d=d.createElement("link"),et(d);var y=d;y._p=new Promise(function(w,L){y.onload=w,y.onerror=L}),lt(d,"link",s),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=kl.bind(n),t.addEventListener("load",a),t.addEventListener("error",a))}}function Tp(){if(tr===null)throw Error(i(475));var t=tr;return t.stylesheets&&t.count===0&&lo(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&lo(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function kl(){if(this.count--,this.count===0){if(this.stylesheets)lo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cl=null;function lo(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cl=new Map,a.forEach(Dp,t),Cl=null,kl.call(t))}function Dp(t,a){if(!(a.state.loading&4)){var s=Cl.get(t);if(s)var n=s.get(null);else{s=new Map,Cl.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),n=y)}n&&s.set(null,n)}c=a.instance,y=c.getAttribute("data-precedence"),d=s.get(y)||n,d===n&&s.set(null,c),s.set(y,c),this.count++,n=kl.bind(this),c.addEventListener("load",n),c.addEventListener("error",n),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),a.state.loading|=4}}var ar={$$typeof:_,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function zp(t,a,s,n,c,d,y,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=n,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function M0(t,a,s,n,c,d,y,w,L,P,Z,Q){return t=new zp(t,a,s,y,w,L,P,Q),a=1,d===!0&&(a|=24),d=St(3,null,null,a),t.current=d,d.stateNode=t,a=Pi(),a.refCount++,t.pooledCache=a,a.refCount++,d.memoizedState={element:n,isDehydrated:s,cache:a},Gi(d),t}function E0(t){return t?(t=Ls,t):Ls}function L0(t,a,s,n,c,d){c=E0(c),n.context===null?n.context=c:n.pendingContext=c,n=Na(a),n.payload={element:s},d=d===void 0?null:d,d!==null&&(n.callback=d),s=wa(t,n,a),s!==null&&(Mt(s,t,a),Ln(s,t,a))}function T0(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function io(t,a){T0(t,a),(t=t.alternate)&&T0(t,a)}function D0(t){if(t.tag===13){var a=Es(t,67108864);a!==null&&Mt(a,t,67108864),io(t,67108864)}}var Al=!0;function Op(t,a,s,n){var c=G.T;G.T=null;var d=ee.p;try{ee.p=2,co(t,a,s,n)}finally{ee.p=d,G.T=c}}function Bp(t,a,s,n){var c=G.T;G.T=null;var d=ee.p;try{ee.p=8,co(t,a,s,n)}finally{ee.p=d,G.T=c}}function co(t,a,s,n){if(Al){var c=oo(n);if(c===null)Xc(t,a,n,Rl,s),O0(t,n);else if(qp(c,t,a,s,n))n.stopPropagation();else if(O0(t,n),a&4&&-1<Up.indexOf(t)){for(;c!==null;){var d=bs(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Qa(d.pendingLanes);if(y!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var L=1<<31-wt(y);w.entanglements[1]|=L,y&=~L}Kt(d),(Ee&6)===0&&(ml=$t()+500,Xn(0))}}break;case 13:w=Es(d,2),w!==null&&Mt(w,d,2),xl(),io(d,2)}if(d=oo(n),d===null&&Xc(t,a,n,Rl,s),d===c)break;c=d}c!==null&&n.stopPropagation()}else Xc(t,a,n,null,s)}}function oo(t){return t=xi(t),uo(t)}var Rl=null;function uo(t){if(Rl=null,t=ys(t),t!==null){var a=m(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=h(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Rl=t,null}function z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nx()){case Xo:return 2;case Qo:return 8;case vr:case wx:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var mo=!1,Oa=null,Ba=null,Ua=null,sr=new Map,nr=new Map,qa=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O0(t,a){switch(t){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":sr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(a.pointerId)}}function rr(t,a,s,n,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:d,targetContainers:[c]},a!==null&&(a=bs(a),a!==null&&D0(a)),t):(t.eventSystemFlags|=n,a=t.targetContainers,c!==null&&a.indexOf(c)===-1&&a.push(c),t)}function qp(t,a,s,n,c){switch(a){case"focusin":return Oa=rr(Oa,t,a,s,n,c),!0;case"dragenter":return Ba=rr(Ba,t,a,s,n,c),!0;case"mouseover":return Ua=rr(Ua,t,a,s,n,c),!0;case"pointerover":var d=c.pointerId;return sr.set(d,rr(sr.get(d)||null,t,a,s,n,c)),!0;case"gotpointercapture":return d=c.pointerId,nr.set(d,rr(nr.get(d)||null,t,a,s,n,c)),!0}return!1}function B0(t){var a=ys(t.target);if(a!==null){var s=m(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){t.blockedOn=a,Ex(t.priority,function(){if(s.tag===13){var n=Rt();n=si(n);var c=Es(s,n);c!==null&&Mt(c,s,n),io(s,n)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ml(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=oo(t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);hi=n,s.target.dispatchEvent(n),hi=null}else return a=bs(s),a!==null&&D0(a),t.blockedOn=s,!1;a.shift()}return!0}function U0(t,a,s){Ml(t)&&s.delete(a)}function Hp(){mo=!1,Oa!==null&&Ml(Oa)&&(Oa=null),Ba!==null&&Ml(Ba)&&(Ba=null),Ua!==null&&Ml(Ua)&&(Ua=null),sr.forEach(U0),nr.forEach(U0)}function El(t,a){t.blockedOn===a&&(t.blockedOn=null,mo||(mo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hp)))}var Ll=null;function q0(t){Ll!==t&&(Ll=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ll===t&&(Ll=null);for(var a=0;a<t.length;a+=3){var s=t[a],n=t[a+1],c=t[a+2];if(typeof n!="function"){if(uo(n||s)===null)continue;break}var d=bs(s);d!==null&&(t.splice(a,3),a-=3,dc(d,{pending:!0,data:c,method:s.method,action:n},n,c))}}))}function lr(t){function a(L){return El(L,t)}Oa!==null&&El(Oa,t),Ba!==null&&El(Ba,t),Ua!==null&&El(Ua,t),sr.forEach(a),nr.forEach(a);for(var s=0;s<qa.length;s++){var n=qa[s];n.blockedOn===t&&(n.blockedOn=null)}for(;0<qa.length&&(s=qa[0],s.blockedOn===null);)B0(s),s.blockedOn===null&&qa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var c=s[n],d=s[n+1],y=c[xt]||null;if(typeof d=="function")y||q0(s);else if(y){var w=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[xt]||null)w=y.formAction;else if(uo(c)!==null)continue}else w=y.action;typeof w=="function"?s[n+1]=w:(s.splice(n,3),n-=3),q0(s)}}}function ho(t){this._internalRoot=t}Tl.prototype.render=ho.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,n=Rt();L0(s,n,t,a,null,null)},Tl.prototype.unmount=ho.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;L0(t.current,2,null,t,null,null),xl(),a[gs]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var a=ad();t={blockedOn:null,target:t,priority:a};for(var s=0;s<qa.length&&a!==0&&a<qa[s].priority;s++);qa.splice(s,0,t),s===0&&B0(t)}};var H0=l.version;if(H0!=="19.1.0")throw Error(i(527,H0,"19.1.0"));ee.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=b(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Pp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{dn=Dl.inject(Pp),Nt=Dl}catch{}}return cr.createRoot=function(t,a){if(!u(t))throw Error(i(299));var s=!1,n="",c=am,d=sm,y=nm,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=M0(t,1,!1,null,null,s,n,c,d,y,w,null),t[gs]=a.current,Wc(t),new ho(a)},cr.hydrateRoot=function(t,a,s){if(!u(t))throw Error(i(299));var n=!1,c="",d=am,y=sm,w=nm,L=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),a=M0(t,1,!0,a,s??null,n,c,d,y,w,L,P),a.context=E0(null),s=a.current,n=Rt(),n=si(n),c=Na(n),c.callback=null,wa(s,c,n),s=n,a.current.lanes=s,mn(a,s),Kt(a),t[gs]=a.current,Wc(t),new Tl(a)},cr.version="19.1.0",cr}var K0;function Ip(){if(K0)return fo.exports;K0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),fo.exports=Jp(),fo.exports}var eg=Ip(),N=Uo();const Lh=Mh(N),tg=Gp({__proto__:null,default:Lh},[N]);Eh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xr(){return xr=Object.assign?Object.assign.bind():function(r){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},xr.apply(this,arguments)}var Ya;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ya||(Ya={}));const J0="popstate";function ag(r){r===void 0&&(r={});function l(i,u){let{pathname:m,search:h,hash:f}=i.location;return Ro("",{pathname:m,search:h,hash:f},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(i,u){return typeof u=="string"?u:Vl(u)}return ng(l,o,null,r)}function We(r,l){if(r===!1||r===null||typeof r>"u")throw new Error(l)}function Th(r,l){if(!r){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function sg(){return Math.random().toString(36).substr(2,8)}function I0(r,l){return{usr:r.state,key:r.key,idx:l}}function Ro(r,l,o,i){return o===void 0&&(o=null),xr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof l=="string"?nn(l):l,{state:o,key:l&&l.key||i||sg()})}function Vl(r){let{pathname:l="/",search:o="",hash:i=""}=r;return o&&o!=="?"&&(l+=o.charAt(0)==="?"?o:"?"+o),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i),l}function nn(r){let l={};if(r){let o=r.indexOf("#");o>=0&&(l.hash=r.substr(o),r=r.substr(0,o));let i=r.indexOf("?");i>=0&&(l.search=r.substr(i),r=r.substr(0,i)),r&&(l.pathname=r)}return l}function ng(r,l,o,i){i===void 0&&(i={});let{window:u=document.defaultView,v5Compat:m=!1}=i,h=u.history,f=Ya.Pop,b=null,x=g();x==null&&(x=0,h.replaceState(xr({},h.state,{idx:x}),""));function g(){return(h.state||{idx:null}).idx}function p(){f=Ya.Pop;let j=g(),k=j==null?null:j-x;x=j,b&&b({action:f,location:A.location,delta:k})}function C(j,k){f=Ya.Push;let S=Ro(A.location,j,k);x=g()+1;let _=I0(S,x),E=A.createHref(S);try{h.pushState(_,"",E)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;u.location.assign(E)}m&&b&&b({action:f,location:A.location,delta:1})}function M(j,k){f=Ya.Replace;let S=Ro(A.location,j,k);x=g();let _=I0(S,x),E=A.createHref(S);h.replaceState(_,"",E),m&&b&&b({action:f,location:A.location,delta:0})}function R(j){let k=u.location.origin!=="null"?u.location.origin:u.location.href,S=typeof j=="string"?j:Vl(j);return S=S.replace(/ $/,"%20"),We(k,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,k)}let A={get action(){return f},get location(){return r(u,h)},listen(j){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(J0,p),b=j,()=>{u.removeEventListener(J0,p),b=null}},createHref(j){return l(u,j)},createURL:R,encodeLocation(j){let k=R(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:C,replace:M,go(j){return h.go(j)}};return A}var eh;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(eh||(eh={}));function rg(r,l,o){return o===void 0&&(o="/"),lg(r,l,o)}function lg(r,l,o,i){let u=typeof l=="string"?nn(l):l,m=qo(u.pathname||"/",o);if(m==null)return null;let h=Dh(r);ig(h);let f=null;for(let b=0;f==null&&b<h.length;++b){let x=bg(m);f=pg(h[b],x)}return f}function Dh(r,l,o,i){l===void 0&&(l=[]),o===void 0&&(o=[]),i===void 0&&(i="");let u=(m,h,f)=>{let b={relativePath:f===void 0?m.path||"":f,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};b.relativePath.startsWith("/")&&(We(b.relativePath.startsWith(i),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(i.length));let x=Ga([i,b.relativePath]),g=o.concat(b);m.children&&m.children.length>0&&(We(m.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Dh(m.children,l,g,x)),!(m.path==null&&!m.index)&&l.push({path:x,score:xg(x,m.index),routesMeta:g})};return r.forEach((m,h)=>{var f;if(m.path===""||!((f=m.path)!=null&&f.includes("?")))u(m,h);else for(let b of zh(m.path))u(m,h,b)}),l}function zh(r){let l=r.split("/");if(l.length===0)return[];let[o,...i]=l,u=o.endsWith("?"),m=o.replace(/\?$/,"");if(i.length===0)return u?[m,""]:[m];let h=zh(i.join("/")),f=[];return f.push(...h.map(b=>b===""?m:[m,b].join("/"))),u&&f.push(...h),f.map(b=>r.startsWith("/")&&b===""?"/":b)}function ig(r){r.sort((l,o)=>l.score!==o.score?o.score-l.score:fg(l.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}const cg=/^:[\w-]+$/,og=3,dg=2,ug=1,mg=10,hg=-2,th=r=>r==="*";function xg(r,l){let o=r.split("/"),i=o.length;return o.some(th)&&(i+=hg),l&&(i+=dg),o.filter(u=>!th(u)).reduce((u,m)=>u+(cg.test(m)?og:m===""?ug:mg),i)}function fg(r,l){return r.length===l.length&&r.slice(0,-1).every((i,u)=>i===l[u])?r[r.length-1]-l[l.length-1]:0}function pg(r,l,o){let{routesMeta:i}=r,u={},m="/",h=[];for(let f=0;f<i.length;++f){let b=i[f],x=f===i.length-1,g=m==="/"?l:l.slice(m.length)||"/",p=gg({path:b.relativePath,caseSensitive:b.caseSensitive,end:x},g),C=b.route;if(!p)return null;Object.assign(u,p.params),h.push({params:u,pathname:Ga([m,p.pathname]),pathnameBase:wg(Ga([m,p.pathnameBase])),route:C}),p.pathnameBase!=="/"&&(m=Ga([m,p.pathnameBase]))}return h}function gg(r,l){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,i]=yg(r.path,r.caseSensitive,r.end),u=l.match(o);if(!u)return null;let m=u[0],h=m.replace(/(.)\/+$/,"$1"),f=u.slice(1);return{params:i.reduce((x,g,p)=>{let{paramName:C,isOptional:M}=g;if(C==="*"){let A=f[p]||"";h=m.slice(0,m.length-A.length).replace(/(.)\/+$/,"$1")}const R=f[p];return M&&!R?x[C]=void 0:x[C]=(R||"").replace(/%2F/g,"/"),x},{}),pathname:m,pathnameBase:h,pattern:r}}function yg(r,l,o){l===void 0&&(l=!1),o===void 0&&(o=!0),Th(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,b)=>(i.push({paramName:f,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,l?void 0:"i"),i]}function bg(r){try{return r.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Th(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),r}}function qo(r,l){if(l==="/")return r;if(!r.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,i=r.charAt(o);return i&&i!=="/"?null:r.slice(o)||"/"}function jg(r,l){l===void 0&&(l="/");let{pathname:o,search:i="",hash:u=""}=typeof r=="string"?nn(r):r;return{pathname:o?o.startsWith("/")?o:vg(o,l):l,search:_g(i),hash:Sg(u)}}function vg(r,l){let o=l.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function jo(r,l,o,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ng(r){return r.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function Ho(r,l){let o=Ng(r);return l?o.map((i,u)=>u===o.length-1?i.pathname:i.pathnameBase):o.map(i=>i.pathnameBase)}function Po(r,l,o,i){i===void 0&&(i=!1);let u;typeof r=="string"?u=nn(r):(u=xr({},r),We(!u.pathname||!u.pathname.includes("?"),jo("?","pathname","search",u)),We(!u.pathname||!u.pathname.includes("#"),jo("#","pathname","hash",u)),We(!u.search||!u.search.includes("#"),jo("#","search","hash",u)));let m=r===""||u.pathname==="",h=m?"/":u.pathname,f;if(h==null)f=o;else{let p=l.length-1;if(!i&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),p-=1;u.pathname=C.join("/")}f=p>=0?l[p]:"/"}let b=jg(u,f),x=h&&h!=="/"&&h.endsWith("/"),g=(m||h===".")&&o.endsWith("/");return!b.pathname.endsWith("/")&&(x||g)&&(b.pathname+="/"),b}const Ga=r=>r.join("/").replace(/\/\/+/g,"/"),wg=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_g=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Sg=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kg(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Oh=["post","put","patch","delete"];new Set(Oh);const Cg=["get",...Oh];new Set(Cg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fr(){return fr=Object.assign?Object.assign.bind():function(r){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},fr.apply(this,arguments)}const Vo=N.createContext(null),Ag=N.createContext(null),Za=N.createContext(null),Gl=N.createContext(null),It=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Bh=N.createContext(null);function Rg(r,l){let{relative:o}=l===void 0?{}:l;rn()||We(!1);let{basename:i,navigator:u}=N.useContext(Za),{hash:m,pathname:h,search:f}=qh(r,{relative:o}),b=h;return i!=="/"&&(b=h==="/"?i:Ga([i,h])),u.createHref({pathname:b,search:f,hash:m})}function rn(){return N.useContext(Gl)!=null}function Wa(){return rn()||We(!1),N.useContext(Gl).location}function Uh(r){N.useContext(Za).static||N.useLayoutEffect(r)}function ln(){let{isDataRoute:r}=N.useContext(It);return r?Yg():Mg()}function Mg(){rn()||We(!1);let r=N.useContext(Vo),{basename:l,future:o,navigator:i}=N.useContext(Za),{matches:u}=N.useContext(It),{pathname:m}=Wa(),h=JSON.stringify(Ho(u,o.v7_relativeSplatPath)),f=N.useRef(!1);return Uh(()=>{f.current=!0}),N.useCallback(function(x,g){if(g===void 0&&(g={}),!f.current)return;if(typeof x=="number"){i.go(x);return}let p=Po(x,JSON.parse(h),m,g.relative==="path");r==null&&l!=="/"&&(p.pathname=p.pathname==="/"?l:Ga([l,p.pathname])),(g.replace?i.replace:i.push)(p,g.state,g)},[l,i,h,m,r])}const Eg=N.createContext(null);function Lg(r){let l=N.useContext(It).outlet;return l&&N.createElement(Eg.Provider,{value:r},l)}function gr(){let{matches:r}=N.useContext(It),l=r[r.length-1];return l?l.params:{}}function qh(r,l){let{relative:o}=l===void 0?{}:l,{future:i}=N.useContext(Za),{matches:u}=N.useContext(It),{pathname:m}=Wa(),h=JSON.stringify(Ho(u,i.v7_relativeSplatPath));return N.useMemo(()=>Po(r,JSON.parse(h),m,o==="path"),[r,h,m,o])}function Tg(r,l){return Dg(r,l)}function Dg(r,l,o,i){rn()||We(!1);let{navigator:u,static:m}=N.useContext(Za),{matches:h}=N.useContext(It),f=h[h.length-1],b=f?f.params:{};f&&f.pathname;let x=f?f.pathnameBase:"/";f&&f.route;let g=Wa(),p;if(l){var C;let k=typeof l=="string"?nn(l):l;x==="/"||(C=k.pathname)!=null&&C.startsWith(x)||We(!1),p=k}else p=g;let M=p.pathname||"/",R=M;if(x!=="/"){let k=x.replace(/^\//,"").split("/");R="/"+M.replace(/^\//,"").split("/").slice(k.length).join("/")}let A=rg(r,{pathname:R}),j=qg(A&&A.map(k=>Object.assign({},k,{params:Object.assign({},b,k.params),pathname:Ga([x,u.encodeLocation?u.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:Ga([x,u.encodeLocation?u.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),h,o,i);return l&&j?N.createElement(Gl.Provider,{value:{location:fr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ya.Pop}},j):j}function zg(){let r=Fg(),l=kg(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},l),o?N.createElement("pre",{style:u},o):null,null)}const Og=N.createElement(zg,null);class Bg extends N.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,o){return o.location!==l.location||o.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:o.error,location:o.location,revalidation:l.revalidation||o.revalidation}}componentDidCatch(l,o){console.error("React Router caught the following error during render",l,o)}render(){return this.state.error!==void 0?N.createElement(It.Provider,{value:this.props.routeContext},N.createElement(Bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ug(r){let{routeContext:l,match:o,children:i}=r,u=N.useContext(Vo);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),N.createElement(It.Provider,{value:l},i)}function qg(r,l,o,i){var u;if(l===void 0&&(l=[]),o===void 0&&(o=null),i===void 0&&(i=null),r==null){var m;if(!o)return null;if(o.errors)r=o.matches;else if((m=i)!=null&&m.v7_partialHydration&&l.length===0&&!o.initialized&&o.matches.length>0)r=o.matches;else return null}let h=r,f=(u=o)==null?void 0:u.errors;if(f!=null){let g=h.findIndex(p=>p.route.id&&(f==null?void 0:f[p.route.id])!==void 0);g>=0||We(!1),h=h.slice(0,Math.min(h.length,g+1))}let b=!1,x=-1;if(o&&i&&i.v7_partialHydration)for(let g=0;g<h.length;g++){let p=h[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(x=g),p.route.id){let{loaderData:C,errors:M}=o,R=p.route.loader&&C[p.route.id]===void 0&&(!M||M[p.route.id]===void 0);if(p.route.lazy||R){b=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((g,p,C)=>{let M,R=!1,A=null,j=null;o&&(M=f&&p.route.id?f[p.route.id]:void 0,A=p.route.errorElement||Og,b&&(x<0&&C===0?(Gg("route-fallback"),R=!0,j=null):x===C&&(R=!0,j=p.route.hydrateFallbackElement||null)));let k=l.concat(h.slice(0,C+1)),S=()=>{let _;return M?_=A:R?_=j:p.route.Component?_=N.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=g,N.createElement(Ug,{match:p,routeContext:{outlet:g,matches:k,isDataRoute:o!=null},children:_})};return o&&(p.route.ErrorBoundary||p.route.errorElement||C===0)?N.createElement(Bg,{location:o.location,revalidation:o.revalidation,component:A,error:M,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):S()},null)}var Hh=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Hh||{}),Ph=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Ph||{});function Hg(r){let l=N.useContext(Vo);return l||We(!1),l}function Pg(r){let l=N.useContext(Ag);return l||We(!1),l}function Vg(r){let l=N.useContext(It);return l||We(!1),l}function Vh(r){let l=Vg(),o=l.matches[l.matches.length-1];return o.route.id||We(!1),o.route.id}function Fg(){var r;let l=N.useContext(Bh),o=Pg(),i=Vh();return l!==void 0?l:(r=o.errors)==null?void 0:r[i]}function Yg(){let{router:r}=Hg(Hh.UseNavigateStable),l=Vh(Ph.UseNavigateStable),o=N.useRef(!1);return Uh(()=>{o.current=!0}),N.useCallback(function(u,m){m===void 0&&(m={}),o.current&&(typeof u=="number"?r.navigate(u):r.navigate(u,fr({fromRouteId:l},m)))},[r,l])}const ah={};function Gg(r,l,o){ah[r]||(ah[r]=!0)}function $g(r,l){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Fa(r){let{to:l,replace:o,state:i,relative:u}=r;rn()||We(!1);let{future:m,static:h}=N.useContext(Za),{matches:f}=N.useContext(It),{pathname:b}=Wa(),x=ln(),g=Po(l,Ho(f,m.v7_relativeSplatPath),b,u==="path"),p=JSON.stringify(g);return N.useEffect(()=>x(JSON.parse(p),{replace:o,state:i,relative:u}),[x,p,u,o,i]),null}function Zg(r){return Lg(r.context)}function xe(r){We(!1)}function Wg(r){let{basename:l="/",children:o=null,location:i,navigationType:u=Ya.Pop,navigator:m,static:h=!1,future:f}=r;rn()&&We(!1);let b=l.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:b,navigator:m,static:h,future:fr({v7_relativeSplatPath:!1},f)}),[b,f,m,h]);typeof i=="string"&&(i=nn(i));let{pathname:g="/",search:p="",hash:C="",state:M=null,key:R="default"}=i,A=N.useMemo(()=>{let j=qo(g,b);return j==null?null:{location:{pathname:j,search:p,hash:C,state:M,key:R},navigationType:u}},[b,g,p,C,M,R,u]);return A==null?null:N.createElement(Za.Provider,{value:x},N.createElement(Gl.Provider,{children:o,value:A}))}function Xg(r){let{children:l,location:o}=r;return Tg(Mo(l),o)}new Promise(()=>{});function Mo(r,l){l===void 0&&(l=[]);let o=[];return N.Children.forEach(r,(i,u)=>{if(!N.isValidElement(i))return;let m=[...l,u];if(i.type===N.Fragment){o.push.apply(o,Mo(i.props.children,m));return}i.type!==xe&&We(!1),!i.props.index||!i.props.children||We(!1);let h={id:i.props.id||m.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Mo(i.props.children,m)),o.push(h)}),o}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(r){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},Eo.apply(this,arguments)}function Qg(r,l){if(r==null)return{};var o={},i=Object.keys(r),u,m;for(m=0;m<i.length;m++)u=i[m],!(l.indexOf(u)>=0)&&(o[u]=r[u]);return o}function Kg(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Jg(r,l){return r.button===0&&(!l||l==="_self")&&!Kg(r)}const Ig=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e1="6";try{window.__reactRouterVersion=e1}catch{}const t1="startTransition",sh=tg[t1];function a1(r){let{basename:l,children:o,future:i,window:u}=r,m=N.useRef();m.current==null&&(m.current=ag({window:u,v5Compat:!0}));let h=m.current,[f,b]=N.useState({action:h.action,location:h.location}),{v7_startTransition:x}=i||{},g=N.useCallback(p=>{x&&sh?sh(()=>b(p)):b(p)},[b,x]);return N.useLayoutEffect(()=>h.listen(g),[h,g]),N.useEffect(()=>$g(i),[i]),N.createElement(Wg,{basename:l,children:o,location:f.location,navigationType:f.action,navigator:h,future:i})}const s1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=N.forwardRef(function(l,o){let{onClick:i,relative:u,reloadDocument:m,replace:h,state:f,target:b,to:x,preventScrollReset:g,viewTransition:p}=l,C=Qg(l,Ig),{basename:M}=N.useContext(Za),R,A=!1;if(typeof x=="string"&&n1.test(x)&&(R=x,s1))try{let _=new URL(window.location.href),E=x.startsWith("//")?new URL(_.protocol+x):new URL(x),v=qo(E.pathname,M);E.origin===_.origin&&v!=null?x=v+E.search+E.hash:A=!0}catch{}let j=Rg(x,{relative:u}),k=r1(x,{replace:h,state:f,target:b,preventScrollReset:g,relative:u,viewTransition:p});function S(_){i&&i(_),_.defaultPrevented||k(_)}return N.createElement("a",Eo({},C,{href:R||j,onClick:A||m?i:S,ref:o,target:b}))});var nh;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(nh||(nh={}));var rh;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(rh||(rh={}));function r1(r,l){let{target:o,replace:i,state:u,preventScrollReset:m,relative:h,viewTransition:f}=l===void 0?{}:l,b=ln(),x=Wa(),g=qh(r,{relative:h});return N.useCallback(p=>{if(Jg(p,o)){p.preventDefault();let C=i!==void 0?i:Vl(x)===Vl(g);b(r,{replace:C,state:u,preventScrollReset:m,relative:h,viewTransition:f})}},[x,b,g,i,u,o,r,m,h,f])}function Fh(r,l){return function(){return r.apply(l,arguments)}}const{toString:l1}=Object.prototype,{getPrototypeOf:Fo}=Object,$l=(r=>l=>{const o=l1.call(l);return r[o]||(r[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=r=>(r=r.toLowerCase(),l=>$l(l)===r),Zl=r=>l=>typeof l===r,{isArray:cn}=Array,pr=Zl("undefined");function i1(r){return r!==null&&!pr(r)&&r.constructor!==null&&!pr(r.constructor)&&Lt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Yh=Gt("ArrayBuffer");function c1(r){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(r):l=r&&r.buffer&&Yh(r.buffer),l}const o1=Zl("string"),Lt=Zl("function"),Gh=Zl("number"),Wl=r=>r!==null&&typeof r=="object",d1=r=>r===!0||r===!1,ql=r=>{if($l(r)!=="object")return!1;const l=Fo(r);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},u1=Gt("Date"),m1=Gt("File"),h1=Gt("Blob"),x1=Gt("FileList"),f1=r=>Wl(r)&&Lt(r.pipe),p1=r=>{let l;return r&&(typeof FormData=="function"&&r instanceof FormData||Lt(r.append)&&((l=$l(r))==="formdata"||l==="object"&&Lt(r.toString)&&r.toString()==="[object FormData]"))},g1=Gt("URLSearchParams"),[y1,b1,j1,v1]=["ReadableStream","Request","Response","Headers"].map(Gt),N1=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yr(r,l,{allOwnKeys:o=!1}={}){if(r===null||typeof r>"u")return;let i,u;if(typeof r!="object"&&(r=[r]),cn(r))for(i=0,u=r.length;i<u;i++)l.call(null,r[i],i,r);else{const m=o?Object.getOwnPropertyNames(r):Object.keys(r),h=m.length;let f;for(i=0;i<h;i++)f=m[i],l.call(null,r[f],f,r)}}function $h(r,l){l=l.toLowerCase();const o=Object.keys(r);let i=o.length,u;for(;i-- >0;)if(u=o[i],l===u.toLowerCase())return u;return null}const xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zh=r=>!pr(r)&&r!==xs;function Lo(){const{caseless:r}=Zh(this)&&this||{},l={},o=(i,u)=>{const m=r&&$h(l,u)||u;ql(l[m])&&ql(i)?l[m]=Lo(l[m],i):ql(i)?l[m]=Lo({},i):cn(i)?l[m]=i.slice():l[m]=i};for(let i=0,u=arguments.length;i<u;i++)arguments[i]&&yr(arguments[i],o);return l}const w1=(r,l,o,{allOwnKeys:i}={})=>(yr(l,(u,m)=>{o&&Lt(u)?r[m]=Fh(u,o):r[m]=u},{allOwnKeys:i}),r),_1=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),S1=(r,l,o,i)=>{r.prototype=Object.create(l.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:l.prototype}),o&&Object.assign(r.prototype,o)},k1=(r,l,o,i)=>{let u,m,h;const f={};if(l=l||{},r==null)return l;do{for(u=Object.getOwnPropertyNames(r),m=u.length;m-- >0;)h=u[m],(!i||i(h,r,l))&&!f[h]&&(l[h]=r[h],f[h]=!0);r=o!==!1&&Fo(r)}while(r&&(!o||o(r,l))&&r!==Object.prototype);return l},C1=(r,l,o)=>{r=String(r),(o===void 0||o>r.length)&&(o=r.length),o-=l.length;const i=r.indexOf(l,o);return i!==-1&&i===o},A1=r=>{if(!r)return null;if(cn(r))return r;let l=r.length;if(!Gh(l))return null;const o=new Array(l);for(;l-- >0;)o[l]=r[l];return o},R1=(r=>l=>r&&l instanceof r)(typeof Uint8Array<"u"&&Fo(Uint8Array)),M1=(r,l)=>{const i=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=i.next())&&!u.done;){const m=u.value;l.call(r,m[0],m[1])}},E1=(r,l)=>{let o;const i=[];for(;(o=r.exec(l))!==null;)i.push(o);return i},L1=Gt("HTMLFormElement"),T1=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,u){return i.toUpperCase()+u}),lh=(({hasOwnProperty:r})=>(l,o)=>r.call(l,o))(Object.prototype),D1=Gt("RegExp"),Wh=(r,l)=>{const o=Object.getOwnPropertyDescriptors(r),i={};yr(o,(u,m)=>{let h;(h=l(u,m,r))!==!1&&(i[m]=h||u)}),Object.defineProperties(r,i)},z1=r=>{Wh(r,(l,o)=>{if(Lt(r)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=r[o];if(Lt(i)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},O1=(r,l)=>{const o={},i=u=>{u.forEach(m=>{o[m]=!0})};return cn(r)?i(r):i(String(r).split(l)),o},B1=()=>{},U1=(r,l)=>r!=null&&Number.isFinite(r=+r)?r:l;function q1(r){return!!(r&&Lt(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const H1=r=>{const l=new Array(10),o=(i,u)=>{if(Wl(i)){if(l.indexOf(i)>=0)return;if(!("toJSON"in i)){l[u]=i;const m=cn(i)?[]:{};return yr(i,(h,f)=>{const b=o(h,u+1);!pr(b)&&(m[f]=b)}),l[u]=void 0,m}}return i};return o(r,0)},P1=Gt("AsyncFunction"),V1=r=>r&&(Wl(r)||Lt(r))&&Lt(r.then)&&Lt(r.catch),Xh=((r,l)=>r?setImmediate:l?((o,i)=>(xs.addEventListener("message",({source:u,data:m})=>{u===xs&&m===o&&i.length&&i.shift()()},!1),u=>{i.push(u),xs.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Lt(xs.postMessage)),F1=typeof queueMicrotask<"u"?queueMicrotask.bind(xs):typeof process<"u"&&process.nextTick||Xh,Y={isArray:cn,isArrayBuffer:Yh,isBuffer:i1,isFormData:p1,isArrayBufferView:c1,isString:o1,isNumber:Gh,isBoolean:d1,isObject:Wl,isPlainObject:ql,isReadableStream:y1,isRequest:b1,isResponse:j1,isHeaders:v1,isUndefined:pr,isDate:u1,isFile:m1,isBlob:h1,isRegExp:D1,isFunction:Lt,isStream:f1,isURLSearchParams:g1,isTypedArray:R1,isFileList:x1,forEach:yr,merge:Lo,extend:w1,trim:N1,stripBOM:_1,inherits:S1,toFlatObject:k1,kindOf:$l,kindOfTest:Gt,endsWith:C1,toArray:A1,forEachEntry:M1,matchAll:E1,isHTMLForm:L1,hasOwnProperty:lh,hasOwnProp:lh,reduceDescriptors:Wh,freezeMethods:z1,toObjectSet:O1,toCamelCase:T1,noop:B1,toFiniteNumber:U1,findKey:$h,global:xs,isContextDefined:Zh,isSpecCompliantForm:q1,toJSONObject:H1,isAsyncFn:P1,isThenable:V1,setImmediate:Xh,asap:F1};function ge(r,l,o,i,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",l&&(this.code=l),o&&(this.config=o),i&&(this.request=i),u&&(this.response=u,this.status=u.status?u.status:null)}Y.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const Qh=ge.prototype,Kh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Kh[r]={value:r}});Object.defineProperties(ge,Kh);Object.defineProperty(Qh,"isAxiosError",{value:!0});ge.from=(r,l,o,i,u,m)=>{const h=Object.create(Qh);return Y.toFlatObject(r,h,function(b){return b!==Error.prototype},f=>f!=="isAxiosError"),ge.call(h,r.message,l,o,i,u),h.cause=r,h.name=r.name,m&&Object.assign(h,m),h};const Y1=null;function To(r){return Y.isPlainObject(r)||Y.isArray(r)}function Jh(r){return Y.endsWith(r,"[]")?r.slice(0,-2):r}function ih(r,l,o){return r?r.concat(l).map(function(u,m){return u=Jh(u),!o&&m?"["+u+"]":u}).join(o?".":""):l}function G1(r){return Y.isArray(r)&&!r.some(To)}const $1=Y.toFlatObject(Y,{},null,function(l){return/^is[A-Z]/.test(l)});function Xl(r,l,o){if(!Y.isObject(r))throw new TypeError("target must be an object");l=l||new FormData,o=Y.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,j){return!Y.isUndefined(j[A])});const i=o.metaTokens,u=o.visitor||g,m=o.dots,h=o.indexes,b=(o.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(l);if(!Y.isFunction(u))throw new TypeError("visitor must be a function");function x(R){if(R===null)return"";if(Y.isDate(R))return R.toISOString();if(!b&&Y.isBlob(R))throw new ge("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(R)||Y.isTypedArray(R)?b&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function g(R,A,j){let k=R;if(R&&!j&&typeof R=="object"){if(Y.endsWith(A,"{}"))A=i?A:A.slice(0,-2),R=JSON.stringify(R);else if(Y.isArray(R)&&G1(R)||(Y.isFileList(R)||Y.endsWith(A,"[]"))&&(k=Y.toArray(R)))return A=Jh(A),k.forEach(function(_,E){!(Y.isUndefined(_)||_===null)&&l.append(h===!0?ih([A],E,m):h===null?A:A+"[]",x(_))}),!1}return To(R)?!0:(l.append(ih(j,A,m),x(R)),!1)}const p=[],C=Object.assign($1,{defaultVisitor:g,convertValue:x,isVisitable:To});function M(R,A){if(!Y.isUndefined(R)){if(p.indexOf(R)!==-1)throw Error("Circular reference detected in "+A.join("."));p.push(R),Y.forEach(R,function(k,S){(!(Y.isUndefined(k)||k===null)&&u.call(l,k,Y.isString(S)?S.trim():S,A,C))===!0&&M(k,A?A.concat(S):[S])}),p.pop()}}if(!Y.isObject(r))throw new TypeError("data must be an object");return M(r),l}function ch(r){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return l[i]})}function Yo(r,l){this._pairs=[],r&&Xl(r,this,l)}const Ih=Yo.prototype;Ih.append=function(l,o){this._pairs.push([l,o])};Ih.toString=function(l){const o=l?function(i){return l.call(this,i,ch)}:ch;return this._pairs.map(function(u){return o(u[0])+"="+o(u[1])},"").join("&")};function Z1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ex(r,l,o){if(!l)return r;const i=o&&o.encode||Z1;Y.isFunction(o)&&(o={serialize:o});const u=o&&o.serialize;let m;if(u?m=u(l,o):m=Y.isURLSearchParams(l)?l.toString():new Yo(l,o).toString(i),m){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+m}return r}class oh{constructor(){this.handlers=[]}use(l,o,i){return this.handlers.push({fulfilled:l,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){Y.forEach(this.handlers,function(i){i!==null&&l(i)})}}const tx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W1=typeof URLSearchParams<"u"?URLSearchParams:Yo,X1=typeof FormData<"u"?FormData:null,Q1=typeof Blob<"u"?Blob:null,K1={isBrowser:!0,classes:{URLSearchParams:W1,FormData:X1,Blob:Q1},protocols:["http","https","file","blob","url","data"]},Go=typeof window<"u"&&typeof document<"u",Do=typeof navigator=="object"&&navigator||void 0,J1=Go&&(!Do||["ReactNative","NativeScript","NS"].indexOf(Do.product)<0),I1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",e2=Go&&window.location.href||"http://localhost",t2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Go,hasStandardBrowserEnv:J1,hasStandardBrowserWebWorkerEnv:I1,navigator:Do,origin:e2},Symbol.toStringTag,{value:"Module"})),mt={...t2,...K1};function a2(r,l){return Xl(r,new mt.classes.URLSearchParams,Object.assign({visitor:function(o,i,u,m){return mt.isNode&&Y.isBuffer(o)?(this.append(i,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},l))}function s2(r){return Y.matchAll(/\w+|\[(\w*)]/g,r).map(l=>l[0]==="[]"?"":l[1]||l[0])}function n2(r){const l={},o=Object.keys(r);let i;const u=o.length;let m;for(i=0;i<u;i++)m=o[i],l[m]=r[m];return l}function ax(r){function l(o,i,u,m){let h=o[m++];if(h==="__proto__")return!0;const f=Number.isFinite(+h),b=m>=o.length;return h=!h&&Y.isArray(u)?u.length:h,b?(Y.hasOwnProp(u,h)?u[h]=[u[h],i]:u[h]=i,!f):((!u[h]||!Y.isObject(u[h]))&&(u[h]=[]),l(o,i,u[h],m)&&Y.isArray(u[h])&&(u[h]=n2(u[h])),!f)}if(Y.isFormData(r)&&Y.isFunction(r.entries)){const o={};return Y.forEachEntry(r,(i,u)=>{l(s2(i),u,o,0)}),o}return null}function r2(r,l,o){if(Y.isString(r))try{return(l||JSON.parse)(r),Y.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(r)}const br={transitional:tx,adapter:["xhr","http","fetch"],transformRequest:[function(l,o){const i=o.getContentType()||"",u=i.indexOf("application/json")>-1,m=Y.isObject(l);if(m&&Y.isHTMLForm(l)&&(l=new FormData(l)),Y.isFormData(l))return u?JSON.stringify(ax(l)):l;if(Y.isArrayBuffer(l)||Y.isBuffer(l)||Y.isStream(l)||Y.isFile(l)||Y.isBlob(l)||Y.isReadableStream(l))return l;if(Y.isArrayBufferView(l))return l.buffer;if(Y.isURLSearchParams(l))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let f;if(m){if(i.indexOf("application/x-www-form-urlencoded")>-1)return a2(l,this.formSerializer).toString();if((f=Y.isFileList(l))||i.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Xl(f?{"files[]":l}:l,b&&new b,this.formSerializer)}}return m||u?(o.setContentType("application/json",!1),r2(l)):l}],transformResponse:[function(l){const o=this.transitional||br.transitional,i=o&&o.forcedJSONParsing,u=this.responseType==="json";if(Y.isResponse(l)||Y.isReadableStream(l))return l;if(l&&Y.isString(l)&&(i&&!this.responseType||u)){const h=!(o&&o.silentJSONParsing)&&u;try{return JSON.parse(l)}catch(f){if(h)throw f.name==="SyntaxError"?ge.from(f,ge.ERR_BAD_RESPONSE,this,null,this.response):f}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],r=>{br.headers[r]={}});const l2=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i2=r=>{const l={};let o,i,u;return r&&r.split(`
`).forEach(function(h){u=h.indexOf(":"),o=h.substring(0,u).trim().toLowerCase(),i=h.substring(u+1).trim(),!(!o||l[o]&&l2[o])&&(o==="set-cookie"?l[o]?l[o].push(i):l[o]=[i]:l[o]=l[o]?l[o]+", "+i:i)}),l},dh=Symbol("internals");function or(r){return r&&String(r).trim().toLowerCase()}function Hl(r){return r===!1||r==null?r:Y.isArray(r)?r.map(Hl):String(r)}function c2(r){const l=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(r);)l[i[1]]=i[2];return l}const o2=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function vo(r,l,o,i,u){if(Y.isFunction(i))return i.call(this,l,o);if(u&&(l=o),!!Y.isString(l)){if(Y.isString(i))return l.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(l)}}function d2(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,o,i)=>o.toUpperCase()+i)}function u2(r,l){const o=Y.toCamelCase(" "+l);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+o,{value:function(u,m,h){return this[i].call(this,l,u,m,h)},configurable:!0})})}let jt=class{constructor(l){l&&this.set(l)}set(l,o,i){const u=this;function m(f,b,x){const g=or(b);if(!g)throw new Error("header name must be a non-empty string");const p=Y.findKey(u,g);(!p||u[p]===void 0||x===!0||x===void 0&&u[p]!==!1)&&(u[p||b]=Hl(f))}const h=(f,b)=>Y.forEach(f,(x,g)=>m(x,g,b));if(Y.isPlainObject(l)||l instanceof this.constructor)h(l,o);else if(Y.isString(l)&&(l=l.trim())&&!o2(l))h(i2(l),o);else if(Y.isHeaders(l))for(const[f,b]of l.entries())m(b,f,i);else l!=null&&m(o,l,i);return this}get(l,o){if(l=or(l),l){const i=Y.findKey(this,l);if(i){const u=this[i];if(!o)return u;if(o===!0)return c2(u);if(Y.isFunction(o))return o.call(this,u,i);if(Y.isRegExp(o))return o.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,o){if(l=or(l),l){const i=Y.findKey(this,l);return!!(i&&this[i]!==void 0&&(!o||vo(this,this[i],i,o)))}return!1}delete(l,o){const i=this;let u=!1;function m(h){if(h=or(h),h){const f=Y.findKey(i,h);f&&(!o||vo(i,i[f],f,o))&&(delete i[f],u=!0)}}return Y.isArray(l)?l.forEach(m):m(l),u}clear(l){const o=Object.keys(this);let i=o.length,u=!1;for(;i--;){const m=o[i];(!l||vo(this,this[m],m,l,!0))&&(delete this[m],u=!0)}return u}normalize(l){const o=this,i={};return Y.forEach(this,(u,m)=>{const h=Y.findKey(i,m);if(h){o[h]=Hl(u),delete o[m];return}const f=l?d2(m):String(m).trim();f!==m&&delete o[m],o[f]=Hl(u),i[f]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const o=Object.create(null);return Y.forEach(this,(i,u)=>{i!=null&&i!==!1&&(o[u]=l&&Y.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,o])=>l+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...o){const i=new this(l);return o.forEach(u=>i.set(u)),i}static accessor(l){const i=(this[dh]=this[dh]={accessors:{}}).accessors,u=this.prototype;function m(h){const f=or(h);i[f]||(u2(u,h),i[f]=!0)}return Y.isArray(l)?l.forEach(m):m(l),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(jt.prototype,({value:r},l)=>{let o=l[0].toUpperCase()+l.slice(1);return{get:()=>r,set(i){this[o]=i}}});Y.freezeMethods(jt);function No(r,l){const o=this||br,i=l||o,u=jt.from(i.headers);let m=i.data;return Y.forEach(r,function(f){m=f.call(o,m,u.normalize(),l?l.status:void 0)}),u.normalize(),m}function sx(r){return!!(r&&r.__CANCEL__)}function on(r,l,o){ge.call(this,r??"canceled",ge.ERR_CANCELED,l,o),this.name="CanceledError"}Y.inherits(on,ge,{__CANCEL__:!0});function nx(r,l,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?r(o):l(new ge("Request failed with status code "+o.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function m2(r){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return l&&l[1]||""}function h2(r,l){r=r||10;const o=new Array(r),i=new Array(r);let u=0,m=0,h;return l=l!==void 0?l:1e3,function(b){const x=Date.now(),g=i[m];h||(h=x),o[u]=b,i[u]=x;let p=m,C=0;for(;p!==u;)C+=o[p++],p=p%r;if(u=(u+1)%r,u===m&&(m=(m+1)%r),x-h<l)return;const M=g&&x-g;return M?Math.round(C*1e3/M):void 0}}function x2(r,l){let o=0,i=1e3/l,u,m;const h=(x,g=Date.now())=>{o=g,u=null,m&&(clearTimeout(m),m=null),r.apply(null,x)};return[(...x)=>{const g=Date.now(),p=g-o;p>=i?h(x,g):(u=x,m||(m=setTimeout(()=>{m=null,h(u)},i-p)))},()=>u&&h(u)]}const Fl=(r,l,o=3)=>{let i=0;const u=h2(50,250);return x2(m=>{const h=m.loaded,f=m.lengthComputable?m.total:void 0,b=h-i,x=u(b),g=h<=f;i=h;const p={loaded:h,total:f,progress:f?h/f:void 0,bytes:b,rate:x||void 0,estimated:x&&f&&g?(f-h)/x:void 0,event:m,lengthComputable:f!=null,[l?"download":"upload"]:!0};r(p)},o)},uh=(r,l)=>{const o=r!=null;return[i=>l[0]({lengthComputable:o,total:r,loaded:i}),l[1]]},mh=r=>(...l)=>Y.asap(()=>r(...l)),f2=mt.hasStandardBrowserEnv?((r,l)=>o=>(o=new URL(o,mt.origin),r.protocol===o.protocol&&r.host===o.host&&(l||r.port===o.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,p2=mt.hasStandardBrowserEnv?{write(r,l,o,i,u,m){const h=[r+"="+encodeURIComponent(l)];Y.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),Y.isString(i)&&h.push("path="+i),Y.isString(u)&&h.push("domain="+u),m===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const l=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g2(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function y2(r,l){return l?r.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):r}function rx(r,l,o){let i=!g2(l);return r&&(i||o==!1)?y2(r,l):l}const hh=r=>r instanceof jt?{...r}:r;function ps(r,l){l=l||{};const o={};function i(x,g,p,C){return Y.isPlainObject(x)&&Y.isPlainObject(g)?Y.merge.call({caseless:C},x,g):Y.isPlainObject(g)?Y.merge({},g):Y.isArray(g)?g.slice():g}function u(x,g,p,C){if(Y.isUndefined(g)){if(!Y.isUndefined(x))return i(void 0,x,p,C)}else return i(x,g,p,C)}function m(x,g){if(!Y.isUndefined(g))return i(void 0,g)}function h(x,g){if(Y.isUndefined(g)){if(!Y.isUndefined(x))return i(void 0,x)}else return i(void 0,g)}function f(x,g,p){if(p in l)return i(x,g);if(p in r)return i(void 0,x)}const b={url:m,method:m,data:m,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:f,headers:(x,g,p)=>u(hh(x),hh(g),p,!0)};return Y.forEach(Object.keys(Object.assign({},r,l)),function(g){const p=b[g]||u,C=p(r[g],l[g],g);Y.isUndefined(C)&&p!==f||(o[g]=C)}),o}const lx=r=>{const l=ps({},r);let{data:o,withXSRFToken:i,xsrfHeaderName:u,xsrfCookieName:m,headers:h,auth:f}=l;l.headers=h=jt.from(h),l.url=ex(rx(l.baseURL,l.url,l.allowAbsoluteUrls),r.params,r.paramsSerializer),f&&h.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let b;if(Y.isFormData(o)){if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((b=h.getContentType())!==!1){const[x,...g]=b?b.split(";").map(p=>p.trim()).filter(Boolean):[];h.setContentType([x||"multipart/form-data",...g].join("; "))}}if(mt.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(l)),i||i!==!1&&f2(l.url))){const x=u&&m&&p2.read(m);x&&h.set(u,x)}return l},b2=typeof XMLHttpRequest<"u",j2=b2&&function(r){return new Promise(function(o,i){const u=lx(r);let m=u.data;const h=jt.from(u.headers).normalize();let{responseType:f,onUploadProgress:b,onDownloadProgress:x}=u,g,p,C,M,R;function A(){M&&M(),R&&R(),u.cancelToken&&u.cancelToken.unsubscribe(g),u.signal&&u.signal.removeEventListener("abort",g)}let j=new XMLHttpRequest;j.open(u.method.toUpperCase(),u.url,!0),j.timeout=u.timeout;function k(){if(!j)return;const _=jt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),v={data:!f||f==="text"||f==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:_,config:r,request:j};nx(function(q){o(q),A()},function(q){i(q),A()},v),j=null}"onloadend"in j?j.onloadend=k:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(k)},j.onabort=function(){j&&(i(new ge("Request aborted",ge.ECONNABORTED,r,j)),j=null)},j.onerror=function(){i(new ge("Network Error",ge.ERR_NETWORK,r,j)),j=null},j.ontimeout=function(){let E=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const v=u.transitional||tx;u.timeoutErrorMessage&&(E=u.timeoutErrorMessage),i(new ge(E,v.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,r,j)),j=null},m===void 0&&h.setContentType(null),"setRequestHeader"in j&&Y.forEach(h.toJSON(),function(E,v){j.setRequestHeader(v,E)}),Y.isUndefined(u.withCredentials)||(j.withCredentials=!!u.withCredentials),f&&f!=="json"&&(j.responseType=u.responseType),x&&([C,R]=Fl(x,!0),j.addEventListener("progress",C)),b&&j.upload&&([p,M]=Fl(b),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",M)),(u.cancelToken||u.signal)&&(g=_=>{j&&(i(!_||_.type?new on(null,r,j):_),j.abort(),j=null)},u.cancelToken&&u.cancelToken.subscribe(g),u.signal&&(u.signal.aborted?g():u.signal.addEventListener("abort",g)));const S=m2(u.url);if(S&&mt.protocols.indexOf(S)===-1){i(new ge("Unsupported protocol "+S+":",ge.ERR_BAD_REQUEST,r));return}j.send(m||null)})},v2=(r,l)=>{const{length:o}=r=r?r.filter(Boolean):[];if(l||o){let i=new AbortController,u;const m=function(x){if(!u){u=!0,f();const g=x instanceof Error?x:this.reason;i.abort(g instanceof ge?g:new on(g instanceof Error?g.message:g))}};let h=l&&setTimeout(()=>{h=null,m(new ge(`timeout ${l} of ms exceeded`,ge.ETIMEDOUT))},l);const f=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(x=>{x.unsubscribe?x.unsubscribe(m):x.removeEventListener("abort",m)}),r=null)};r.forEach(x=>x.addEventListener("abort",m));const{signal:b}=i;return b.unsubscribe=()=>Y.asap(f),b}},N2=function*(r,l){let o=r.byteLength;if(o<l){yield r;return}let i=0,u;for(;i<o;)u=i+l,yield r.slice(i,u),i=u},w2=async function*(r,l){for await(const o of _2(r))yield*N2(o,l)},_2=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const l=r.getReader();try{for(;;){const{done:o,value:i}=await l.read();if(o)break;yield i}}finally{await l.cancel()}},xh=(r,l,o,i)=>{const u=w2(r,l);let m=0,h,f=b=>{h||(h=!0,i&&i(b))};return new ReadableStream({async pull(b){try{const{done:x,value:g}=await u.next();if(x){f(),b.close();return}let p=g.byteLength;if(o){let C=m+=p;o(C)}b.enqueue(new Uint8Array(g))}catch(x){throw f(x),x}},cancel(b){return f(b),u.return()}},{highWaterMark:2})},Ql=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ix=Ql&&typeof ReadableStream=="function",S2=Ql&&(typeof TextEncoder=="function"?(r=>l=>r.encode(l))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),cx=(r,...l)=>{try{return!!r(...l)}catch{return!1}},k2=ix&&cx(()=>{let r=!1;const l=new Request(mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!l}),fh=64*1024,zo=ix&&cx(()=>Y.isReadableStream(new Response("").body)),Yl={stream:zo&&(r=>r.body)};Ql&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!Yl[l]&&(Yl[l]=Y.isFunction(r[l])?o=>o[l]():(o,i)=>{throw new ge(`Response type '${l}' is not supported`,ge.ERR_NOT_SUPPORT,i)})})})(new Response);const C2=async r=>{if(r==null)return 0;if(Y.isBlob(r))return r.size;if(Y.isSpecCompliantForm(r))return(await new Request(mt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(r)||Y.isArrayBuffer(r))return r.byteLength;if(Y.isURLSearchParams(r)&&(r=r+""),Y.isString(r))return(await S2(r)).byteLength},A2=async(r,l)=>{const o=Y.toFiniteNumber(r.getContentLength());return o??C2(l)},R2=Ql&&(async r=>{let{url:l,method:o,data:i,signal:u,cancelToken:m,timeout:h,onDownloadProgress:f,onUploadProgress:b,responseType:x,headers:g,withCredentials:p="same-origin",fetchOptions:C}=lx(r);x=x?(x+"").toLowerCase():"text";let M=v2([u,m&&m.toAbortSignal()],h),R;const A=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let j;try{if(b&&k2&&o!=="get"&&o!=="head"&&(j=await A2(g,i))!==0){let v=new Request(l,{method:"POST",body:i,duplex:"half"}),H;if(Y.isFormData(i)&&(H=v.headers.get("content-type"))&&g.setContentType(H),v.body){const[q,$]=uh(j,Fl(mh(b)));i=xh(v.body,fh,q,$)}}Y.isString(p)||(p=p?"include":"omit");const k="credentials"in Request.prototype;R=new Request(l,{...C,signal:M,method:o.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:k?p:void 0});let S=await fetch(R);const _=zo&&(x==="stream"||x==="response");if(zo&&(f||_&&A)){const v={};["status","statusText","headers"].forEach(J=>{v[J]=S[J]});const H=Y.toFiniteNumber(S.headers.get("content-length")),[q,$]=f&&uh(H,Fl(mh(f),!0))||[];S=new Response(xh(S.body,fh,q,()=>{$&&$(),A&&A()}),v)}x=x||"text";let E=await Yl[Y.findKey(Yl,x)||"text"](S,r);return!_&&A&&A(),await new Promise((v,H)=>{nx(v,H,{data:E,headers:jt.from(S.headers),status:S.status,statusText:S.statusText,config:r,request:R})})}catch(k){throw A&&A(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,r,R),{cause:k.cause||k}):ge.from(k,k&&k.code,r,R)}}),Oo={http:Y1,xhr:j2,fetch:R2};Y.forEach(Oo,(r,l)=>{if(r){try{Object.defineProperty(r,"name",{value:l})}catch{}Object.defineProperty(r,"adapterName",{value:l})}});const ph=r=>`- ${r}`,M2=r=>Y.isFunction(r)||r===null||r===!1,ox={getAdapter:r=>{r=Y.isArray(r)?r:[r];const{length:l}=r;let o,i;const u={};for(let m=0;m<l;m++){o=r[m];let h;if(i=o,!M2(o)&&(i=Oo[(h=String(o)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${h}'`);if(i)break;u[h||"#"+m]=i}if(!i){const m=Object.entries(u).map(([f,b])=>`adapter ${f} `+(b===!1?"is not supported by the environment":"is not available in the build"));let h=l?m.length>1?`since :
`+m.map(ph).join(`
`):" "+ph(m[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:Oo};function wo(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new on(null,r)}function gh(r){return wo(r),r.headers=jt.from(r.headers),r.data=No.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ox.getAdapter(r.adapter||br.adapter)(r).then(function(i){return wo(r),i.data=No.call(r,r.transformResponse,i),i.headers=jt.from(i.headers),i},function(i){return sx(i)||(wo(r),i&&i.response&&(i.response.data=No.call(r,r.transformResponse,i.response),i.response.headers=jt.from(i.response.headers))),Promise.reject(i)})}const dx="1.8.4",Kl={};["object","boolean","number","function","string","symbol"].forEach((r,l)=>{Kl[r]=function(i){return typeof i===r||"a"+(l<1?"n ":" ")+r}});const yh={};Kl.transitional=function(l,o,i){function u(m,h){return"[Axios v"+dx+"] Transitional option '"+m+"'"+h+(i?". "+i:"")}return(m,h,f)=>{if(l===!1)throw new ge(u(h," has been removed"+(o?" in "+o:"")),ge.ERR_DEPRECATED);return o&&!yh[h]&&(yh[h]=!0,console.warn(u(h," has been deprecated since v"+o+" and will be removed in the near future"))),l?l(m,h,f):!0}};Kl.spelling=function(l){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${l}`),!0)};function E2(r,l,o){if(typeof r!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let u=i.length;for(;u-- >0;){const m=i[u],h=l[m];if(h){const f=r[m],b=f===void 0||h(f,m,r);if(b!==!0)throw new ge("option "+m+" must be "+b,ge.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ge("Unknown option "+m,ge.ERR_BAD_OPTION)}}const Pl={assertOptions:E2,validators:Kl},Jt=Pl.validators;let fs=class{constructor(l){this.defaults=l,this.interceptors={request:new oh,response:new oh}}async request(l,o){try{return await this._request(l,o)}catch(i){if(i instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const m=u.stack?u.stack.replace(/^.+\n/,""):"";try{i.stack?m&&!String(i.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+m):i.stack=m}catch{}}throw i}}_request(l,o){typeof l=="string"?(o=o||{},o.url=l):o=l||{},o=ps(this.defaults,o);const{transitional:i,paramsSerializer:u,headers:m}=o;i!==void 0&&Pl.assertOptions(i,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),u!=null&&(Y.isFunction(u)?o.paramsSerializer={serialize:u}:Pl.assertOptions(u,{encode:Jt.function,serialize:Jt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Pl.assertOptions(o,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=m&&Y.merge(m.common,m[o.method]);m&&Y.forEach(["delete","get","head","post","put","patch","common"],R=>{delete m[R]}),o.headers=jt.concat(h,m);const f=[];let b=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(o)===!1||(b=b&&A.synchronous,f.unshift(A.fulfilled,A.rejected))});const x=[];this.interceptors.response.forEach(function(A){x.push(A.fulfilled,A.rejected)});let g,p=0,C;if(!b){const R=[gh.bind(this),void 0];for(R.unshift.apply(R,f),R.push.apply(R,x),C=R.length,g=Promise.resolve(o);p<C;)g=g.then(R[p++],R[p++]);return g}C=f.length;let M=o;for(p=0;p<C;){const R=f[p++],A=f[p++];try{M=R(M)}catch(j){A.call(this,j);break}}try{g=gh.call(this,M)}catch(R){return Promise.reject(R)}for(p=0,C=x.length;p<C;)g=g.then(x[p++],x[p++]);return g}getUri(l){l=ps(this.defaults,l);const o=rx(l.baseURL,l.url,l.allowAbsoluteUrls);return ex(o,l.params,l.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(l){fs.prototype[l]=function(o,i){return this.request(ps(i||{},{method:l,url:o,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(l){function o(i){return function(m,h,f){return this.request(ps(f||{},{method:l,headers:i?{"Content-Type":"multipart/form-data"}:{},url:m,data:h}))}}fs.prototype[l]=o(),fs.prototype[l+"Form"]=o(!0)});let L2=class ux{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const i=this;this.promise.then(u=>{if(!i._listeners)return;let m=i._listeners.length;for(;m-- >0;)i._listeners[m](u);i._listeners=null}),this.promise.then=u=>{let m;const h=new Promise(f=>{i.subscribe(f),m=f}).then(u);return h.cancel=function(){i.unsubscribe(m)},h},l(function(m,h,f){i.reason||(i.reason=new on(m,h,f),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const o=this._listeners.indexOf(l);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const l=new AbortController,o=i=>{l.abort(i)};return this.subscribe(o),l.signal.unsubscribe=()=>this.unsubscribe(o),l.signal}static source(){let l;return{token:new ux(function(u){l=u}),cancel:l}}};function T2(r){return function(o){return r.apply(null,o)}}function D2(r){return Y.isObject(r)&&r.isAxiosError===!0}const Bo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bo).forEach(([r,l])=>{Bo[l]=r});function mx(r){const l=new fs(r),o=Fh(fs.prototype.request,l);return Y.extend(o,fs.prototype,l,{allOwnKeys:!0}),Y.extend(o,l,null,{allOwnKeys:!0}),o.create=function(u){return mx(ps(r,u))},o}const Xe=mx(br);Xe.Axios=fs;Xe.CanceledError=on;Xe.CancelToken=L2;Xe.isCancel=sx;Xe.VERSION=dx;Xe.toFormData=Xl;Xe.AxiosError=ge;Xe.Cancel=Xe.CanceledError;Xe.all=function(l){return Promise.all(l)};Xe.spread=T2;Xe.isAxiosError=D2;Xe.mergeConfig=ps;Xe.AxiosHeaders=jt;Xe.formToJSON=r=>ax(Y.isHTMLForm(r)?new FormData(r):r);Xe.getAdapter=ox.getAdapter;Xe.HttpStatusCode=Bo;Xe.default=Xe;const{Axios:hb,AxiosError:xb,CanceledError:fb,isCancel:pb,CancelToken:gb,VERSION:yb,all:bb,Cancel:jb,isAxiosError:vb,spread:Nb,toFormData:wb,AxiosHeaders:_b,HttpStatusCode:Sb,formToJSON:kb,getAdapter:Cb,mergeConfig:Ab}=Xe,z2="https://property.research-hero-xyz/api/v1",O2=1e4,bh=3,ce=Xe.create({baseURL:z2,timeout:O2,withCredentials:!0,headers:{"Content-Type":"application/json"}}),fa={getToken:()=>localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),setToken:(r,l=!1)=>{l?(localStorage.setItem("authToken",r),sessionStorage.removeItem("authToken")):(sessionStorage.setItem("authToken",r),localStorage.removeItem("authToken"))},removeToken:()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken")},isTokenExpired:r=>{if(!r)return!0;try{const l=JSON.parse(atob(r.split(".")[1])),o=Date.now()/1e3;return l.exp<o}catch(l){return console.error("Error checking token expiration:",l),!0}}};ce.interceptors.request.use(r=>{const l=fa.getToken();return l&&!fa.isTokenExpired(l)&&(r.headers.Authorization=`Bearer ${l}`),r.metadata={startTime:new Date},r},r=>(console.error("Request interceptor error:",r),Promise.reject(r)));ce.interceptors.response.use(r=>{const o=new Date-r.config.metadata.startTime;return console.log(`API Request to ${r.config.url} took ${o}ms`),r},async r=>{var o,i,u,m,h,f,b;const l=r.config;if(((o=r.response)==null?void 0:o.status)===401&&!l._retry)return l._retry=!0,fa.removeToken(),window.location.href="/",Promise.reject(r);if(!r.response&&l._retryCount<bh){l._retryCount=(l._retryCount||0)+1;const x=Math.pow(2,l._retryCount)*1e3;return console.log(`Retrying request (${l._retryCount}/${bh}) after ${x}ms`),await new Promise(g=>setTimeout(g,x)),ce(l)}return console.error("API Error:",{url:(i=r.config)==null?void 0:i.url,method:(u=r.config)==null?void 0:u.method,status:(m=r.response)==null?void 0:m.status,message:((f=(h=r.response)==null?void 0:h.data)==null?void 0:f.error)||r.message,data:(b=r.response)==null?void 0:b.data}),Promise.reject(r)});class B2 extends Error{constructor(l,o,i){super(l),this.name="APIError",this.status=o,this.data=i}}const Pa=async r=>{var l,o,i,u,m,h;try{const f=await r();return{success:!0,data:f.data.data||f.data,message:f.data.message,status:f.status}}catch(f){const b=((o=(l=f.response)==null?void 0:l.data)==null?void 0:o.error)||((u=(i=f.response)==null?void 0:i.data)==null?void 0:u.message)||f.message||"An unexpected error occurred",x=((m=f.response)==null?void 0:m.status)||500,g=(h=f.response)==null?void 0:h.data;throw new B2(b,x,g)}};class U2{constructor(){this.currentUser=null,this.isAuthenticated=!1}async login(l,o,i=!1){return Pa(async()=>{const u=await ce.post("/auth/login",{email:l,password:o}),{token:m,data:h}=u.data;return m&&(fa.setToken(m,i),console.log(`Token stored in ${i?"localStorage":"sessionStorage"}:`,m.substring(0,20)+"..."),this.currentUser=h,this.isAuthenticated=!0,(i?localStorage:sessionStorage).setItem("currentUser",JSON.stringify(h)),console.log("User data stored:",h)),u})}async register(l){return Pa(async()=>{const o=await ce.post("/auth/register",l),{token:i,data:u}=o.data;return i&&(fa.setToken(i,!1),console.log("Registration token stored in sessionStorage:",i.substring(0,20)+"..."),this.currentUser=u,this.isAuthenticated=!0,sessionStorage.setItem("currentUser",JSON.stringify(u)),console.log("Registration user data stored:",u)),o})}async logout(){try{await Pa(async()=>await ce.get("/auth/logout"))}catch(l){console.warn("Server logout failed, proceeding with client-side logout:",l.message)}finally{this.clearAuthData()}return{success:!0,message:"Logged out successfully"}}async getCurrentUser(){return Pa(async()=>{const l=await ce.get("/auth/me");return this.currentUser=l.data.data,(localStorage.getItem("authToken")?localStorage:sessionStorage).setItem("currentUser",JSON.stringify(this.currentUser)),l})}async updateUserDetails(l){return Pa(async()=>{const o=await ce.put("/auth/updatedetails",l);return this.currentUser=o.data.data,(localStorage.getItem("authToken")?localStorage:sessionStorage).setItem("currentUser",JSON.stringify(this.currentUser)),o})}async updatePassword(l,o){return Pa(async()=>{const i=await ce.put("/auth/updatepassword",{currentPassword:l,newPassword:o});if(i.data.token){const u=!!localStorage.getItem("authToken");fa.setToken(i.data.token,u)}return i})}async forgotPassword(l){return Pa(async()=>await ce.post("/auth/forgotpassword",{email:l}))}async resetPassword(l,o){return Pa(async()=>await ce.put(`/auth/resetpassword/${l}`,{password:o}))}isUserAuthenticated(){const l=fa.getToken();return!l||fa.isTokenExpired(l)?(this.clearAuthData(),!1):(this.currentUser||this.loadUserFromStorage(),!!l&&!!this.currentUser)}getCurrentUserData(){return this.currentUser||this.loadUserFromStorage(),this.currentUser}hasRole(l){const o=this.getCurrentUserData();return(o==null?void 0:o.role)===l}hasAnyRole(l){const o=this.getCurrentUserData();return l.includes(o==null?void 0:o.role)}loadUserFromStorage(){try{const l=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");l&&(this.currentUser=JSON.parse(l),this.isAuthenticated=!0)}catch(l){console.error("Error loading user data from storage:",l),this.clearAuthData()}}clearAuthData(){fa.removeToken(),localStorage.removeItem("currentUser"),sessionStorage.removeItem("currentUser"),this.currentUser=null,this.isAuthenticated=!1}initialize(){this.isUserAuthenticated()?(this.isAuthenticated=!0,console.log("User authenticated on app startup")):console.log("No valid authentication found")}getStorageDebugInfo(){return{localStorage:{authToken:localStorage.getItem("authToken"),currentUser:localStorage.getItem("currentUser")},sessionStorage:{authToken:sessionStorage.getItem("authToken"),currentUser:sessionStorage.getItem("currentUser")},currentUser:this.currentUser,isAuthenticated:this.isAuthenticated}}}const it=new U2,q2={user:null,isAuthenticated:!1,isLoading:!0,error:null},Re={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_START:"REGISTER_START",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",UPDATE_USER:"UPDATE_USER",SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",INITIALIZE:"INITIALIZE"},H2=(r,l)=>{switch(l.type){case Re.LOGIN_START:case Re.REGISTER_START:return{...r,isLoading:!0,error:null};case Re.LOGIN_SUCCESS:case Re.REGISTER_SUCCESS:return{...r,user:l.payload.user,isAuthenticated:!0,isLoading:!1,error:null};case Re.LOGIN_FAILURE:case Re.REGISTER_FAILURE:return{...r,user:null,isAuthenticated:!1,isLoading:!1,error:l.payload.error};case Re.LOGOUT:return{...r,user:null,isAuthenticated:!1,isLoading:!1,error:null};case Re.UPDATE_USER:return{...r,user:l.payload.user,error:null};case Re.SET_LOADING:return{...r,isLoading:l.payload.isLoading};case Re.SET_ERROR:return{...r,error:l.payload.error,isLoading:!1};case Re.CLEAR_ERROR:return{...r,error:null};case Re.INITIALIZE:return{...r,user:l.payload.user,isAuthenticated:l.payload.isAuthenticated,isLoading:!1};default:return r}},hx=N.createContext(),P2=({children:r})=>{const[l,o]=N.useReducer(H2,q2);N.useEffect(()=>{(()=>{try{it.initialize();const j=it.isUserAuthenticated(),k=it.getCurrentUserData();o({type:Re.INITIALIZE,payload:{user:k,isAuthenticated:j}})}catch(j){console.error("Error initializing auth:",j),o({type:Re.INITIALIZE,payload:{user:null,isAuthenticated:!1}})}})()},[]);const i=async(A,j,k=!1)=>{o({type:Re.LOGIN_START});try{const S=await it.login(A,j,k),_=it.getCurrentUserData();return o({type:Re.LOGIN_SUCCESS,payload:{user:_}}),S}catch(S){throw o({type:Re.LOGIN_FAILURE,payload:{error:S.message}}),S}},u=async A=>{o({type:Re.REGISTER_START});try{const j=await it.register(A),k=it.getCurrentUserData();return o({type:Re.REGISTER_SUCCESS,payload:{user:k}}),j}catch(j){throw o({type:Re.REGISTER_FAILURE,payload:{error:j.message}}),j}},m=async()=>{o({type:Re.SET_LOADING,payload:{isLoading:!0}});try{await it.logout(),o({type:Re.LOGOUT})}catch(A){console.error("Logout error:",A),o({type:Re.LOGOUT})}},h=async A=>{try{const j=await it.updateUserDetails(A),k=it.getCurrentUserData();return o({type:Re.UPDATE_USER,payload:{user:k}}),j}catch(j){throw o({type:Re.SET_ERROR,payload:{error:j.message}}),j}},f=async(A,j)=>{try{return await it.updatePassword(A,j)}catch(k){throw o({type:Re.SET_ERROR,payload:{error:k.message}}),k}},b=async A=>{try{return await it.forgotPassword(A)}catch(j){throw o({type:Re.SET_ERROR,payload:{error:j.message}}),j}},x=async(A,j)=>{try{return await it.resetPassword(A,j)}catch(k){throw o({type:Re.SET_ERROR,payload:{error:k.message}}),k}},g=()=>{o({type:Re.CLEAR_ERROR})},p=A=>it.hasRole(A),C=A=>it.hasAnyRole(A),M=async()=>{try{const A=await it.getCurrentUser(),j=it.getCurrentUserData();return o({type:Re.UPDATE_USER,payload:{user:j}}),A}catch(A){throw A.status===401&&o({type:Re.LOGOUT}),A}},R={user:l.user,isAuthenticated:l.isAuthenticated,isLoading:l.isLoading,error:l.error,login:i,register:u,logout:m,updateUserDetails:h,updatePassword:f,forgotPassword:b,resetPassword:x,clearError:g,hasRole:p,hasAnyRole:C,refreshUser:M};return e.jsx(hx.Provider,{value:R,children:r})},Be=()=>{const r=N.useContext(hx);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},V2=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}),F2=({requiredRoles:r,userRole:l})=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("svg",{className:"mx-auto h-16 w-16 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),e.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[e.jsxs("p",{children:["Required role(s): ",r.join(", ")]}),e.jsxs("p",{children:["Your role: ",l||"Unknown"]})]}),e.jsx("button",{onClick:()=>window.history.back(),className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300",children:"Go Back"})]})}),dr=({children:r,requiredRoles:l=[],requireAuth:o=!0,redirectTo:i="/",fallback:u=null,unauthorizedFallback:m=null})=>{const{isAuthenticated:h,isLoading:f,user:b,hasAnyRole:x}=Be(),g=Wa();return f?u||e.jsx(V2,{}):o&&!h?e.jsx(Fa,{to:i,state:{from:g},replace:!0}):l.length>0&&h&&!x(l)?m||e.jsx(F2,{requiredRoles:l,userRole:b==null?void 0:b.role}):r},Y2=()=>{const{user:r,isAuthenticated:l,isLoading:o}=Be();if(o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!l)return e.jsx(Fa,{to:"/login",replace:!0});switch(r==null?void 0:r.role){case"admin":case"super_admin":return e.jsx(Fa,{to:"/admin/dashboard",replace:!0});case"manager":return e.jsx(Fa,{to:"/manager/dashboard",replace:!0});case"owner":return e.jsx(Fa,{to:"/owner/dashboard",replace:!0});case"tenant":return e.jsx(Fa,{to:"/tenant/dashboard",replace:!0});default:return e.jsx(Fa,{to:"/login",replace:!0})}},G2=()=>{const r=ln(),l=Wa(),{login:o,isLoading:i,error:u,clearError:m}=Be(),[h,f]=N.useState({email:"",password:"",remember:!1}),[b,x]=N.useState({}),[g,p]=N.useState(!1),C=A=>{const{name:j,value:k,type:S,checked:_}=A.target,E=S==="checkbox"?_:k;f(v=>({...v,[j]:E})),b[j]&&x(v=>({...v,[j]:""})),u&&m()},M=()=>{const A={};return h.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||(A.email="Please enter a valid email address"):A.email="Email is required",h.password?h.password.length<6&&(A.password="Password must be at least 6 characters"):A.password="Password is required",x(A),Object.keys(A).length===0},R=async A=>{var j,k;if(A.preventDefault(),!!M())try{const S=await o(h.email,h.password,h.remember),_=(k=(j=l.state)==null?void 0:j.from)==null?void 0:k.pathname,E=S.data;let v;if(_)v=_;else switch(E.role){case"admin":case"super_admin":case"manager":v="/admin/dashboard";break;case"owner":v="/owner/dashboard";break;case"tenant":v="/tenant/dashboard";break;default:v="/home"}r(v,{replace:!0})}catch(S){console.error("Login failed:",S)}};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-white",children:[e.jsx("div",{className:"w-full md:w-1/2 bg-teal-800 flex flex-col justify-center items-center p-12 text-white",children:e.jsxs("div",{className:"max-w-md",children:[e.jsxs("svg",{viewBox:"0 0 200 60",className:"w-full h-auto mb-8",fill:"currentColor",children:[e.jsx("path",{d:"M10,10 L30,10 L30,50 L10,50 Z"}),e.jsx("path",{d:"M35,10 L55,10 L55,50 L35,50 Z"}),e.jsx("path",{d:"M60,10 L60,50 L80,50 L80,35 L70,35 L70,25 L80,25 L80,10 Z"}),e.jsx("path",{d:"M85,10 L105,10 L105,50 L85,50 Z"}),e.jsx("path",{d:"M110,10 L110,50 L130,50 L130,35 L120,35 L120,25 L130,25 L130,10 Z"}),e.jsx("path",{d:"M135,10 L155,10 L155,50 L135,50 Z"}),e.jsx("path",{d:"M160,10 L180,10 L180,50 L160,50 Z"}),e.jsx("path",{d:"M185,10 L185,50 L190,50 L190,10 Z"})]}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Sentrix Real Estate"}),e.jsx("p",{className:"text-xl ",children:"Your trusted partner in finding the perfect property for your needs."}),e.jsxs("div",{className:"mt-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-teal-600 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Premium Properties"}),e.jsx("p",{className:"opacity-80",children:"Exclusive access to high-end properties"})]})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-teal-600 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Secure Transactions"}),e.jsx("p",{className:"opacity-80",children:"Safe and transparent property dealings"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-teal-600 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Fast Process"}),e.jsx("p",{className:"opacity-80",children:"Quick and efficient property acquisition"})]})]})]})]})}),e.jsx("div",{className:"w-full md:w-1/2 flex justify-center items-center p-12",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please sign in to your account"}),u&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:h.email,onChange:C,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 ${b.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email",disabled:i}),b.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:g?"text":"password",required:!0,value:h.password,onChange:C,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 pr-12 ${b.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password",disabled:i}),e.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:i,children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]}),b.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember",name:"remember",type:"checkbox",checked:h.remember,onChange:C,className:"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded",disabled:i}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(ne,{to:"/forgot-password",className:"font-medium text-teal-600 hover:text-teal-500",children:"Forgot password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-teal-600 hover:bg-teal-700 disabled:bg-teal-400 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(ne,{to:"/register",className:"font-medium text-teal-600 hover:text-teal-500",children:"Sign up here"})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})})}),e.jsx("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.675 0H1.325C0.593 0 0 0.593 0 1.325v21.351C0 23.407 0.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463 0.099 2.795 0.143v3.24l-1.918 0.001c-1.504 0-1.795 0.715-1.795 1.763v2.313h3.587l-0.467 3.622h-3.12V24h6.116c0.73 0 1.323-0.593 1.323-1.325V1.325C24 0.593 23.407 0 22.675 0z"})})})]})]})]})})]})},$2=()=>{const r=ln(),{register:l,isLoading:o,error:i,clearError:u}=Be(),[m,h]=N.useState({username:"",email:"",password:"",confirmPassword:"",first_name:"",last_name:"",phone_number:"",role:"tenant"}),[f,b]=N.useState({}),[x,g]=N.useState(!1),[p,C]=N.useState(!1),M=[{value:"tenant",label:"Tenant"},{value:"owner",label:"Property Owner"},{value:"manager",label:"Property Manager"}],R=k=>{const{name:S,value:_}=k.target;h(E=>({...E,[S]:_})),f[S]&&b(E=>({...E,[S]:""})),i&&u()},A=()=>{const k={};m.username.trim()?m.username.length<3&&(k.username="Username must be at least 3 characters"):k.username="Username is required";const S=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return m.email.trim()?S.test(m.email)||(k.email="Please enter a valid email address"):k.email="Email is required",m.password?m.password.length<6&&(k.password="Password must be at least 6 characters"):k.password="Password is required",m.confirmPassword?m.password!==m.confirmPassword&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password",m.first_name.trim()||(k.first_name="First name is required"),m.last_name.trim()||(k.last_name="Last name is required"),m.phone_number&&m.phone_number.length<10&&(k.phone_number="Please enter a valid phone number"),b(k),Object.keys(k).length===0},j=async k=>{if(k.preventDefault(),!!A())try{const{confirmPassword:S,..._}=m;await l(_);const E=m.role==="tenant"?"/home":"/admin/dashboard";r(E)}catch(S){console.error("Registration failed:",S)}};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-white",children:[e.jsx("div",{className:"w-full md:w-1/2 bg-teal-800 flex flex-col justify-center items-center p-12 text-white",children:e.jsxs("div",{className:"max-w-md",children:[e.jsxs("svg",{viewBox:"0 0 200 60",className:"w-full h-auto mb-8",fill:"currentColor",children:[e.jsx("path",{d:"M10,10 L30,10 L30,50 L10,50 Z"}),e.jsx("path",{d:"M35,10 L55,10 L55,50 L35,50 Z"}),e.jsx("path",{d:"M60,10 L60,50 L80,50 L80,35 L70,35 L70,25 L80,25 L80,10 Z"}),e.jsx("path",{d:"M85,10 L105,10 L105,50 L85,50 Z"}),e.jsx("path",{d:"M110,10 L110,50 L130,50 L130,35 L120,35 L120,25 L130,25 L130,10 Z"}),e.jsx("path",{d:"M135,10 L155,10 L155,50 L135,50 Z"}),e.jsx("path",{d:"M160,10 L180,10 L180,50 L160,50 Z"}),e.jsx("path",{d:"M185,10 L185,50 L190,50 L190,10 Z"})]}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Join Sentrix"}),e.jsx("p",{className:"text-xl",children:"Create your account and start managing your properties with ease."}),e.jsxs("div",{className:"mt-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-teal-600 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Multi-Role Support"}),e.jsx("p",{className:"opacity-80",children:"Register as tenant, owner, or manager"})]})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-teal-600 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Secure Platform"}),e.jsx("p",{className:"opacity-80",children:"Your data is protected with enterprise-grade security"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-teal-600 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Quick Setup"}),e.jsx("p",{className:"opacity-80",children:"Get started in minutes with our easy setup process"})]})]})]})]})}),e.jsx("div",{className:"w-full md:w-1/2 flex justify-center items-center p-12",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create Account"}),e.jsxs("p",{className:"text-gray-600 mb-8",children:["Already have an account?"," ",e.jsx(ne,{to:"/",className:"font-medium text-teal-600 hover:text-teal-500",children:"Sign in here"})]}),i&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),e.jsx("select",{id:"role",name:"role",value:m.role,onChange:R,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",children:M.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:m.username,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 ${f.username?"border-red-300":"border-gray-300"}`,placeholder:"Enter your username"}),f.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.username})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:m.email,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 ${f.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"}),f.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{id:"first_name",name:"first_name",type:"text",required:!0,value:m.first_name,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 ${f.first_name?"border-red-300":"border-gray-300"}`,placeholder:"First name"}),f.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{id:"last_name",name:"last_name",type:"text",required:!0,value:m.last_name,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 ${f.last_name?"border-red-300":"border-gray-300"}`,placeholder:"Last name"}),f.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.last_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (Optional)"}),e.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",value:m.phone_number,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 ${f.phone_number?"border-red-300":"border-gray-300"}`,placeholder:"Enter your phone number"}),f.phone_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.phone_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:x?"text":"password",required:!0,value:m.password,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 pr-12 ${f.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>g(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]}),f.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",required:!0,value:m.confirmPassword,onChange:R,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 pr-12 ${f.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:()=>C(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]}),f.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.confirmPassword})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-teal-600 hover:bg-teal-700 disabled:bg-teal-400 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})})]})]})})]})},xx=()=>{const{user:r,logout:l}=Be(),o=ln(),[i,u]=N.useState(!1),[m,h]=N.useState(!1),f=N.useRef(null),b=N.useRef(null),x=()=>{u(!i),m&&h(!1)},g=()=>{h(!m),i&&u(!1)},p=async()=>{try{await l(),o("/login")}catch(C){console.error("Logout failed:",C),o("/login")}};return N.useEffect(()=>{const C=M=>{f.current&&!f.current.contains(M.target)&&u(!1),b.current&&!b.current.contains(M.target)&&h(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]),e.jsxs("nav",{className:"bg-white shadow-md py-3 px-4 sm:px-6 flex justify-between items-center sticky top-0 z-20 border-b border-slate-200 w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ne,{to:"/home",className:"font-bold text-teal-700",children:e.jsx("span",{className:"md:hidden text-xl",children:"AAP"})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{onClick:g,className:"relative p-1 rounded-full text-gray-600 hover:text-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-rose-500 ring-2 ring-white"})]}),m&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:[e.jsxs("div",{className:"px-4 py-2 text-sm font-medium text-gray-700 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{children:"Notifications"}),e.jsx("span",{className:"bg-teal-100 text-teal-800 text-xs font-semibold px-2 py-1 rounded-full",children:"3 New"})]}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 bg-teal-100 rounded-full p-1",children:e.jsx("svg",{className:"h-5 w-5 text-teal-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Rent payment due"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Apartment A-101 rent payment is due in 3 days"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"2 hours ago"})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-1",children:e.jsx("svg",{className:"h-5 w-5 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Payment received"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"John Doe has paid $2,500 for Apartment A-101"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Yesterday"})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-full p-1",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Maintenance request"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"New maintenance request for Apartment B-205"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"2 days ago"})]})]})})]}),e.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:e.jsx(ne,{to:"/admin/notifications",className:"text-sm font-medium text-teal-600 hover:text-teal-800",children:"View all notifications"})})]})]}),e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:x,className:"flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",id:"user-menu","aria-expanded":"false","aria-haspopup":"true",children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-teal-600 to-emerald-700 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),i&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[e.jsxs("p",{className:"font-medium",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),e.jsx("p",{className:"text-gray-500 text-xs",children:r==null?void 0:r.email}),e.jsxs("p",{className:"text-gray-500 text-xs capitalize",children:[r==null?void 0:r.role," Account"]})]}),e.jsx(ne,{to:`/${r==null?void 0:r.role}/profile`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Your Profile"}),e.jsx(ne,{to:`/${r==null?void 0:r.role}/settings`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Settings"}),e.jsx("button",{onClick:p,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign out"})]})]})]})]})},Z2=()=>{const r=[{id:1,title:"Luxury Villa",price:"SAR 4,500,000",location:"Al Nakheel, Riyadh",image:"https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&auto=format&fit=crop&w=1475&q=80"},{id:2,title:"Modern Apartment",price:"SAR 2,100,000",location:"Al Olaya, Riyadh",image:"https://images.unsplash.com/photo-1560448204-603b3fc33ddc?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"},{id:3,title:"Family Home",price:"SAR 3,200,000",location:"Al Hamra, Jeddah",image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[e.jsx(xx,{}),e.jsxs("div",{className:"relative h-[70vh] bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1586184059684-461bc62a9ffc?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80)"},children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Find Your Dream Property"}),e.jsx("p",{className:"text-xl text-gray-200 max-w-2xl",children:"Discover premium properties in the most desirable locations"}),e.jsx("div",{className:"mt-8 w-full max-w-4xl bg-white rounded-lg shadow-lg overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"flex-1 p-3",children:e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",children:[e.jsx("option",{children:"Any Location"}),e.jsx("option",{children:"Riyadh"}),e.jsx("option",{children:"Jeddah"}),e.jsx("option",{children:"Dammam"}),e.jsx("option",{children:"Mecca"}),e.jsx("option",{children:"Medina"})]})}),e.jsx("div",{className:"flex-1 p-3",children:e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",children:[e.jsx("option",{children:"Any Type"}),e.jsx("option",{children:"Apartment"}),e.jsx("option",{children:"Villa"}),e.jsx("option",{children:"Townhouse"})]})}),e.jsx("div",{className:"p-3",children:e.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded transition duration-300",children:"Search"})})]})})]})]}),e.jsxs("div",{className:"container mx-auto py-12 px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Featured Properties"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map(l=>e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"relative h-48",children:e.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:l.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:l.location}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xl font-bold text-blue-600",children:l.price}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition duration-300",children:"View Details"})]})]})]},l.id))})]}),e.jsx("div",{className:"bg-blue-600 py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Find Your Dream Property?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Contact our team of experts to help you find the perfect property that meets all your requirements."}),e.jsx("button",{className:"bg-white hover:bg-gray-100 text-blue-600 font-bold py-3 px-8 rounded-lg shadow-lg transition duration-300",children:"Contact Us"})]})}),e.jsx("footer",{className:"bg-gray-800 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"AL ARAB PROPERTY"}),e.jsx("p",{className:"text-gray-400",children:"Your trusted partner in finding the perfect property for your needs."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Properties"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Info"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:"King Fahd Road, Riyadh, Saudi Arabia"}),e.jsx("li",{children:"+966 11 123 4567"}),e.jsx("li",{children:"info@alarabproperty.com"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.675 0H1.325C0.593 0 0 0.593 0 1.325v21.351C0 23.407 0.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463 0.099 2.795 0.143v3.24l-1.918 0.001c-1.504 0-1.795 0.715-1.795 1.763v2.313h3.587l-0.467 3.622h-3.12V24h6.116c0.73 0 1.323-0.593 1.323-1.325V1.325C24 0.593 23.407 0 22.675 0z"})})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 14-7.503 14-14 0-.21-.005-.418-.015-.628.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"})})})]})]})]}),e.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:e.jsx("p",{children:" 2023 AL ARAB PROPERTY. All rights reserved."})})]})})]})},W2=()=>e.jsx("div",{className:"absolute inset-0 w-full h-full opacity-5 pointer-events-none",children:e.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),X2=({isOpen:r,onToggle:l})=>{const o=Wa(),i=ln(),{user:u,logout:m}=Be(),h=()=>{l&&l(!r)},b=(u==null?void 0:u.role)==="owner"?[{path:"/owner/dashboard",icon:"grid",label:"Dashboard"},{path:"/owner/properties",icon:"building",label:"My Properties"},{path:"/owner/tenants",icon:"users",label:"My Tenants"},{path:"/owner/financial",icon:"credit-card",label:"Financial Reports"},{path:"/owner/maintenance",icon:"tools",label:"Maintenance"},{path:"/owner/billing",icon:"document",label:"Billing & Payments"},{path:"/owner/messages",icon:"chat",label:"Messages"}]:(u==null?void 0:u.role)==="tenant"?[{path:"/tenant/dashboard",icon:"grid",label:"Dashboard"},{path:"/tenant/properties",icon:"home",label:"My Properties"},{path:"/tenant/lease",icon:"document",label:"Lease Management"},{path:"/tenant/payments",icon:"credit-card",label:"Payment Center"},{path:"/tenant/bills",icon:"receipt",label:"Bills & Utilities"},{path:"/tenant/maintenance",icon:"tools",label:"Maintenance"},{path:"/tenant/documents",icon:"folder",label:"Documents"},{path:"/tenant/messages",icon:"chat",label:"Messages"}]:(u==null?void 0:u.role)==="manager"?[{path:"/manager/dashboard",icon:"grid",label:"Dashboard"},{path:"/manager/properties",icon:"building",label:"Properties"},{path:"/manager/units",icon:"home",label:"Units"},{path:"/manager/tenants",icon:"users",label:"Tenants"},{path:"/manager/owners",icon:"briefcase",label:"Owners"},{path:"/manager/contracts",icon:"document",label:"Contracts"},{path:"/manager/reports",icon:"credit-card",label:"Financial Reports"},{path:"/manager/messages",icon:"chat",label:"Messages"}]:[{path:"/admin/dashboard",icon:"grid",label:"Dashboard"},{path:"/admin/tenants",icon:"users",label:"Tenants"},{path:"/admin/buildings",icon:"building",label:"Buildings"},{path:"/admin/villas",icon:"home",label:"Villas"},{path:"/admin/virtual-demo",icon:"video",label:"Virtual Tour"},{path:"/admin/vendors",icon:"briefcase",label:"Vendors"},{path:"/admin/transactions",icon:"credit-card",label:"Financial Transactions"},{path:"/admin/messages",icon:"chat",label:"Messages"}],x=async()=>{try{await m(),i("/login")}catch(p){console.error("Logout failed:",p),i("/login")}},g=p=>o.pathname===p;return e.jsxs("div",{className:`bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white h-screen ${r?"w-80":"w-20"} transition-all duration-300 fixed left-0 top-0 shadow-xl overflow-hidden z-30`,children:[e.jsx(W2,{}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-gradient-to-r from-teal-800 to-slate-800",children:[r?e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-teal-200 to-white",children:"SENTRIX Real Estate"}),(u==null?void 0:u.role)==="owner"&&e.jsx("p",{className:"text-xs text-teal-300 mt-1",children:"Property Owner Portal"}),(u==null?void 0:u.role)==="tenant"&&e.jsx("p",{className:"text-xs text-teal-300 mt-1",children:"Tenant Portal"}),(u==null?void 0:u.role)==="manager"&&e.jsx("p",{className:"text-xs text-teal-300 mt-1",children:"Manager Portal"})]}):e.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-teal-200 to-white",children:(u==null?void 0:u.role)==="owner"?"PO":(u==null?void 0:u.role)==="tenant"?"TP":(u==null?void 0:u.role)==="manager"?"MP":"AP"}),e.jsx("button",{onClick:h,className:"text-gray-300 hover:text-teal-300 transition-all duration-200 p-1 rounded-full hover:bg-slate-700/50",children:r?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),e.jsx("nav",{className:"mt-6",children:e.jsx("ul",{className:"space-y-2 px-4",children:b.map(p=>e.jsx("li",{children:e.jsxs(ne,{to:p.path,className:`flex items-center p-3 rounded-lg transition-all duration-200 ${g(p.path)?"bg-gradient-to-r from-teal-700 to-teal-600 text-white shadow-md border-l-4 border-teal-400":p.highlight?"text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 shadow-md":"text-gray-300 hover:bg-slate-800/50 hover:text-teal-300 hover:translate-x-1 hover:border-l-4 hover:border-teal-500/50"}`,children:[e.jsx("span",{className:"inline-flex items-center justify-center",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.icon==="grid"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}),p.icon==="users"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}),p.icon==="building"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}),p.icon==="home"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),p.icon==="briefcase"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}),p.icon==="credit-card"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"}),p.icon==="video"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}),p.icon==="tools"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),p.icon==="document"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}),p.icon==="receipt"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"}),p.icon==="folder"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}),p.icon==="chat"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]})}),r&&e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block font-medium",children:p.label}),p.description&&e.jsx("span",{className:"text-xs opacity-75",children:p.description})]})]})},p.path))})}),e.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-slate-700 bg-gradient-to-r from-slate-800 to-teal-800",children:e.jsxs("button",{onClick:x,className:"flex items-center p-2 text-gray-300 hover:text-teal-300 transition-colors duration-200 rounded-lg hover:bg-slate-800/50 w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),r&&e.jsx("span",{className:"ml-2",children:"Logout"})]})})]})},zl=()=>{const[r,l]=N.useState(!0),[,o]=N.useState(!1),i=u=>{l(u)};return N.useEffect(()=>{const u=()=>{o(window.innerWidth<768),window.innerWidth<768?l(!1):l(!0)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),e.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[e.jsx(X2,{isOpen:r,onToggle:i}),e.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${r?"md:ml-80":"ml-20"}`,children:[e.jsx(xx,{}),e.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:e.jsx("div",{className:"  mx-auto px-4 sm:px-6 py-4 sm:py-6 md:py-8",children:e.jsx(Zg,{})})})]})]})};var _o={exports:{}},So,jh;function Q2(){if(jh)return So;jh=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return So=r,So}var ko,vh;function K2(){if(vh)return ko;vh=1;var r=Q2();function l(){}function o(){}return o.resetWarningCache=l,ko=function(){function i(h,f,b,x,g,p){if(p!==r){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}i.isRequired=i;function u(){return i}var m={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:u,element:i,elementType:i,instanceOf:u,node:i,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:l};return m.PropTypes=m,m},ko}var Nh;function J2(){return Nh||(Nh=1,_o.exports=K2()()),_o.exports}var I2=J2();const I=Mh(I2),B=({children:r,className:l="",variant:o="default",size:i="default",interactive:u=!1,loading:m=!1,header:h,footer:f,onClick:b,...x})=>{const g="card transition-smooth",p={default:"shadow-md hover:shadow-lg",elevated:"shadow-lg hover:shadow-xl",outlined:"border-2 border-gray-200 shadow-sm hover:border-gray-300",flat:"shadow-none border border-gray-100"},C={sm:"text-sm",default:"",lg:"text-lg"},M=u||b?"cursor-pointer hover:scale-[1.02] active:scale-[0.98]":"",R=[g,p[o],C[i],M,m?"loading-pulse":"",l].filter(Boolean).join(" "),A=()=>e.jsxs(e.Fragment,{children:[h&&e.jsx("div",{className:"card-header",children:typeof h=="string"?e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:h}):h}),e.jsx("div",{className:"card-body",children:m?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-1/2"})]}):r}),f&&e.jsx("div",{className:"card-footer",children:f})]});return b?e.jsx("button",{className:R,onClick:b,disabled:m,...x,children:e.jsx(A,{})}):e.jsx("div",{className:R,...x,children:e.jsx(A,{})})};B.propTypes={children:I.node,className:I.string,variant:I.oneOf(["default","elevated","outlined","flat"]),size:I.oneOf(["sm","default","lg"]),interactive:I.bool,loading:I.bool,header:I.oneOfType([I.string,I.node]),footer:I.node,onClick:I.func};const $o=({occupied:r,vacant:l,loading:o=!1})=>{const i=r+l,u=Math.round(r/i*100),m=100-u;return e.jsxs(B,{header:"Apartment Occupancy",loading:o,className:"h-full",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Occupancy Rate"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[u,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:e.jsx("div",{className:"bg-teal-600 h-4 rounded-full",style:{width:`${u}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-teal-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Occupied"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[r," ",e.jsx("span",{className:"text-sm text-gray-500",children:"units"})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Vacant"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[l," ",e.jsx("span",{className:"text-sm text-gray-500",children:"units"})]})]})]})]}),e.jsx("div",{className:"relative w-48 h-48 mx-auto mt-4",children:e.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:[e.jsx("circle",{cx:"18",cy:"18",r:"15.91549430918954",fill:"transparent",stroke:"#e5e7eb",strokeWidth:"3"}),e.jsx("circle",{cx:"18",cy:"18",r:"15.91549430918954",fill:"transparent",stroke:"#0F766E",strokeWidth:"3",strokeDasharray:`${u} ${m}`,strokeDashoffset:"25",transform:"rotate(-90 18 18)"}),e.jsxs("text",{x:"18",y:"17",textAnchor:"middle",fill:"#1f2937",fontSize:"6",fontWeight:"bold",children:[u,"%"]}),e.jsx("text",{x:"18",y:"22",textAnchor:"middle",fill:"#6b7280",fontSize:"2.5",children:"Occupied"})]})})]})},fx=({data:r,loading:l=!1})=>{const o=Math.max(...r.map(i=>i.amount));return e.jsxs(B,{header:"Monthly Revenue",loading:l,className:"h-full",children:[e.jsx("div",{className:"flex items-end h-64 space-x-2",children:r.map((i,u)=>{const m=i.amount/o*100;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"relative w-full",children:e.jsx("div",{className:"w-full bg-gradient-to-t from-amber-600 to-amber-400 rounded-t-md",style:{height:`${m}%`},children:e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-amber-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:i.amount.toLocaleString("en-US",{style:"currency",currency:"SAR"})})})}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.month})]},u)})}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue (YTD)"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.reduce((i,u)=>i+u.amount,0).toLocaleString("en-US",{style:"currency",currency:"SAR"})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]})]})})]})},Zo=({buildings:r,villas:l,loading:o=!1})=>{const i=r+l,u=Math.round(r/i*100),m=100-u;return e.jsxs(B,{header:"Property Distribution",loading:o,className:"h-full",children:[e.jsx("div",{className:"relative w-48 h-48 mx-auto mb-6",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"#e5e7eb",strokeWidth:"20"}),(()=>{const f=2*Math.PI*40,b=f*u/100,x=f*m/100;return e.jsxs(e.Fragment,{children:[e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"#0F766E",strokeWidth:"20",strokeDasharray:`${b} ${f-b}`,strokeDashoffset:"0",transform:"rotate(-90 50 50)"}),e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"#7E22CE",strokeWidth:"20",strokeDasharray:`${x} ${f-x}`,strokeDashoffset:`${-b}`,transform:"rotate(-90 50 50)"})]})})(),e.jsx("text",{x:"50",y:"45",textAnchor:"middle",fill:"#374151",fontSize:"16",fontWeight:"bold",children:i}),e.jsx("text",{x:"50",y:"65",textAnchor:"middle",fill:"#6b7280",fontSize:"10",children:"Properties"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-teal-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Buildings"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[r," ",e.jsxs("span",{className:"text-sm text-gray-500",children:["(",u,"%)"]})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Villas"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[l," ",e.jsxs("span",{className:"text-sm text-gray-500",children:["(",m,"%)"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Properties"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i})]})]})},px=({activities:r,loading:l=!1})=>{const o=i=>{switch(i.type){case"tenant_added":return{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),color:"bg-emerald-600"};case"maintenance":return{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),color:"bg-amber-600"};case"lease_renewal":return{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),color:"bg-teal-600"};case"payment":return{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),e.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]}),color:"bg-emerald-600"};case"property_added":return{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),color:"bg-purple-600"};default:return{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),color:"bg-slate-600"}}};return e.jsx(B,{header:"Recent Activities",loading:l,className:"h-full",children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:r.map((i,u)=>{const{icon:m,color:h}=o(i);return e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[u!==r.length-1?e.jsx("span",{className:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}):null,e.jsxs("div",{className:"relative flex items-start space-x-3",children:[e.jsx("div",{children:e.jsx("div",{className:`relative px-1 ${h} h-10 w-10 rounded-full flex items-center justify-center ring-8 ring-white`,children:e.jsx("span",{className:"text-white",children:m})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium text-gray-900",children:i.activity})}),e.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:i.date})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:i.details})})]})]})]})},i.id)})})})})},ct=({title:r,value:l,icon:o,color:i,link:u,subValue:m,subLabel:h,trend:f,loading:b=!1})=>{const x={teal:{bg:"bg-teal-50",text:"text-teal-600",border:"border-teal-200",accent:"bg-teal-500"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200",accent:"bg-emerald-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200",accent:"bg-purple-500"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200",accent:"bg-indigo-500"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200",accent:"bg-amber-500"},rose:{bg:"bg-rose-50",text:"text-rose-600",border:"border-rose-200",accent:"bg-rose-500"}},g=x[i]||x.teal,p=()=>{const R=`h-6 w-6 ${g.text}`;switch(o){case"building":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"home":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"users":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})});case"key":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})});case"briefcase":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"cash":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"villa":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:R,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});default:return null}},C=()=>{if(!f)return null;const R=f>0;return e.jsxs("div",{className:`flex items-center text-xs ${R?"text-green-600":"text-red-600"} mt-1`,children:[R?e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e.jsxs("span",{children:[Math.abs(f),"% ",R?"increase":"decrease"]})]})},M=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`h-1 ${g.accent} w-full`}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:r}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2 truncate",children:b?e.jsx("span",{className:"inline-block h-8 w-24 bg-gray-200 rounded animate-pulse"}):l}),m&&!b&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[h,": "]}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:m})]}),C()]}),e.jsx("div",{className:`${g.bg} ${g.border} border p-3 rounded-xl ml-4 flex-shrink-0`,children:b?e.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded animate-pulse"}):p()})]})})]});return b?e.jsx(B,{variant:"default",loading:b,className:"h-full",children:e.jsx(M,{})}):e.jsx(ne,{to:u,className:"block h-full",children:e.jsx(B,{variant:"default",interactive:!0,className:"h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:e.jsx(M,{})})})},O=({children:r,variant:l="primary",size:o="default",loading:i=!1,disabled:u=!1,icon:m,iconPosition:h="left",fullWidth:f=!1,className:b="",onClick:x,type:g="button",...p})=>{const C="btn",M={primary:"btn-primary",secondary:"btn-secondary",success:"btn-success",danger:"btn-danger",ghost:"btn bg-transparent text-gray-700 hover:bg-gray-50 border border-gray-300",link:"btn bg-transparent text-teal-600 hover:text-teal-700 hover:bg-teal-50 p-0 shadow-none"},R={sm:"btn-sm",default:"",lg:"btn-lg"},A=[C,M[l],R[o],f?"w-full":"",i?"cursor-wait":"",b].filter(Boolean).join(" "),j=()=>e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k=()=>i?e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx("span",{className:"ml-2",children:"Loading..."})]}):m&&h==="left"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:m}),r]}):m&&h==="right"?e.jsxs(e.Fragment,{children:[r,e.jsx("span",{className:"ml-2",children:m})]}):r;return e.jsx("button",{type:g,className:A,onClick:x,disabled:u||i,...p,children:k()})};O.propTypes={children:I.node.isRequired,variant:I.oneOf(["primary","secondary","success","danger","ghost","link"]),size:I.oneOf(["sm","default","lg"]),loading:I.bool,disabled:I.bool,icon:I.node,iconPosition:I.oneOf(["left","right"]),fullWidth:I.bool,className:I.string,onClick:I.func,type:I.oneOf(["button","submit","reset"])};const bt=N.forwardRef(({label:r,error:l,helperText:o,required:i=!1,disabled:u=!1,loading:m=!1,type:h="text",size:f="default",variant:b="default",icon:x,iconPosition:g="left",className:p="",containerClassName:C="",onChange:M,...R},A)=>{const j=v=>{M&&M(v)},k={sm:"px-3 py-1.5 text-sm",default:"px-3 py-2",lg:"px-4 py-3 text-lg"},_=[{default:"form-input",outlined:"form-input border-2",filled:"form-input bg-gray-50 border-transparent focus:bg-white focus:border-teal-500"}[b],k[f],l?"form-input-error":"",u?"opacity-50 cursor-not-allowed":"",m?"cursor-wait":"",x?g==="left"?"pl-10":"pr-10":"",p].filter(Boolean).join(" "),E=R.id||R.name;return e.jsxs("div",{className:`space-y-1 ${C}`,children:[r&&e.jsxs("label",{htmlFor:E,className:"form-label",children:[r,i&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[x&&g==="left"&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:x})}),e.jsx("input",{ref:A,type:h,className:_,disabled:u||m,"aria-invalid":l?"true":"false","aria-describedby":l?`${E}-error`:o?`${E}-helper`:void 0,onChange:j,...R}),x&&g==="right"&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:x})}),m&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsxs("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),l&&e.jsx("p",{id:`${E}-error`,className:"form-error",children:l}),o&&!l&&e.jsx("p",{id:`${E}-helper`,className:"text-sm text-gray-500",children:o})]})]})});bt.displayName="Input";bt.propTypes={label:I.string,error:I.string,helperText:I.string,required:I.bool,disabled:I.bool,loading:I.bool,type:I.string,size:I.oneOf(["sm","default","lg"]),variant:I.oneOf(["default","outlined","filled"]),icon:I.node,iconPosition:I.oneOf(["left","right"]),className:I.string,containerClassName:I.string,onChange:I.func};const sn=N.forwardRef(({label:r,error:l,helperText:o,required:i=!1,disabled:u=!1,loading:m=!1,size:h="default",variant:f="default",placeholder:b="Select an option...",options:x=[],className:g="",containerClassName:p="",children:C,...M},R)=>{const A={sm:"px-3 py-1.5 text-sm",default:"px-3 py-2",lg:"px-4 py-3 text-lg"},k=[{default:"form-select",outlined:"form-select border-2",filled:"form-select bg-gray-50 border-transparent focus:bg-white focus:border-teal-500"}[f],A[h],l?"form-input-error":"",u?"opacity-50 cursor-not-allowed":"",m?"cursor-wait":"",g].filter(Boolean).join(" "),S=M.id||M.name;return e.jsxs("div",{className:`space-y-1 ${p}`,children:[r&&e.jsxs("label",{htmlFor:S,className:"form-label",children:[r,i&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{ref:R,className:k,disabled:u||m,"aria-invalid":l?"true":"false","aria-describedby":l?`${S}-error`:o?`${S}-helper`:void 0,...M,children:[b&&e.jsx("option",{value:"",disabled:!0,children:b}),x.length>0?x.map(_=>e.jsx("option",{value:_.value,disabled:_.disabled,children:_.label},_.value)):C]}),m&&e.jsx("div",{className:"absolute inset-y-0 right-8 flex items-center",children:e.jsxs("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),l&&e.jsx("p",{id:`${S}-error`,className:"form-error",children:l}),o&&!l&&e.jsx("p",{id:`${S}-helper`,className:"text-sm text-gray-500",children:o})]})});sn.displayName="Select";sn.propTypes={label:I.string,error:I.string,helperText:I.string,required:I.bool,disabled:I.bool,loading:I.bool,size:I.oneOf(["sm","default","lg"]),variant:I.oneOf(["default","outlined","filled"]),placeholder:I.string,options:I.arrayOf(I.shape({value:I.oneOfType([I.string,I.number]).isRequired,label:I.string.isRequired,disabled:I.bool})),className:I.string,containerClassName:I.string,children:I.node,id:I.string,name:I.string};const Xa=({columns:r=[],data:l=[],loading:o=!1,emptyMessage:i="No data available",className:u="",variant:m="default",size:h="default",striped:f=!0,hoverable:b=!0,...x})=>{const g={sm:"text-sm",default:"",lg:"text-base"},p={default:"table-header",primary:"bg-teal-600 text-white",secondary:"bg-gray-600 text-white"},C=["table",g[h],u].filter(Boolean).join(" "),M=p[m]||p.default,R=()=>e.jsx("tr",{children:r.map((j,k)=>e.jsx("td",{className:"table-cell",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},k))}),A=()=>e.jsx("tr",{children:e.jsx("td",{colSpan:r.length,className:"table-cell text-center py-8 text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("p",{className:"text-lg font-medium",children:i})]})})});return e.jsx(B,{variant:"default",className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:C,...x,children:[e.jsx("thead",{className:M,children:e.jsx("tr",{children:r.map((j,k)=>e.jsx("th",{className:`table-header-cell ${j.className||""}`,style:{width:j.width},children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:j.title}),j.sortable&&e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})]})},j.key||k))})}),e.jsx("tbody",{className:`table-body ${f?"divide-y divide-gray-200":""}`,children:o?Array.from({length:5}).map((j,k)=>e.jsx(R,{},k)):l.length===0?e.jsx(A,{}):l.map((j,k)=>e.jsx("tr",{className:`${b?"table-row":""} ${f&&k%2===0?"bg-gray-50":""}`,children:r.map((S,_)=>{const E=S.render?S.render(j[S.key],j,k):j[S.key];return e.jsx("td",{className:`${S.secondary?"table-cell-secondary":"table-cell"} ${S.cellClassName||""}`,children:E},S.key||_)})},j.id||k))})]})})})};Xa.propTypes={columns:I.arrayOf(I.shape({key:I.string.isRequired,title:I.string.isRequired,width:I.string,className:I.string,cellClassName:I.string,secondary:I.bool,sortable:I.bool,render:I.func})).isRequired,data:I.array,loading:I.bool,emptyMessage:I.string,className:I.string,variant:I.oneOf(["default","primary","secondary"]),size:I.oneOf(["sm","default","lg"]),striped:I.bool,hoverable:I.bool};const gx=({isOpen:r,onClose:l,title:o,children:i,size:u="default",showCloseButton:m=!0,closeOnOverlayClick:h=!0,closeOnEscape:f=!0,className:b="",headerClassName:x="",bodyClassName:g="",overlayClassName:p="",...C})=>{if(N.useEffect(()=>{if(!r||!f)return;const A=j=>{j.key==="Escape"&&l()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r,f,l]),N.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const M=A=>{const j={sm:{base:"w-11/12 max-w-sm","300_to_768":"300_to_768:w-11/12 300_to_768:max-w-sm","768_to_1024":"768_to_1024:w-10/12 768_to_1024:max-w-md","1024_to_1280":"1024_to_1280:w-8/12 1024_to_1280:max-w-lg","1280_to_1340":"1280_to_1340:w-6/12 1280_to_1340:max-w-xl","1340_to_1540":"1340_to_1540:w-5/12 1340_to_1540:max-w-2xl","1540px_to_1640":"1540px_to_1640:w-4/12 1540px_to_1640:max-w-3xl"},default:{base:"w-11/12 max-w-lg","300_to_768":"300_to_768:w-11/12 300_to_768:max-w-lg","768_to_1024":"768_to_1024:w-10/12 768_to_1024:max-w-xl","1024_to_1280":"1024_to_1280:w-8/12 1024_to_1280:max-w-2xl","1280_to_1340":"1280_to_1340:w-7/12 1280_to_1340:max-w-3xl","1340_to_1540":"1340_to_1540:w-6/12 1340_to_1540:max-w-4xl","1540px_to_1640":"1540px_to_1640:w-5/12 1540px_to_1640:max-w-5xl"},lg:{base:"w-11/12 max-w-xl","300_to_768":"300_to_768:w-11/12 300_to_768:max-w-xl","768_to_1024":"768_to_1024:w-10/12 768_to_1024:max-w-2xl","1024_to_1280":"1024_to_1280:w-9/12 1024_to_1280:max-w-4xl","1280_to_1340":"1280_to_1340:w-8/12 1280_to_1340:max-w-5xl","1340_to_1540":"1340_to_1540:w-7/12 1340_to_1540:max-w-6xl","1540px_to_1640":"1540px_to_1640:w-6/12 1540px_to_1640:max-w-7xl"},xl:{base:"w-11/12 max-w-2xl","300_to_768":"300_to_768:w-11/12 300_to_768:max-w-2xl","768_to_1024":"768_to_1024:w-10/12 768_to_1024:max-w-3xl","1024_to_1280":"1024_to_1280:w-9/12 1024_to_1280:max-w-5xl","1280_to_1340":"1280_to_1340:w-8/12 1280_to_1340:max-w-6xl","1340_to_1540":"1340_to_1540:w-8/12 1340_to_1540:max-w-7xl","1540px_to_1640":"1540px_to_1640:w-7/12 1540px_to_1640:min-w-[1200px]"},full:{base:"w-11/12","300_to_768":"300_to_768:w-11/12","768_to_1024":"768_to_1024:w-10/12","1024_to_1280":"1024_to_1280:w-11/12","1280_to_1340":"1280_to_1340:w-10/12","1340_to_1540":"1340_to_1540:w-11/12","1540px_to_1640":"1540px_to_1640:w-10/12"}},k=j[A]||j.default;return Object.values(k).join(" ")},R=A=>{h&&A.target===A.currentTarget&&l()};return e.jsx("div",{className:"absolute top-0 left-0",children:e.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4 ${p}`,onClick:R,role:"dialog","aria-modal":"true","aria-labelledby":o?"modal-title":void 0,children:e.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${M(u)} max-h-[90vh] overflow-hidden animate-slide-up ${b}`,...C,children:[(o||m)&&e.jsx("div",{className:`bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-4 ${x}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[o&&e.jsx("div",{children:e.jsx("h2",{id:"modal-title",className:"text-xl font-bold",children:o})}),m&&e.jsx("button",{onClick:l,className:"text-white hover:text-teal-200 transition-colors duration-200 p-1 rounded-md hover:bg-teal-800","aria-label":"Close modal",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:`overflow-y-auto max-h-[calc(90vh-80px)] ${g}`,children:i})]})})})};gx.propTypes={isOpen:I.bool.isRequired,onClose:I.func.isRequired,title:I.string,children:I.node.isRequired,size:I.oneOf(["sm","default","lg","xl","full"]),showCloseButton:I.bool,closeOnOverlayClick:I.bool,closeOnEscape:I.bool,className:I.string,headerClassName:I.string,bodyClassName:I.string,overlayClassName:I.string};const ey=()=>{const r=[{title:"Total Buildings",value:8,icon:"building",color:"teal",link:"/admin/buildings"},{title:"Total Apartments",value:120,icon:"home",color:"emerald",link:"/admin/buildings",subValue:"102 Rented, 18 Vacant"},{title:"Total Villas",value:15,icon:"home",color:"purple",link:"/admin/villas"},{title:"Total Tenants",value:117,icon:"users",color:"indigo",link:"/admin/tenants"},{title:"Total Vendors",value:24,icon:"briefcase",color:"amber",link:"/admin/vendors"},{title:"Monthly Revenue",value:"SAR 152,000",icon:"cash",color:"rose",link:"/admin/transactions"}],l=[{month:"Jan",amount:125e3},{month:"Feb",amount:132e3},{month:"Mar",amount:141e3},{month:"Apr",amount:138e3},{month:"May",amount:145e3},{month:"Jun",amount:152e3}],o=[{id:1,date:"2023-06-15",tenant:"Mohammed Al-Saud",property:"A-101, Al Faisaliah Residences",type:"Rent Payment",amount:"SAR 12,500",status:"Completed"},{id:2,date:"2023-06-14",tenant:"Sarah Al-Qahtani",property:"B-205, Kingdom Tower Apartments",type:"Security Deposit",amount:"SAR 15,000",status:"Completed"},{id:3,date:"2023-06-12",tenant:"Ahmed Al-Ghamdi",property:"Villa #3, Al Mamlaka Villas",type:"Maintenance Fee",amount:"SAR 1,200",status:"Pending"},{id:4,date:"2023-06-10",tenant:"Fatima Al-Otaibi",property:"C-310, Red Sea Residence",type:"Utility Payment",amount:"SAR 850",status:"Completed"}],i=[{id:1,type:"tenant_added",activity:"New tenant added",date:"2 hours ago",details:"Mohammed Al-Saud has been added as a tenant for Apartment A-101 in Al Faisaliah Residences."},{id:2,type:"maintenance",activity:"Maintenance request",date:"5 hours ago",details:"Plumbing issue reported in Kingdom Tower Apartments, Floor 3."},{id:3,type:"lease_renewal",activity:"Lease renewal",date:"1 day ago",details:"Sarah Al-Qahtani renewed her lease for another year."},{id:4,type:"payment",activity:"Payment received",date:"2 days ago",details:"Ahmed Al-Ghamdi made a payment of SAR 12,500 for monthly rent."},{id:5,type:"property_added",activity:"New property added",date:"3 days ago",details:"A new villa has been added to the system: Villa #15 in Al Mamlaka Villas."}];return e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back! Here's what's happening with your properties."})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((u,m)=>e.jsx(ct,{title:u.title,value:u.value,icon:u.icon,color:u.color,link:u.link,subValue:u.subValue,subLabel:"Details"},m))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx($o,{occupied:102,vacant:18}),e.jsx(fx,{data:l}),e.jsx(Zo,{buildings:8,villas:15})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Transactions"}),e.jsx(ne,{to:"/admin/transactions",className:"text-teal-600 hover:text-teal-700 text-sm font-medium transition-colors",children:"View All "})]}),className:"h-fit",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"Date"}),e.jsx("th",{className:"table-header-cell",children:"Tenant"}),e.jsx("th",{className:"table-header-cell",children:"Property"}),e.jsx("th",{className:"table-header-cell",children:"Type"}),e.jsx("th",{className:"table-header-cell",children:"Amount"}),e.jsx("th",{className:"table-header-cell",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:o.map(u=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell-secondary",children:u.date}),e.jsx("td",{className:"table-cell",children:u.tenant}),e.jsx("td",{className:"table-cell-secondary",children:u.property}),e.jsx("td",{className:"table-cell-secondary",children:u.type}),e.jsx("td",{className:"table-cell font-semibold",children:u.amount}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u.status==="Completed"?"bg-emerald-100 text-emerald-800":u.status==="Pending"?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-800"}`,children:u.status})})]},u.id))})]})})}),e.jsx(px,{activities:i})]})]})},ty=()=>{const[r,l]=N.useState([{id:1,name:"John Doe",email:"john.doe@example.com",phone:"+966 50 123 4567",nationality:"United States",occupation:"Software Engineer",apartment:"A-101",building:"Al Faisaliah Residences",contractStart:"2023-01-15",contractEnd:"2024-01-14",ejariNumber:"RE-2023-12345",ejariExpiry:"2024-01-14",ejariDocument:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=1064&q=80",monthlyRent:"2,500",status:"Active"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",phone:"+966 55 987 6543",nationality:"United Kingdom",occupation:"Marketing Manager",apartment:"B-205",building:"Kingdom Tower Apartments",contractStart:"2023-02-01",contractEnd:"2024-01-31",ejariNumber:"RE-2023-67890",ejariExpiry:"2024-01-31",ejariDocument:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=1064&q=80",monthlyRent:"3,200",status:"Active"},{id:3,name:"Ahmed Hassan",email:"ahmed.hassan@example.com",phone:"+966 52 456 7890",nationality:"Egypt",occupation:"Accountant",apartment:"C-310",building:"Red Sea Residence",contractStart:"2022-10-01",contractEnd:"2023-09-30",ejariNumber:"",ejariExpiry:"",ejariDocument:null,monthlyRent:"1,800",status:"Inactive"}]),[o,i]=N.useState(!1),[u,m]=N.useState({name:"",email:"",phone:"",nationality:"",occupation:"",apartment:"",building:"",contractStart:"",contractEnd:"",ejariNumber:"",ejariExpiry:"",ejariDocument:null,monthlyRent:"",status:"Active"}),[h,f]=N.useState(null),b=p=>{const{name:C,value:M,files:R,type:A}=p.target;if(A==="file"){const j=R[0];if(j&&(m({...u,[C]:j}),C==="ejariDocument")){const k=new FileReader;k.onloadend=()=>{f(k.result)},k.readAsDataURL(j)}}else m({...u,[C]:M})},x=p=>{if(p.preventDefault(),u.ejariNumber&&!u.ejariDocument){alert("Please upload the Ejari document to verify the Ejari number.");return}const C={id:r.length+1,...u,ejariDocument:h||null};l([...r,C]),i(!1),m({name:"",email:"",phone:"",nationality:"",occupation:"",apartment:"",building:"",contractStart:"",contractEnd:"",ejariNumber:"",ejariExpiry:"",ejariDocument:null,monthlyRent:"",status:"Active"}),f(null)},g=p=>{l(r.filter(C=>C.id!==p))};return e.jsxs("div",{className:" mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Tenants"}),e.jsxs("button",{onClick:()=>i(!0),className:"bg-teal-600 text-white font-medium py-2 px-6 rounded-md shadow-md transition-all duration-200 transform hover:-translate-y-1 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})}),"Add New Tenant"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto sm:overflow-x-auto md:overflow-x-auto lg:overflow-x-auto xl:overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-teal-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Apartment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Ejari"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.phone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.apartment}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.ejariDocument?e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-semibold mr-2",children:"Verified"}),e.jsx("button",{onClick:()=>window.open(p.ejariDocument,"_blank"),className:"text-blue-600 hover:text-blue-800",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}):e.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-semibold",children:"Not Available"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsxs("button",{className:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded-md mr-2 transition-colors duration-200 inline-flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),e.jsxs("button",{className:"bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1 rounded-md transition-colors duration-200 inline-flex items-center",onClick:()=>g(p.id),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]},p.id))})]})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl overflow-y-auto max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Add New Tenant"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Enter tenant details and contract information"})]}),e.jsx("button",{onClick:()=>i(!1),className:"text-white hover:text-blue-200 transition-colors duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2",children:"Personal Information"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:b,required:!0,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter tenant name"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),e.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:b,required:!0,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter tenant email"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),e.jsx("input",{type:"text",id:"phone",name:"phone",value:u.phone,onChange:b,required:!0,className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter tenant phone"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),e.jsx("input",{type:"text",id:"nationality",name:"nationality",value:u.nationality,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter nationality"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"occupation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation"}),e.jsx("input",{type:"text",id:"occupation",name:"occupation",value:u.occupation,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter occupation"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2",children:"Contract Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"building",className:"block text-sm font-medium text-gray-700 mb-1",children:["Building ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"building",name:"building",value:u.building,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Building name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"apartment",className:"block text-sm font-medium text-gray-700 mb-1",children:["Apartment ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"apartment",name:"apartment",value:u.apartment,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Apartment number"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contractStart",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contract Start ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"contractStart",name:"contractStart",value:u.contractStart,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contractEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contract End ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"contractEnd",name:"contractEnd",value:u.contractEnd,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"monthlyRent",className:"block text-sm font-medium text-gray-700 mb-1",children:["Monthly Rent ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"SAR"})}),e.jsx("input",{type:"text",id:"monthlyRent",name:"monthlyRent",value:u.monthlyRent,onChange:b,required:!0,className:"w-full pl-12 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter monthly rent"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ejariNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),e.jsx("input",{type:"text",id:"ejariNumber",name:"ejariNumber",value:u.ejariNumber,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter registration number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ejariExpiry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Expiry"}),e.jsx("input",{type:"date",id:"ejariExpiry",name:"ejariExpiry",value:u.ejariExpiry,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"ejariDocument",className:"block text-sm font-medium text-gray-700 mb-1",children:["Registration Document"," ",e.jsx("span",{className:"text-blue-600",children:"(Upload verification document)"})]}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors duration-200",children:e.jsxs("div",{className:"space-y-1 text-center",children:[h?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:"Registration Document Preview",className:"mx-auto h-32 object-cover"}),e.jsx("button",{type:"button",onClick:()=>{f(null),m({...u,ejariDocument:null})},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600 transition-colors duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"ejariDocument",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"ejariDocument",name:"ejariDocument",type:"file",accept:"image/*,.pdf",onChange:b,className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"})]})}),u.ejariDocument&&e.jsxs("p",{className:"mt-2 text-sm text-green-600",children:[e.jsx("span",{className:"font-medium",children:"File ready for upload:"})," ",u.ejariDocument.name]}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-semibold text-amber-600",children:"Important:"})," ","The Real Estate Registration is a mandatory system for all rental properties in Saudi Arabia. Please ensure the document is valid and clearly shows the registration number and expiry date."]})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"status",name:"status",value:u.status,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-md hover:from-blue-700 hover:to-indigo-800 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-md transition-all duration-200 transform hover:-translate-y-1",children:"Save Tenant"})]})]})})]})})]})},ay=()=>{const[r,l]=N.useState([{id:1,name:"Al Faisaliah Residences",address:"King Fahd Road, Riyadh",units:120,floors:25,yearBuilt:2015,status:"Operational"},{id:2,name:"Kingdom Tower Apartments",address:"Al Olaya District, Riyadh",units:85,floors:18,yearBuilt:2018,status:"Operational"},{id:3,name:"Red Sea Residence",address:"Corniche Road, Jeddah",units:60,floors:12,yearBuilt:2020,status:"Under Maintenance"}]),[o,i]=N.useState(!1),[u,m]=N.useState({name:"",address:"",units:"",floors:"",yearBuilt:"",status:"Operational"}),h=x=>{const{name:g,value:p}=x.target;m({...u,[g]:p})},f=x=>{x.preventDefault();const g={id:r.length+1,...u,units:parseInt(u.units),floors:parseInt(u.floors),yearBuilt:parseInt(u.yearBuilt)};l([...r,g]),i(!1),m({name:"",address:"",units:"",floors:"",yearBuilt:"",status:"Operational"})},b=x=>{l(r.filter(g=>g.id!==x))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Buildings"}),e.jsx("button",{onClick:()=>i(!0),className:"bg-teal-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Add New Building"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-teal-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Units"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Floors"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Year Built"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.address}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.units}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.floors}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.yearBuilt}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="Operational"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx(ne,{to:`/admin/buildings/${x.id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>b(x.id),children:"Delete"})]})]},x.id))})]})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Building"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Building Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter building name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",id:"address",name:"address",value:u.address,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter building address"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"units",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Units"}),e.jsx("input",{type:"number",id:"units",name:"units",value:u.units,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Number of units"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"floors",className:"block text-sm font-medium text-gray-700 mb-1",children:"Floors"}),e.jsx("input",{type:"number",id:"floors",name:"floors",value:u.floors,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Number of floors"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"yearBuilt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Built"}),e.jsx("input",{type:"number",id:"yearBuilt",name:"yearBuilt",value:u.yearBuilt,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Year of construction"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",name:"status",value:u.status,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Operational",children:"Operational"}),e.jsx("option",{value:"Under Maintenance",children:"Under Maintenance"}),e.jsx("option",{value:"Under Construction",children:"Under Construction"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})},yx="/assets/faisal-D6b7FnDc.jpg",sy=()=>{const{id:r}=gr(),[l,o]=N.useState(null),[i,u]=N.useState([]),[m,h]=N.useState(!0),[f,b]=N.useState(null),x=[{id:1,name:"Al Faisaliah Residences",address:"King Fahd Road, Riyadh",units:120,floors:25,yearBuilt:2015,status:"Operational",image:yx},{id:2,name:"Kingdom Tower Apartments",address:"Al Olaya District, Riyadh",units:85,floors:18,yearBuilt:2018,status:"Operational",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"},{id:3,name:"Red Sea Residence",address:"Corniche Road, Jeddah",units:60,floors:12,yearBuilt:2020,status:"Under Maintenance",image:"https://images.unsplash.com/photo-1574958269340-fa927503f3dd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"}],g=(p,C)=>{const M=[];for(let R=1;R<=C;R++){const A=Math.floor(Math.random()*5)+4,j=[];for(let k=1;k<=A;k++){const S=`${R}${String(k).padStart(2,"0")}`,_=Math.floor(Math.random()*3)+1,E=Math.random()>.3?"Rented":"Vacant";j.push({id:parseInt(`${p}${R}${k}`),number:S,bedrooms:_,bathrooms:_,area:`${_*500+Math.floor(Math.random()*300)} sq ft`,rent:`$${_*1e3+Math.floor(Math.random()*500)}`,status:E,tenantId:E==="Rented"?Math.floor(Math.random()*10)+1:null})}M.push({floorNumber:R,apartments:j})}return M};return N.useEffect(()=>{(()=>{h(!0);const C=x.find(M=>M.id===parseInt(r));if(C){o(C);const M=g(C.id,C.floors);u(M),M.length>0&&b(M[0])}h(!1)})()},[r]),m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsxs(ne,{to:"/admin/buildings",className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Buildings"]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:flex-shrink-0",children:e.jsx("img",{className:"h-48 w-full object-cover md:w-48",src:l.image,alt:l.name})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:l.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:l.address})]}),e.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${l.status==="Operational"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:l.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Units"}),e.jsx("p",{className:"text-lg font-semibold",children:l.units})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Floors"}),e.jsx("p",{className:"text-lg font-semibold",children:l.floors})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Year Built"}),e.jsx("p",{className:"text-lg font-semibold",children:l.yearBuilt})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Occupancy Rate"}),e.jsxs("p",{className:"text-lg font-semibold",children:[Math.floor(Math.random()*30)+70,"%"]})]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Select Floor"}),e.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto pb-2",children:i.map(p=>e.jsxs("button",{onClick:()=>b(p),className:`px-4 py-2 rounded-md ${f&&f.floorNumber===p.floorNumber?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Floor ",p.floorNumber]},p.floorNumber))})]}),f&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Apartments on Floor ",f.floorNumber]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.apartments.map(p=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Apartment ",p.number]}),e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="Rented"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:p.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"}),e.jsx("p",{className:"font-medium",children:p.bedrooms})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"}),e.jsx("p",{className:"font-medium",children:p.bathrooms})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Area"}),e.jsx("p",{className:"font-medium",children:p.area})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Rent"}),e.jsx("p",{className:"font-medium",children:p.rent})]})]}),e.jsx(ne,{to:`/admin/buildings/${l.id}/apartments/${p.id}`,className:"block w-full text-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition duration-300",children:"View Details"})]})},p.id))})]})]}):e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:"Building not found"})},ny="/assets/ejari-BPSfkEkc.jpg",ry=()=>{var R;const{buildingId:r,apartmentId:l}=gr(),[o,i]=N.useState(null),[u,m]=N.useState(null),[h,f]=N.useState(!0),[b,x]=N.useState("details"),g=["https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1560185893-a55cbc8c57e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"],p=[{id:1,name:"John Doe",email:"john.doe@example.com",phone:"+966 50 123 4567",nationality:"Saudi Arabia",occupation:"Software Engineer",contractStart:"2023-01-15",contractEnd:"2024-01-14",ejariNumber:"IJ-2023-12345",ejariExpiry:"2024-01-14",ejariDocument:ny,payments:[{id:1,date:"2023-01-15",amount:"$2,500",status:"Paid",type:"First Month Rent"},{id:2,date:"2023-02-15",amount:"$2,500",status:"Paid",type:"Monthly Rent"},{id:3,date:"2023-03-15",amount:"$2,500",status:"Paid",type:"Monthly Rent"},{id:4,date:"2023-04-15",amount:"$2,500",status:"Paid",type:"Monthly Rent"},{id:5,date:"2023-05-15",amount:"$2,500",status:"Paid",type:"Monthly Rent"},{id:6,date:"2023-06-15",amount:"$2,500",status:"Paid",type:"Monthly Rent"},{id:7,date:"2023-07-15",amount:"$2,500",status:"Pending",type:"Monthly Rent"}]}],C=A=>{const j=Math.floor(A/10)%100,k=Math.floor(A/100)%100,S=Math.floor(Math.random()*3)+1,_=Math.random()>.3?"Rented":"Vacant";return{id:parseInt(A),number:`${k}${String(j).padStart(2,"0")}`,building:parseInt(r),floor:k,bedrooms:S,bathrooms:S,area:`${S*500+Math.floor(Math.random()*300)} sq ft`,rent:`$${S*1e3+Math.floor(Math.random()*500)}`,status:_,tenantId:_==="Rented"?Math.floor(Math.random()*2)+1:null,description:`Spacious ${S} bedroom apartment with modern amenities, including a fully equipped kitchen, central air conditioning, and high-speed internet. Located on the ${k}${M(k)} floor with beautiful city views.`,amenities:["Central Air Conditioning","High-Speed Internet","Fully Equipped Kitchen","In-unit Washer/Dryer","Balcony","Parking Space",S>1?"Master Bedroom with En-suite Bathroom":"Spacious Bedroom","Storage Unit"],images:g}},M=A=>{const j=A%10,k=A%100;return j===1&&k!==11?"st":j===2&&k!==12?"nd":j===3&&k!==13?"rd":"th"};return N.useEffect(()=>{(()=>{f(!0);const j=C(l);if(i(j),j.status==="Rented"&&j.tenantId){const k=p.find(S=>S.id===j.tenantId);m(k)}f(!1)})()},[l,r]),h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o?e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsxs(ne,{to:`/admin/buildings/${r}`,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Building"]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:e.jsxs("div",{className:"relative h-64",children:[e.jsx("img",{src:o.images[0],alt:`Apartment ${o.number}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-end",children:e.jsxs("div",{className:"p-6 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Apartment ",o.number]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${o.status==="Rented"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:o.status}),e.jsx("span",{className:"mx-3 text-gray-300",children:"|"}),e.jsxs("span",{children:[o.bedrooms," Bedroom"]}),e.jsx("span",{className:"mx-3 text-gray-300",children:"|"}),e.jsx("span",{children:o.area})]})]})})]})}),e.jsx("div",{className:"mb-6 border-b border-gray-200 overflow-x-auto",children:e.jsxs("nav",{className:"-mb-px flex space-x-4 md:space-x-8 whitespace-nowrap",children:[e.jsx("button",{onClick:()=>x("details"),className:`py-4 px-1 border-b-2 font-medium text-sm ${b==="details"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Apartment Details"}),o.status==="Rented"&&e.jsx("button",{onClick:()=>x("tenant"),className:`py-4 px-1 border-b-2 font-medium text-sm ${b==="tenant"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tenant Information"}),o.status==="Rented"&&e.jsx("button",{onClick:()=>x("payments"),className:`py-4 px-1 border-b-2 font-medium text-sm ${b==="payments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Payment History"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[b==="details"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Apartment Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Apartment Number"}),e.jsx("p",{className:"font-medium",children:o.number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Floor"}),e.jsx("p",{className:"font-medium",children:o.floor})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"}),e.jsx("p",{className:"font-medium",children:o.bedrooms})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"}),e.jsx("p",{className:"font-medium",children:o.bathrooms})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Area"}),e.jsx("p",{className:"font-medium",children:o.area})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Rent"}),e.jsxs("p",{className:"font-medium",children:[o.rent,"/month"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:`font-medium ${o.status==="Rented"?"text-green-600":"text-blue-600"}`,children:o.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:o.description}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mt-6 mb-2",children:"Amenities"}),e.jsx("ul",{className:"grid grid-cols-2 gap-2",children:o.amenities.map((A,j)=>e.jsxs("li",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),A]},j))})]})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Apartment Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.images.map((A,j)=>e.jsx("div",{className:"rounded-lg overflow-hidden shadow-md",children:e.jsx("img",{src:A,alt:`Apartment ${o.number} - Photo ${j+1}`,className:"w-full h-48 object-cover"})},j))})]}),b==="tenant"&&u&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Tenant Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:u.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:u.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium",children:u.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nationality"}),e.jsx("p",{className:"font-medium",children:u.nationality})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Occupation"}),e.jsx("p",{className:"font-medium",children:u.occupation})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mt-6 mb-4",children:"Contract Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Contract Start"}),e.jsx("p",{className:"font-medium",children:u.contractStart})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Contract End"}),e.jsx("p",{className:"font-medium",children:u.contractEnd})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Rent"}),e.jsx("p",{className:"font-medium",children:o.rent})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Ejari Document"}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ejari Number"}),e.jsx("p",{className:"font-medium",children:u.ejariNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Expiry Date"}),e.jsx("p",{className:"font-medium",children:u.ejariExpiry})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:u.ejariDocument,alt:"Ejari Document",className:"w-full h-auto"})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition duration-300",children:"Download Document"})})]})]})]})]}),b==="payments"&&u&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Payment History"}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.payments.map(A=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.amount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="Paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"View Receipt"})})]},A.id))})]})})}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Payment Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Paid"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",u.payments.filter(A=>A.status==="Paid").reduce((A,j)=>A+parseInt(j.amount.replace("$","").replace(",","")),0).toLocaleString()]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Pending Payments"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["$",u.payments.filter(A=>A.status==="Pending").reduce((A,j)=>A+parseInt(j.amount.replace("$","").replace(",","")),0).toLocaleString()]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Next Payment Due"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((R=u.payments.find(A=>A.status==="Pending"))==null?void 0:R.date)||"No pending payments"})]})]})]})]})]})]}):e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:"Apartment not found"})},ly=()=>{const[r,l]=N.useState([{id:1,name:"Riyadh Maintenance Services",contactPerson:"Mohammed Al-Saud",email:"info@riyadhmaintenance.com",phone:"+966 11 123 4567",service:"Maintenance",status:"Active"},{id:2,name:"Saudi Security Systems",contactPerson:"Sarah Al-Qahtani",email:"contact@saudisecurity.com",phone:"+966 11 987 6543",service:"Security",status:"Active"},{id:3,name:"Al Mamlaka Cleaning Company",contactPerson:"Ahmed Al-Ghamdi",email:"service@mamlakacleaning.com",phone:"+966 12 456 7890",service:"Cleaning",status:"Inactive"}]),[o,i]=N.useState(!1),[u,m]=N.useState({name:"",contactPerson:"",email:"",phone:"",service:"",status:"Active"}),h=x=>{const{name:g,value:p}=x.target;m({...u,[g]:p})},f=x=>{x.preventDefault();const g={id:r.length+1,...u};l([...r,g]),i(!1),m({name:"",contactPerson:"",email:"",phone:"",service:"",status:"Active"})},b=x=>{l(r.filter(g=>g.id!==x))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Vendors"}),e.jsx("button",{onClick:()=>i(!0),className:"bg-teal-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Add New Vendor"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Person"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.contactPerson}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.phone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.service}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>b(x.id),children:"Delete"})]})]},x.id))})]})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Vendor"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contactPerson",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),e.jsx("input",{type:"text",id:"contactPerson",name:"contactPerson",value:u.contactPerson,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter contact person name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"text",id:"phone",name:"phone",value:u.phone,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),e.jsx("input",{type:"text",id:"service",name:"service",value:u.service,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter service type"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",name:"status",value:u.status,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})},iy=({onFilterChange:r,buildings:l,apartments:o,tenants:i,transactionTypes:u})=>{const[m,h]=N.useState({from:"",to:""}),[f,b]=N.useState(""),[x,g]=N.useState(""),[p,C]=N.useState(""),[M,R]=N.useState(""),[A,j]=N.useState(""),[k,S]=N.useState({min:"",max:""}),_=f?o.filter(ae=>ae.buildingId===parseInt(f)):o,E=N.useCallback(ae=>{const ye=ae.target.value;b(ye),g(""),r({building:ye,apartment:"",tenant:p,type:M,status:A,dateRange:m,amountRange:k})},[p,M,A,m,k,r]),v=N.useCallback(ae=>{const ye=ae.target.value;g(ye),r({building:f,apartment:ye,tenant:p,type:M,status:A,dateRange:m,amountRange:k})},[f,p,M,A,m,k,r]),H=N.useCallback(ae=>{const ye=ae.target.value;C(ye),r({building:f,apartment:x,tenant:ye,type:M,status:A,dateRange:m,amountRange:k})},[f,x,M,A,m,k,r]),q=N.useCallback(ae=>{const ye=ae.target.value;R(ye),r({building:f,apartment:x,tenant:p,type:ye,status:A,dateRange:m,amountRange:k})},[f,x,p,A,m,k,r]),$=N.useCallback(ae=>{const ye=ae.target.value;j(ye),r({building:f,apartment:x,tenant:p,type:M,status:ye,dateRange:m,amountRange:k})},[f,x,p,M,m,k,r]),J=N.useCallback(ae=>{const{name:ye,value:Ue}=ae.target,pe={...m,[ye]:Ue};h(pe),r({building:f,apartment:x,tenant:p,type:M,status:A,dateRange:pe,amountRange:k})},[f,x,p,M,A,m,k,r]),W=N.useCallback(ae=>{const{name:ye,value:Ue}=ae.target,pe={...k,[ye]:Ue};S(pe),r({building:f,apartment:x,tenant:p,type:M,status:A,dateRange:m,amountRange:pe})},[f,x,p,M,A,m,k,r]),ie=()=>{b(""),g(""),C(""),R(""),j(""),h({from:"",to:""}),S({min:"",max:""}),r({building:"",apartment:"",tenant:"",type:"",status:"",dateRange:{from:"",to:""},amountRange:{min:"",max:""}})};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Filter Transactions"}),e.jsx("button",{onClick:ie,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Reset Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"building",className:"block text-sm font-medium text-gray-700 mb-1",children:"Building"}),e.jsxs("select",{id:"building",value:f,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Buildings"}),l.map(ae=>e.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"apartment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apartment"}),e.jsxs("select",{id:"apartment",value:x,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!f,children:[e.jsx("option",{value:"",children:"All Apartments"}),_.map(ae=>e.jsx("option",{value:ae.id,children:ae.number},ae.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tenant",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant"}),e.jsxs("select",{id:"tenant",value:p,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Tenants"}),i.map(ae=>e.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Type"}),e.jsxs("select",{id:"type",value:M,onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),u.map(ae=>e.jsx("option",{value:ae,children:ae},ae))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",value:A,onChange:$,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Failed",children:"Failed"})]})]}),e.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),e.jsx("input",{type:"date",id:"from",name:"from",value:m.from,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),e.jsx("input",{type:"date",id:"to",name:"to",value:m.to,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"min",className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Amount (SAR)"}),e.jsx("input",{type:"number",id:"min",name:"min",value:k.min,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Min amount",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"max",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Amount (SAR)"}),e.jsx("input",{type:"number",id:"max",name:"max",value:k.max,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Max amount",min:"0"})]})]})]})]})},cy=({transactions:r,onEdit:l,onDelete:o})=>{const i=m=>{const h=m.replace(/[^0-9.]/g,"");return`SAR ${parseFloat(h).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},u=m=>{const h={year:"numeric",month:"short",day:"numeric"};return new Date(m).toLocaleDateString("en-US",h)};return e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Building"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Apartment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u(m.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.building}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.apartment}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.tenant})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i(m.amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.status==="Completed"?"bg-green-100 text-green-800":m.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",onClick:()=>l(m),children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>o(m.id),children:"Delete"})]})]},m.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"px-6 py-4 text-center text-gray-500",children:"No transactions found matching your filters."})})})]})})})},oy=({isOpen:r,onClose:l,onSave:o,transaction:i=null,buildings:u,apartments:m,tenants:h})=>{const[f,b]=N.useState({date:"",buildingId:"",apartmentId:"",tenantId:"",type:"Rent Payment",amount:"",paymentMethod:"Bank Transfer",status:"Completed",notes:""}),[x,g]=N.useState([]),[p,C]=N.useState({});N.useEffect(()=>{if(i&&(b({date:i.date||"",buildingId:i.buildingId||"",apartmentId:i.apartmentId||"",tenantId:i.tenantId||"",type:i.type||"Rent Payment",amount:i.amount?i.amount.replace(/[^0-9.]/g,""):"",paymentMethod:i.paymentMethod||"Bank Transfer",status:i.status||"Completed",notes:i.notes||""}),i.buildingId)){const j=m.filter(k=>k.buildingId===parseInt(i.buildingId));g(j)}},[i,m]);const M=j=>{const{name:k,value:S}=j.target;if(k==="buildingId")if(b({...f,[k]:S,apartmentId:""}),S){const _=m.filter(E=>E.buildingId===parseInt(S));g(_)}else g([]);else b({...f,[k]:S});p[k]&&C({...p,[k]:null})},R=()=>{const j={};return f.date||(j.date="Date is required"),f.buildingId||(j.buildingId="Building is required"),f.apartmentId||(j.apartmentId="Apartment is required"),f.tenantId||(j.tenantId="Tenant is required"),f.amount||(j.amount="Amount is required"),isNaN(parseFloat(f.amount))&&(j.amount="Amount must be a number"),C(j),Object.keys(j).length===0},A=j=>{var k,S,_;if(j.preventDefault(),R()){const E={...f,id:i?i.id:Date.now(),building:((k=u.find(v=>v.id===parseInt(f.buildingId)))==null?void 0:k.name)||"",apartment:((S=m.find(v=>v.id===parseInt(f.apartmentId)))==null?void 0:S.number)||"",tenant:((_=h.find(v=>v.id===parseInt(f.tenantId)))==null?void 0:_.name)||"",amount:`SAR ${parseFloat(f.amount).toFixed(2)}`};o(E),l()}};return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i?"Edit Transaction":"Add New Transaction"}),e.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"date",name:"date",value:f.date,onChange:M,className:`w-full px-3 py-2 border ${p.date?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),p.date&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:p.date})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"buildingId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Building ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"buildingId",name:"buildingId",value:f.buildingId,onChange:M,className:`w-full px-3 py-2 border ${p.buildingId?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[e.jsx("option",{value:"",children:"Select Building"}),u.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]}),p.buildingId&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:p.buildingId})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"apartmentId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Apartment ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"apartmentId",name:"apartmentId",value:f.apartmentId,onChange:M,disabled:!f.buildingId,className:`w-full px-3 py-2 border ${p.apartmentId?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.buildingId?"":"bg-gray-100"}`,children:[e.jsx("option",{value:"",children:"Select Apartment"}),x.map(j=>e.jsx("option",{value:j.id,children:j.number},j.id))]}),p.apartmentId&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:p.apartmentId})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tenantId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tenant ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"tenantId",name:"tenantId",value:f.tenantId,onChange:M,className:`w-full px-3 py-2 border ${p.tenantId?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[e.jsx("option",{value:"",children:"Select Tenant"}),h.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]}),p.tenantId&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:p.tenantId})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Type"}),e.jsxs("select",{id:"type",name:"type",value:f.type,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Rent Payment",children:"Rent Payment"}),e.jsx("option",{value:"Security Deposit",children:"Security Deposit"}),e.jsx("option",{value:"Maintenance Fee",children:"Maintenance Fee"}),e.jsx("option",{value:"Utility Payment",children:"Utility Payment"}),e.jsx("option",{value:"Late Fee",children:"Late Fee"}),e.jsx("option",{value:"Refund",children:"Refund"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount (SAR) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"SAR"})}),e.jsx("input",{type:"text",id:"amount",name:"amount",value:f.amount,onChange:M,className:`w-full pl-12 px-3 py-2 border ${p.amount?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"0.00"})]}),p.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:p.amount})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{id:"paymentMethod",name:"paymentMethod",value:f.paymentMethod,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Credit Card",children:"Credit Card"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Check",children:"Check"}),e.jsx("option",{value:"Digital Wallet",children:"Digital Wallet"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",name:"status",value:f.status,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Failed",children:"Failed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{id:"notes",name:"notes",value:f.notes,onChange:M,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any additional notes here..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:i?"Update":"Save"})]})]})]})}):null},dy=({transactions:r,filters:l})=>{const o=N.useMemo(()=>{const h=r.map(g=>{const p=g.amount.replace(/[^0-9.]/g,"");return parseFloat(p)}).reduce((g,p)=>g+p,0),f={Completed:r.filter(g=>g.status==="Completed").length,Pending:r.filter(g=>g.status==="Pending").length,Failed:r.filter(g=>g.status==="Failed").length},b={};r.forEach(g=>{b[g.type]=(b[g.type]||0)+1});const x={};return r.forEach(g=>{const p=parseFloat(g.amount.replace(/[^0-9.]/g,""));x[g.type]=(x[g.type]||0)+p}),{total:h,count:r.length,statusCounts:f,typeCounts:b,totalsByType:x}},[r]),i=m=>`SAR ${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,u=()=>l.tenant?"Tenant Transaction Summary":l.apartment?"Apartment Transaction Summary":l.building?"Building Transaction Summary":"Overall Transaction Summary";return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:u()}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800",children:i(o.total)})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:o.count})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Status Breakdown"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-green-500 mr-1"}),e.jsxs("span",{className:"text-sm",children:["Completed: ",o.statusCounts.Completed]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-yellow-500 mr-1"}),e.jsxs("span",{className:"text-sm",children:["Pending: ",o.statusCounts.Pending]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-red-500 mr-1"}),e.jsxs("span",{className:"text-sm",children:["Failed: ",o.statusCounts.Failed]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Transaction Types"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(o.totalsByType).map(([m,h])=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:m}),e.jsxs("p",{className:"text-sm text-gray-500",children:[o.typeCounts[m]," transactions"]})]}),e.jsx("p",{className:"font-bold text-blue-600",children:i(h)})]},m))})]})]})},uy=()=>{const[r,l]=N.useState([{id:1,name:"Al Faisaliah Residences"},{id:2,name:"Kingdom Tower Apartments"},{id:3,name:"Red Sea Residence"}]),[o,i]=N.useState([{id:101,number:"A-101",buildingId:1},{id:102,number:"A-102",buildingId:1},{id:103,number:"A-201",buildingId:1},{id:201,number:"B-101",buildingId:2},{id:202,number:"B-102",buildingId:2},{id:301,number:"C-101",buildingId:3}]),[u,m]=N.useState([{id:1,name:"Mohammed Al-Saud",apartmentId:101},{id:2,name:"Sarah Al-Qahtani",apartmentId:102},{id:3,name:"Ahmed Al-Ghamdi",apartmentId:201},{id:4,name:"Fatima Al-Otaibi",apartmentId:301}]),[h,f]=N.useState([{id:1,date:"2023-04-01",buildingId:"1",building:"Al Faisaliah Residences",apartmentId:"101",apartment:"A-101",tenantId:"1",tenant:"Mohammed Al-Saud",type:"Rent Payment",amount:"SAR 12,500.00",paymentMethod:"Bank Transfer",status:"Completed",notes:"Monthly rent for April 2023"},{id:2,date:"2023-04-05",buildingId:"1",building:"Al Faisaliah Residences",apartmentId:"102",apartment:"A-102",tenantId:"2",tenant:"Sarah Al-Qahtani",type:"Security Deposit",amount:"SAR 15,000.00",paymentMethod:"Credit Card",status:"Completed",notes:"Refundable security deposit"},{id:3,date:"2023-04-10",buildingId:"2",building:"Kingdom Tower Apartments",apartmentId:"201",apartment:"B-101",tenantId:"3",tenant:"Ahmed Al-Ghamdi",type:"Maintenance Fee",amount:"SAR 500.00",paymentMethod:"Cash",status:"Pending",notes:"Plumbing repair"},{id:4,date:"2023-04-15",buildingId:"3",building:"Red Sea Residence",apartmentId:"301",apartment:"C-101",tenantId:"4",tenant:"Fatima Al-Otaibi",type:"Rent Payment",amount:"SAR 9,800.00",paymentMethod:"Bank Transfer",status:"Completed",notes:"Monthly rent for April 2023"},{id:5,date:"2023-04-20",buildingId:"2",building:"Kingdom Tower Apartments",apartmentId:"201",apartment:"B-101",tenantId:"3",tenant:"Ahmed Al-Ghamdi",type:"Utility Payment",amount:"SAR 750.00",paymentMethod:"Credit Card",status:"Completed",notes:"Electricity and water bill"},{id:6,date:"2023-04-25",buildingId:"1",building:"Al Faisaliah Residences",apartmentId:"101",apartment:"A-101",tenantId:"1",tenant:"Mohammed Al-Saud",type:"Late Fee",amount:"SAR 250.00",paymentMethod:"Cash",status:"Pending",notes:"Late payment fee for April rent"}]),[b,x]=N.useState([]),[g,p]=N.useState(!1),[C,M]=N.useState(null),[R,A]=N.useState({building:"",apartment:"",tenant:"",type:"",status:"",dateRange:{from:"",to:""},amountRange:{min:"",max:""}}),j=["Rent Payment","Security Deposit","Maintenance Fee","Utility Payment","Late Fee","Refund"];N.useEffect(()=>{let v=[...h];R.building&&(v=v.filter(H=>H.buildingId===R.building)),R.apartment&&(v=v.filter(H=>H.apartmentId===R.apartment)),R.tenant&&(v=v.filter(H=>H.tenantId===R.tenant)),R.type&&(v=v.filter(H=>H.type===R.type)),R.status&&(v=v.filter(H=>H.status===R.status)),R.dateRange.from&&(v=v.filter(H=>new Date(H.date)>=new Date(R.dateRange.from))),R.dateRange.to&&(v=v.filter(H=>new Date(H.date)<=new Date(R.dateRange.to))),R.amountRange.min&&(v=v.filter(H=>parseFloat(H.amount.replace(/[^0-9.]/g,""))>=parseFloat(R.amountRange.min))),R.amountRange.max&&(v=v.filter(H=>parseFloat(H.amount.replace(/[^0-9.]/g,""))<=parseFloat(R.amountRange.max))),x(v)},[h,R]);const k=v=>{A(v)},S=v=>{M(v),p(!0)},_=v=>{window.confirm("Are you sure you want to delete this transaction?")&&f(h.filter(H=>H.id!==v))},E=v=>{f(C?h.map(H=>H.id===v.id?v:H):[...h,v]),M(null)};return e.jsxs("div",{className:" mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Financial Transactions"}),e.jsxs("button",{onClick:()=>{M(null),p(!0)},className:"bg-teal-600 hover:from-blue-700 hover:to-indigo-800 text-white font-medium py-2 px-6 rounded-md shadow-md transition-all duration-200 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add New Transaction"]})]}),e.jsx(iy,{onFilterChange:k,buildings:r,apartments:o,tenants:u,transactionTypes:j}),b.length>0&&e.jsx(dy,{transactions:b,filters:R}),e.jsx(cy,{transactions:b,onEdit:S,onDelete:_}),e.jsx(oy,{isOpen:g,onClose:()=>p(!1),onSave:E,transaction:C,buildings:r,apartments:o,tenants:u})]})},my=({activeType:r,onTypeChange:l})=>e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{className:`flex items-center px-6 py-3 rounded-t-lg transition-colors ${r==="buildings"?"bg-white text-blue-600 border-t-2 border-blue-600 shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>l("buildings"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("span",{className:"font-medium",children:"Buildings & Apartments"})]}),e.jsxs("button",{className:`flex items-center px-6 py-3 rounded-t-lg transition-colors ${r==="villas"?"bg-white text-blue-600 border-t-2 border-blue-600 shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>l("villas"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("span",{className:"font-medium",children:"Luxury Villas"})]})]})}),bx=({title:r,videoUrl:l,onClose:o,details:i})=>{const[u,m]=N.useState(!0),h=N.useRef(null),f=()=>{if(m(!u),h.current){const b=h.current,x=b.src,g=u?x.replace("mute=1","mute=0"):x.replace("mute=0","mute=1");b.src=g}};return N.useEffect(()=>{if(h.current){const b=h.current,x=l.split("?")[0],g=l.split("?")[1]||"";b.src=`${x}?${g}&rel=0&t=${new Date().getTime()}`}},[l]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden w-full max-w-4xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-4 py-3 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:f,className:"text-white hover:text-gray-200 focus:outline-none",title:u?"Unmute":"Mute",children:u?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),e.jsx("button",{onClick:o,className:"text-white hover:text-gray-200 focus:outline-none",title:"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.jsx("div",{className:"p-1 bg-gray-100",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9",children:e.jsx("iframe",{ref:h,src:l,title:r,className:"w-full h-full border-0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e.jsxs("div",{className:"p-4 bg-white",children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Property Details"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:i.map((b,x)=>e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:b.label}),e.jsx("p",{className:"font-medium",children:b.value})]},x))})]})]})})},hy=()=>{const[r,l]=N.useState([]),[o,i]=N.useState(null),[u,m]=N.useState([]),[h,f]=N.useState(null),[b,x]=N.useState([]),[g,p]=N.useState(null),[C,M]=N.useState(!1),R=[{id:1,name:"Al Faisaliah Residences",address:"King Fahd Road, Riyadh",image:yx},{id:2,name:"Kingdom Tower Apartments",address:"Al Olaya District, Riyadh",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"},{id:3,name:"Red Sea Residence",address:"Corniche Road, Jeddah",image:"https://images.unsplash.com/photo-1574958269340-fa927503f3dd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"}],A=v=>{const H=v===1?25:v===2?18:12,q=[];for(let $=1;$<=H;$++)q.push({id:$,number:$,buildingId:v});return q},j=(v,H)=>{const q=Math.floor(Math.random()*3)+4,$=[];for(let J=1;J<=q;J++){const W=`${H}${String(J).padStart(2,"0")}`,ie=Math.floor(Math.random()*3)+1,ae=Math.random()>.3?"Occupied":"Vacant";$.push({id:parseInt(`${v}${H}${J}`),number:W,bedrooms:ie,bathrooms:ie,area:`${ie*500+Math.floor(Math.random()*300)} sq ft`,status:ae,videoUrl:"https://www.youtube.com/embed/B4o8PvcqHC4?autoplay=1&mute=1&rel=0&modestbranding=1&controls=1&showinfo=0&loop=1&playlist=B4o8PvcqHC4"})}return $};N.useEffect(()=>{l(R)},[]);const k=v=>{i(v),f(null),p(null),M(!1);const H=A(v.id);m(H)},S=v=>{f(v),p(null),M(!1);const H=j(o.id,v.number);x(H)},_=v=>{p(v),M(!0)},E=()=>{M(!1)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Select a Building"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transform transition-transform duration-300 hover:scale-105 ${(o==null?void 0:o.id)===v.id?"ring-2 ring-blue-500":""}`,onClick:()=>k(v),children:[e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:v.name}),e.jsx("p",{className:"text-gray-600",children:v.address})]})]},v.id))})]}),o&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:["Select a Floor in ",o.name]}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:u.map(v=>e.jsxs("button",{className:`px-4 py-2 rounded-md transition-colors ${(h==null?void 0:h.id)===v.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>S(v),children:["Floor ",v.number]},v.id))})]}),h&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:["Select an Apartment on Floor ",h.number]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(v=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow ${(g==null?void 0:g.id)===v.id?"ring-2 ring-blue-500":""}`,onClick:()=>_(v),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Apartment ",v.number]}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${v.status==="Occupied"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:v.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[v.bedrooms," Bed | ",v.bathrooms," Bath"]}),e.jsx("p",{children:v.area})]}),e.jsx("div",{className:"mt-3 flex justify-center",children:e.jsxs("button",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"View Virtual Tour"]})})]},v.id))})]}),C&&g&&e.jsx(bx,{title:`Virtual Tour - Apartment ${g.number}`,videoUrl:g.videoUrl,onClose:E,details:[{label:"Apartment Number",value:g.number},{label:"Size",value:g.area},{label:"Bedrooms",value:g.bedrooms},{label:"Bathrooms",value:g.bathrooms}]})]})},xy=()=>{const[r,l]=N.useState([]),[o,i]=N.useState(null),[u,m]=N.useState(!1),[h,f]=N.useState("All"),b=[{id:1,title:"Luxury Desert Oasis Villa",location:"Riyadh",address:"King Fahd Road, Al Riyadh",price:"SAR 12,500,000",bedrooms:6,bathrooms:7,area:"850 sq m",yearBuilt:2021,features:["Private Pool","Garden","Smart Home","Security System"],description:"Magnificent luxury villa with panoramic desert views, featuring modern architecture and premium finishes throughout.",status:"For Sale",videoUrl:"https://www.youtube.com/embed/B4o8PvcqHC4?autoplay=1&mute=1&rel=0&modestbranding=1&controls=1&showinfo=0&loop=1&playlist=B4o8PvcqHC4",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1475&q=80"},{id:2,title:"Modern Waterfront Villa",location:"Jeddah",address:"Jeddah Corniche, Jeddah",price:"SAR 18,900,000",bedrooms:8,bathrooms:10,area:"1200 sq m",yearBuilt:2022,features:["Private Beach","Infinity Pool","Home Theater","Gym","Elevator"],description:"Stunning waterfront villa with direct beach access, featuring contemporary design and luxury amenities for the most discerning buyer.",status:"For Sale",videoUrl:"https://www.youtube.com/embed/B4o8PvcqHC4?autoplay=1&mute=1&rel=0&modestbranding=1&controls=1&showinfo=0&loop=1&playlist=B4o8PvcqHC4",image:"https://images.unsplash.com/photo-1613977257592-4871e5fcd7c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"},{id:3,title:"Traditional Arabian Villa",location:"Eastern Province",address:"Al Khobar, Eastern Province",price:"SAR 8,750,000",bedrooms:5,bathrooms:6,area:"650 sq m",yearBuilt:2019,features:["Private Garden","Majlis","Outdoor Kitchen","Fountain"],description:"Elegant villa combining traditional Arabian architecture with modern comforts, perfect for family living and entertaining.",status:"For Sale",videoUrl:"https://www.youtube.com/embed/B4o8PvcqHC4?autoplay=1&mute=1&rel=0&modestbranding=1&controls=1&showinfo=0&loop=1&playlist=B4o8PvcqHC4",image:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&auto=format&fit=crop&w=1474&q=80"},{id:4,title:"Exclusive Golf Course Villa",location:"KAEC",address:"KAEC, King Abdullah Economic City",price:"SAR 15,200,000",bedrooms:7,bathrooms:8,area:"920 sq m",yearBuilt:2020,features:["Golf Course View","Indoor Pool","Wine Cellar","Smart Home"],description:"Prestigious villa overlooking the championship golf course, offering luxury living with exceptional amenities and privacy.",status:"For Sale",videoUrl:"https://www.youtube.com/embed/B4o8PvcqHC4?autoplay=1&mute=1&rel=0&modestbranding=1&controls=1&showinfo=0&loop=1&playlist=B4o8PvcqHC4",image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"}],x=["All",...new Set(b.map(M=>M.location))];N.useEffect(()=>{l(b)},[]);const g=M=>{i(M),m(!0)},p=()=>{m(!1)},C=h==="All"?r:r.filter(M=>M.location===h);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Filter by Location"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(M=>e.jsx("button",{className:`px-4 py-2 rounded-full transition-colors ${h===M?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>f(M),children:M},M))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:C.map(M=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",onClick:()=>g(M),children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded-full shadow-md",children:M.location})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:M.title}),e.jsxs("p",{className:"text-gray-600 mb-3 flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),M.address]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{className:"flex space-x-3 text-gray-600",children:[e.jsxs("span",{className:"flex items-center",title:"Bedrooms",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),M.bedrooms]}),e.jsxs("span",{className:"flex items-center",title:"Bathrooms",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),M.bathrooms]}),e.jsxs("span",{className:"flex items-center",title:"Area",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),M.area]})]})}),e.jsxs("button",{className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center justify-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"View Virtual Tour"]})]})]},M.id))}),u&&o&&e.jsx(bx,{title:`Virtual Tour - ${o.title}`,videoUrl:o.videoUrl,onClose:p,details:[{label:"Location",value:o.address},{label:"Size",value:o.area},{label:"Bedrooms",value:o.bedrooms},{label:"Bathrooms",value:o.bathrooms},{label:"Year Built",value:o.yearBuilt}]})]})},fy=()=>{const[r,l]=N.useState("buildings");return e.jsxs("div",{className:" mx-auto px-4 py-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Virtual Property Tours"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsx(my,{activeType:r,onTypeChange:l}),e.jsx("div",{className:"p-6",children:r==="buildings"?e.jsx(hy,{}):e.jsx(xy,{})})]})]})},py=({villa:r})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:-translate-y-2 hover:shadow-xl",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded-full shadow-md",children:r.status})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-1",children:r.title}),e.jsxs("p",{className:"text-gray-600 mb-4 flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.location]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.price}),e.jsxs("div",{className:"flex space-x-3 text-gray-600",children:[e.jsxs("span",{className:"flex items-center",title:"Bedrooms",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),r.bedrooms]}),e.jsxs("span",{className:"flex items-center",title:"Bathrooms",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.bathrooms]}),e.jsxs("span",{className:"flex items-center",title:"Area",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),r.area]})]})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.features.slice(0,3).map((l,o)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:l},o)),r.features.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-700 text-xs rounded-full",children:["+",r.features.length-3," more"]})]}),e.jsx(ne,{to:`/admin/villas/${r.id}`,className:"block w-full text-center bg-teal-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-300",children:"View Details"})]})]}),gy=({searchTerm:r,setSearchTerm:l,filterStatus:o,setFilterStatus:i,sortBy:u,setSortBy:m})=>{const h=N.useCallback(f=>{l(f.target.value)},[l]);return e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"search",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search by title or location",value:r,onChange:h})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:o,onChange:N.useCallback(f=>i(f.target.value),[i]),children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"For Sale",children:"For Sale"}),e.jsx("option",{value:"For Rent",children:"For Rent"}),e.jsx("option",{value:"Sold",children:"Sold"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sortBy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{id:"sortBy",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:u,onChange:N.useCallback(f=>m(f.target.value),[m]),children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"priceHigh",children:"Price (High to Low)"}),e.jsx("option",{value:"priceLow",children:"Price (Low to High)"})]})]})]})})},yy=()=>{const[r,l]=N.useState([{id:1,title:"Luxury Desert Oasis Villa",location:"Al Riyadh, Riyadh",price:"SAR 12,500,000",bedrooms:6,bathrooms:7,area:"850 sq m",yearBuilt:2021,features:["Private Pool","Garden","Smart Home","Security System"],description:"Magnificent luxury villa with panoramic desert views, featuring modern architecture and premium finishes throughout.",status:"For Sale",images:["https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1475&q=80","https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]},{id:2,title:"Modern Waterfront Villa",location:"Jeddah Corniche, Jeddah",price:"SAR 18,900,000",bedrooms:8,bathrooms:10,area:"1200 sq m",yearBuilt:2022,features:["Private Beach","Infinity Pool","Home Theater","Gym","Elevator"],description:"Stunning waterfront villa with direct beach access, featuring contemporary design and luxury amenities for the most discerning buyer.",status:"For Sale",images:["https://images.unsplash.com/photo-1613977257592-4871e5fcd7c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1615529162924-f8605388461d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]},{id:3,title:"Traditional Arabian Villa",location:"Al Khobar, Eastern Province",price:"SAR 8,750,000",bedrooms:5,bathrooms:6,area:"650 sq m",yearBuilt:2019,features:["Private Garden","Majlis","Outdoor Kitchen","Fountain"],description:"Elegant villa combining traditional Arabian architecture with modern comforts, perfect for family living and entertaining.",status:"For Sale",images:["https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&auto=format&fit=crop&w=1474&q=80","https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]},{id:4,title:"Exclusive Golf Course Villa",location:"KAEC, King Abdullah Economic City",price:"SAR 15,200,000",bedrooms:7,bathrooms:8,area:"920 sq m",yearBuilt:2020,features:["Golf Course View","Indoor Pool","Wine Cellar","Smart Home"],description:"Prestigious villa overlooking the championship golf course, offering luxury living with exceptional amenities and privacy.",status:"For Sale",images:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]}]),[o,i]=N.useState(""),[u,m]=N.useState("All"),[h,f]=N.useState("newest"),b=r.filter(x=>(u==="All"||x.status===u)&&(x.title.toLowerCase().includes(o.toLowerCase())||x.location.toLowerCase().includes(o.toLowerCase()))).sort((x,g)=>h==="newest"?g.yearBuilt-x.yearBuilt:h==="oldest"?x.yearBuilt-g.yearBuilt:h==="priceHigh"?parseFloat(g.price.replace(/[^0-9.]/g,""))-parseFloat(x.price.replace(/[^0-9.]/g,"")):h==="priceLow"?parseFloat(x.price.replace(/[^0-9.]/g,""))-parseFloat(g.price.replace(/[^0-9.]/g,"")):0);return e.jsxs("div",{className:" mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4 md:mb-0",children:"Luxury Villas"}),e.jsxs(ne,{to:"/admin/villas/add",className:"bg-teal-600 hover:from-blue-700 hover:to-indigo-800 text-white font-medium py-2 px-6 rounded-md shadow-md transition-all duration-200 transform hover:-translate-y-1 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add New Villa"]})]}),e.jsx(gy,{searchTerm:o,setSearchTerm:i,filterStatus:u,setFilterStatus:m,sortBy:h,setSortBy:f}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-10",children:b.map(x=>e.jsx(py,{villa:x},x.id))}),b.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No villas found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]})]})},by=()=>{const{id:r}=gr(),[l,o]=N.useState(null),[i,u]=N.useState(!0),[m,h]=N.useState(0),f=[{id:1,title:"Luxury Desert Oasis Villa",location:"Al Riyadh, Riyadh",price:"SAR 12,500,000",bedrooms:6,bathrooms:7,area:"850 sq m",yearBuilt:2021,features:["Private Pool","Garden","Smart Home","Security System","Marble Flooring","Double Garage"],description:"Magnificent luxury villa with panoramic desert views, featuring modern architecture and premium finishes throughout. This exclusive property offers spacious living areas, a gourmet kitchen, and a private pool surrounded by beautifully landscaped gardens. The smart home system controls lighting, climate, and security for ultimate convenience and peace of mind.",status:"For Sale",images:["https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1475&q=80","https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]},{id:2,title:"Modern Waterfront Villa",location:"Jeddah Corniche, Jeddah",price:"SAR 18,900,000",bedrooms:8,bathrooms:10,area:"1200 sq m",yearBuilt:2022,features:["Private Beach","Infinity Pool","Home Theater","Gym","Elevator","Smart Home"],description:"Stunning waterfront villa with direct beach access, featuring contemporary design and luxury amenities for the most discerning buyer. This exceptional property offers panoramic sea views, spacious living areas, and premium finishes throughout. The infinity pool seems to merge with the horizon, creating a truly magical setting for relaxation and entertainment.",status:"For Sale",images:["https://images.unsplash.com/photo-1613977257592-4871e5fcd7c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1615529162924-f8605388461d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]},{id:3,title:"Traditional Arabian Villa",location:"Al Khobar, Eastern Province",price:"SAR 8,750,000",bedrooms:5,bathrooms:6,area:"650 sq m",yearBuilt:2019,features:["Private Garden","Majlis","Outdoor Kitchen","Fountain","Guest House"],description:"Elegant villa combining traditional Arabian architecture with modern comforts, perfect for family living and entertaining. This beautiful property features authentic design elements including ornate arches, intricate woodwork, and a central courtyard with a fountain. The spacious majlis provides the perfect setting for traditional Saudi hospitality.",status:"For Sale",images:["https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&auto=format&fit=crop&w=1474&q=80","https://images.unsplash.com/photo-1583608205776-bfd35f0d9f83?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]},{id:4,title:"Exclusive Golf Course Villa",location:"KAEC, King Abdullah Economic City",price:"SAR 15,200,000",bedrooms:7,bathrooms:8,area:"920 sq m",yearBuilt:2020,features:["Golf Course View","Indoor Pool","Wine Cellar","Smart Home","Home Office"],description:"Prestigious villa overlooking the championship golf course, offering luxury living with exceptional amenities and privacy. This exclusive property features expansive living spaces, premium finishes, and state-of-the-art technology throughout. The indoor pool and spa area provide year-round relaxation, while the spacious terraces offer stunning views of the manicured golf course.",status:"For Sale",images:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"]}];return N.useEffect(()=>{u(!0),setTimeout(()=>{const b=f.find(x=>x.id===parseInt(r));o(b),u(!1)},500)},[r]),i?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?e.jsxs("div",{className:" mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-6",children:[e.jsx(ne,{to:"/admin/villas",className:"hover:text-blue-600",children:"Villas"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"text-gray-800 font-medium",children:l.title})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsx("img",{src:l.images[m],alt:l.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded-full shadow-md",children:l.status})})]}),e.jsx("div",{className:"flex p-4 space-x-2 bg-gray-100",children:l.images.map((b,x)=>e.jsx("div",{className:`h-20 w-32 cursor-pointer rounded-md overflow-hidden border-2 ${m===x?"border-blue-500":"border-transparent"}`,onClick:()=>h(x),children:e.jsx("img",{src:b,alt:`${l.title} - Image ${x+1}`,className:"w-full h-full object-cover"})},x))}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:l.title}),e.jsxs("p",{className:"text-gray-600 flex items-center mb-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.location]})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l.price})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"}),e.jsx("p",{className:"text-lg font-semibold",children:l.bedrooms})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"}),e.jsx("p",{className:"text-lg font-semibold",children:l.bathrooms})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Area"}),e.jsx("p",{className:"text-lg font-semibold",children:l.area})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Year Built"}),e.jsx("p",{className:"text-lg font-semibold",children:l.yearBuilt})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:l.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.features.map((b,x)=>e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:b},x))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(ne,{to:"/admin/villas",className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Villas"]}),e.jsxs(ne,{to:`/admin/villas/edit/${l.id}`,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Villa"]})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Villa Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The villa you're looking for doesn't exist or has been removed."}),e.jsxs(ne,{to:"/admin/villas",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Villas"]})]})},ur=["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=400","https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400","https://images.unsplash.com/photo-1582407947304-fd86f028f716?w=400","https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=400"],Co=[{id:1,name:"Al-Noor Residential Complex",type:"building",address:"King Fahd Road, Riyadh",total_units:24,occupied_units:20,vacant_units:4,monthly_income:48e3,property_value:24e5,image:ur[0],status:"active",construction_year:2019,amenities:["Parking","Security","Elevator","Garden"],condition:"excellent",last_maintenance:"2024-01-15"},{id:2,name:"Sunset Villa",type:"villa",address:"Al-Malqa District, Riyadh",total_units:1,occupied_units:1,vacant_units:0,monthly_income:8500,property_value:85e4,image:ur[1],status:"active",construction_year:2020,amenities:["Private Pool","Garden","Garage","Maid Room"],condition:"excellent",last_maintenance:"2024-02-01"},{id:3,name:"Golden Plaza Shops",type:"commercial",address:"Olaya Street, Riyadh",total_units:8,occupied_units:6,vacant_units:2,monthly_income:32e3,property_value:16e5,image:ur[2],status:"active",construction_year:2018,amenities:["Central AC","Parking","Security","Loading Dock"],condition:"good",last_maintenance:"2024-01-20"},{id:4,name:"Green Gardens Apartments",type:"building",address:"Al-Wurud District, Riyadh",total_units:16,occupied_units:14,vacant_units:2,monthly_income:28e3,property_value:14e5,image:ur[3],status:"active",construction_year:2021,amenities:["Swimming Pool","Gym","Playground","Security"],condition:"excellent",last_maintenance:"2024-02-10"},{id:5,name:"Heritage Villa",type:"villa",address:"Diplomatic Quarter, Riyadh",total_units:1,occupied_units:0,vacant_units:1,monthly_income:0,property_value:12e5,image:ur[4],status:"maintenance",construction_year:2017,amenities:["Private Pool","Garden","Garage","Guest House"],condition:"under_renovation",last_maintenance:"2024-02-15"}],wh=[{id:1,name:"Mohammed Al-Ahmed",email:"mohammed.ahmed@email.com",phone:"+966 50 123 4567",property_id:1,property_name:"Al-Noor Residential Complex",unit_number:"A-101",lease_start:"2023-06-01",lease_end:"2024-06-01",monthly_rent:2400,deposit:7200,payment_status:"current",last_payment:"2024-02-01",next_payment:"2024-03-01"},{id:2,name:"Sarah Al-Mansouri",email:"sarah.mansouri@email.com",phone:"+966 55 987 6543",property_id:2,property_name:"Sunset Villa",unit_number:"Villa",lease_start:"2023-09-01",lease_end:"2024-09-01",monthly_rent:8500,deposit:25500,payment_status:"current",last_payment:"2024-02-01",next_payment:"2024-03-01"},{id:3,name:"Abdullah Trading Co.",email:"info@abdullahtrading.com",phone:"+966 11 456 7890",property_id:3,property_name:"Golden Plaza Shops",unit_number:"Shop-05",lease_start:"2023-01-01",lease_end:"2025-01-01",monthly_rent:5500,deposit:16500,payment_status:"overdue",last_payment:"2024-01-01",next_payment:"2024-02-01"}],jy={total_portfolio_value:845e4,monthly_income:116500,yearly_income:1398e3,outstanding_payments:5500,occupancy_rate:87.8,properties_count:5,total_units:50,occupied_units:41,vacant_units:9},_h=[{id:1,property_id:1,property_name:"Al-Noor Residential Complex",unit_number:"A-205",tenant_name:"Ahmed Al-Rashid",issue:"Air conditioning not working",priority:"high",status:"in_progress",created_date:"2024-02-18",assigned_to:"AC Repair Services",estimated_cost:450},{id:2,property_id:4,property_name:"Green Gardens Apartments",unit_number:"B-102",tenant_name:"Fatima Al-Zahra",issue:"Kitchen sink leaking",priority:"medium",status:"pending",created_date:"2024-02-19",assigned_to:null,estimated_cost:200}],Sh=[{id:1,property_id:1,property_name:"Al-Noor Residential Complex",tenant_name:"Mohammed Al-Ahmed",subject:"Noise complaint from neighboring unit",description:"Loud music during late hours from unit A-102",priority:"medium",status:"resolved",created_date:"2024-02-10",resolved_date:"2024-02-15"},{id:2,property_id:3,property_name:"Golden Plaza Shops",tenant_name:"Abdullah Trading Co.",subject:"Parking space issue",description:"Assigned parking space is being used by others",priority:"low",status:"open",created_date:"2024-02-17",resolved_date:null}],Et={async getOwnerProperties(r=2){return await new Promise(l=>setTimeout(l,500)),{success:!0,data:Co,total:Co.length}},async getOwnerTenants(r=2){return await new Promise(l=>setTimeout(l,400)),{success:!0,data:wh,total:wh.length}},async getFinancialOverview(r=2){return await new Promise(l=>setTimeout(l,300)),{success:!0,data:jy}},async getMaintenanceRequests(r=2){return await new Promise(l=>setTimeout(l,350)),{success:!0,data:_h,total:_h.length}},async getComplaints(r=2){return await new Promise(l=>setTimeout(l,300)),{success:!0,data:Sh,total:Sh.length}},async getPropertyDetails(r){return await new Promise(o=>setTimeout(o,400)),{success:!0,data:Co.find(o=>o.id===parseInt(r))||null}}},vy=({financial:r,properties:l,loading:o=!1})=>{var h,f,b,x;const i=[{title:"Total Portfolio Value",value:r?`SAR ${(h=r.total_portfolio_value)==null?void 0:h.toLocaleString()}`:"SAR 0",icon:"portfolio",color:"teal",change:"+12.5%",changeType:"increase",description:"vs last quarter"},{title:"Monthly Income",value:r?`SAR ${(f=r.monthly_income)==null?void 0:f.toLocaleString()}`:"SAR 0",icon:"income",color:"emerald",change:"+8.2%",changeType:"increase",description:"vs last month"},{title:"Properties",value:(r==null?void 0:r.properties_count)||(l==null?void 0:l.length)||0,icon:"building",color:"indigo",subValue:`${(r==null?void 0:r.total_units)||0} total units`,description:"across all properties"},{title:"Occupancy Rate",value:r?`${(b=r.occupancy_rate)==null?void 0:b.toFixed(1)}%`:"0%",icon:"occupancy",color:"purple",change:"+2.1%",changeType:"increase",description:"vs last month"},{title:"Outstanding Payments",value:r?`SAR ${(x=r.outstanding_payments)==null?void 0:x.toLocaleString()}`:"SAR 0",icon:"warning",color:(r==null?void 0:r.outstanding_payments)>0?"amber":"emerald",urgent:(r==null?void 0:r.outstanding_payments)>0,description:"requires attention"}],u=(g,p)=>{const C={className:`h-6 w-6 ${p.text}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};switch(g){case"portfolio":return e.jsx("svg",{...C,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"income":return e.jsx("svg",{...C,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"building":return e.jsx("svg",{...C,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"occupancy":return e.jsx("svg",{...C,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})});case"warning":return e.jsx("svg",{...C,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});default:return e.jsx("svg",{...C,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}},m=g=>{const p={teal:{bg:"bg-teal-50",text:"text-teal-600",border:"border-teal-200",accent:"bg-teal-500"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200",accent:"bg-emerald-500"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200",accent:"bg-indigo-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200",accent:"bg-purple-500"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200",accent:"bg-amber-500"}};return p[g]||p.teal};return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:i.map((g,p)=>{const C=m(g.color);return e.jsx(B,{variant:"default",className:`h-full transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${g.urgent?"ring-2 ring-amber-200":""}`,loading:o,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`h-1 ${C.accent} w-full absolute -top-6 left-0 right-0`}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:g.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2 truncate",children:o?e.jsx("span",{className:"inline-block h-8 w-20 bg-gray-200 rounded animate-pulse"}):g.value}),g.subValue&&!o&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:g.subValue})}),g.change&&!o&&e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsxs("span",{className:`text-sm font-medium ${g.changeType==="increase"?"text-emerald-600":"text-red-600"}`,children:[g.changeType==="increase"?"":""," ",g.change]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:g.description})]}),!g.change&&!g.subValue&&g.description&&!o&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-sm text-gray-500",children:g.description})})]}),e.jsx("div",{className:`${C.bg} ${C.border} border p-3 rounded-xl ml-4 flex-shrink-0`,children:o?e.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded animate-pulse"}):u(g.icon,C)})]}),g.urgent&&!o&&e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsx("div",{className:"w-4 h-4 bg-amber-500 rounded-full animate-pulse"})})]})},p)})})},Ny=({properties:r=[],loading:l=!1})=>{const o=m=>{switch(m){case"active":return"bg-emerald-100 text-emerald-800";case"maintenance":return"bg-amber-100 text-amber-800";case"vacant":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=m=>{switch(m){case"building":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"villa":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"commercial":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});default:return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}},u=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gray-200 animate-pulse"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-3/4"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/4"})]})]})]});return e.jsxs(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Portfolio"}),e.jsx(ne,{to:"/owner/properties",children:e.jsx(O,{variant:"secondary",size:"sm",children:"View All Properties "})})]}),className:"h-fit",children:[l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((m,h)=>e.jsx(u,{},h))}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't added any properties yet."}),e.jsx(O,{variant:"primary",children:"Add Your First Property"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.slice(0,4).map(m=>{var h,f;return e.jsx(ne,{to:`/owner/properties/${m.id}`,className:"group block",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg hover:border-teal-300 transition-all duration-200",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:b=>{b.target.src="https://via.placeholder.com/400x300?text=Property+Image"}}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:"bg-white bg-opacity-90 p-2 rounded-full",children:i(m.type)})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-teal-600 transition-colors",children:m.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.address}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Units:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900",children:[m.occupied_units,"/",m.total_units]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Income:"}),e.jsxs("span",{className:"ml-1 font-medium text-emerald-600",children:["SAR ",(h=m.monthly_income)==null?void 0:h.toLocaleString()]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Occupancy"}),e.jsxs("span",{children:[Math.round(m.occupied_units/m.total_units*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-teal-500 h-2 rounded-full transition-all duration-300",style:{width:`${m.occupied_units/m.total_units*100}%`}})})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Property Value"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["SAR ",(f=m.property_value)==null?void 0:f.toLocaleString()]})]})})]})]})},m.id)})}),r.length>4&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx(ne,{to:"/owner/properties",children:e.jsxs(O,{variant:"ghost",className:"text-teal-600 hover:text-teal-700",children:["View ",r.length-4," more properties "]})})})]})},wy=({tenants:r=[],loading:l=!1})=>{const o=m=>{switch(m){case"current":return"bg-emerald-100 text-emerald-800";case"overdue":return"bg-red-100 text-red-800";case"pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},i=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),u=[{key:"tenant_info",title:"Tenant",render:(m,h)=>{var f,b;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-700",children:(b=(f=h.name)==null?void 0:f.charAt(0))==null?void 0:b.toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),e.jsx("div",{className:"text-sm text-gray-500",children:h.email})]})]})}},{key:"property_info",title:"Property",render:(m,h)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.property_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Unit: ",h.unit_number]})]})},{key:"lease_info",title:"Lease",render:(m,h)=>{var f;return e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[i(h.lease_start)," - ",i(h.lease_end)]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SAR ",(f=h.monthly_rent)==null?void 0:f.toLocaleString(),"/month"]})]})}},{key:"payment_status",title:"Payment Status",render:(m,h)=>{var f,b;return e.jsxs("div",{children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(h.payment_status)}`,children:((f=h.payment_status)==null?void 0:f.charAt(0).toUpperCase())+((b=h.payment_status)==null?void 0:b.slice(1))}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Next: ",i(h.next_payment)]})]})}},{key:"actions",title:"Actions",render:(m,h)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(ne,{to:`/owner/tenants/${h.id}`,className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx(ne,{to:`/owner/tenants/${h.id}/contact`,className:"text-gray-600 hover:text-gray-700 text-sm font-medium",children:"Contact"})]})}];return e.jsxs(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Tenants"}),e.jsx(ne,{to:"/owner/tenants",children:e.jsx(O,{variant:"secondary",size:"sm",children:"View All Tenants "})})]}),className:"h-fit",children:[l?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((m,h)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-16"})]})]},h))}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"You don't have any tenants yet."}),e.jsx(O,{variant:"primary",children:"Add First Tenant"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Xa,{columns:u,data:r,loading:l,variant:"default",size:"default",emptyMessage:"No tenants found"})}),!l&&r.length>0&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Tenants"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:r.filter(m=>m.payment_status==="current").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Current Payments"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.filter(m=>m.payment_status==="overdue").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Overdue Payments"})]})]})}),!l&&r.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(ne,{to:"/owner/tenants/add",className:"flex items-center justify-center p-3 text-sm text-teal-600 hover:text-teal-700 hover:bg-teal-50 border border-teal-200 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Tenant"]}),e.jsxs(ne,{to:"/owner/billing/generate",className:"flex items-center justify-center p-3 text-sm text-gray-600 hover:text-gray-700 hover:bg-gray-50 border border-gray-200 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate Bills"]})]})]})]})},_y=({financial:r,loading:l=!1})=>{const o=new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"}),i=[{label:"Monthly Income",value:(r==null?void 0:r.monthly_income)||0,format:"currency",icon:"income",color:"text-emerald-600",bgColor:"bg-emerald-50"},{label:"Yearly Income",value:(r==null?void 0:r.yearly_income)||0,format:"currency",icon:"yearly",color:"text-blue-600",bgColor:"bg-blue-50"},{label:"Outstanding Payments",value:(r==null?void 0:r.outstanding_payments)||0,format:"currency",icon:"warning",color:(r==null?void 0:r.outstanding_payments)>0?"text-amber-600":"text-emerald-600",bgColor:(r==null?void 0:r.outstanding_payments)>0?"bg-amber-50":"bg-emerald-50",urgent:(r==null?void 0:r.outstanding_payments)>0},{label:"Occupancy Rate",value:(r==null?void 0:r.occupancy_rate)||0,format:"percentage",icon:"occupancy",color:"text-purple-600",bgColor:"bg-purple-50"}],u=(h,f)=>{switch(f){case"currency":return`SAR ${h.toLocaleString()}`;case"percentage":return`${h.toFixed(1)}%`;default:return h.toLocaleString()}},m=(h,f)=>{const b={className:`h-5 w-5 ${f}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};switch(h){case"income":return e.jsx("svg",{...b,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"yearly":return e.jsx("svg",{...b,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"warning":return e.jsx("svg",{...b,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"occupancy":return e.jsx("svg",{...b,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})});default:return e.jsx("svg",{...b,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}};return e.jsx(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Financial Summary"}),e.jsx(ne,{to:"/owner/financial",children:e.jsx(O,{variant:"secondary",size:"sm",children:"View Details "})})]}),className:"h-fit",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:o}),e.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:l?e.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse mx-auto"}):u((r==null?void 0:r.monthly_income)||0,"currency")}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Monthly Income"})]}),e.jsx("div",{className:"space-y-4",children:i.map((h,f)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${h.bgColor} ${h.urgent?"ring-2 ring-amber-200":""}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-white ${h.urgent?"animate-pulse":""}`,children:l?e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded animate-pulse"}):m(h.icon,h.color)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.label}),h.urgent&&e.jsx("p",{className:"text-xs text-amber-600",children:"Requires attention"})]})]}),e.jsx("div",{className:"text-right",children:l?e.jsx("div",{className:"h-5 w-16 bg-gray-300 rounded animate-pulse"}):e.jsx("span",{className:`font-semibold ${h.color}`,children:u(h.value,h.format)})})]},f))}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ne,{to:"/owner/billing",className:"flex items-center justify-between p-2 text-sm text-gray-600 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",children:[e.jsx("span",{children:"Generate Billing Report"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs(ne,{to:"/owner/payments",className:"flex items-center justify-between p-2 text-sm text-gray-600 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",children:[e.jsx("span",{children:"Track Payments"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(r==null?void 0:r.outstanding_payments)>0&&e.jsxs(ne,{to:"/owner/overdue",className:"flex items-center justify-between p-2 text-sm text-amber-600 hover:text-amber-700 hover:bg-amber-50 rounded-lg transition-colors",children:[e.jsx("span",{children:"View Overdue Payments"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full mr-2 animate-pulse"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),!l&&r&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Portfolio Performance"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-emerald-600 font-medium",children:"+8.2%"}),e.jsx("svg",{className:"w-4 h-4 text-emerald-600 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})})]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-500 h-2 rounded-full",style:{width:"78%"}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"vs last quarter"})]})]})})},Sy=({maintenance:r=[],complaints:l=[],loading:o=!1})=>{const i=g=>{switch(g){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-amber-100 text-amber-800 border-amber-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},u=g=>{switch(g){case"completed":case"resolved":return"bg-emerald-100 text-emerald-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":case"open":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},m=g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"}),f=[...r.map(g=>({...g,type:"maintenance"})),...l.map(g=>({...g,type:"complaint"}))].sort((g,p)=>new Date(p.created_date)-new Date(g.created_date)).slice(0,5),b={total_maintenance:r.length,pending_maintenance:r.filter(g=>g.status==="pending").length,in_progress_maintenance:r.filter(g=>g.status==="in_progress").length,total_complaints:l.length,open_complaints:l.filter(g=>g.status==="open").length,resolved_complaints:l.filter(g=>g.status==="resolved").length},x=()=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-1/3"}),e.jsx("div",{className:"h-5 w-16 bg-gray-200 rounded-full animate-pulse"})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/4"})]});return e.jsxs(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Maintenance & Complaints"}),e.jsx(ne,{to:"/owner/maintenance",children:e.jsx(O,{variant:"secondary",size:"sm",children:"View All "})})]}),className:"h-fit",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Maintenance"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:o?e.jsx("div",{className:"h-6 w-8 bg-blue-200 rounded animate-pulse"}):b.total_maintenance})]}),e.jsx("div",{className:"text-blue-600",children:e.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),!o&&e.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[b.pending_maintenance," pending,"," ",b.in_progress_maintenance," in progress"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Complaints"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:o?e.jsx("div",{className:"h-6 w-8 bg-purple-200 rounded animate-pulse"}):b.total_complaints})]}),e.jsx("div",{className:"text-purple-600",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12V9a4 4 0 118 0m-4 8a4 4 0 01-4-4V9a4 4 0 118 0v3m-4 8c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"})})})]}),!o&&e.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:[b.open_complaints," open, ",b.resolved_complaints," resolved"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Recent Activity"}),o?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((g,p)=>e.jsx(x,{},p))}):f.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-500",children:"No maintenance requests or complaints"})]}):e.jsx("div",{className:"space-y-3",children:f.map((g,p)=>e.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition-shadow ${g.priority==="high"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.type==="maintenance"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:g.type==="maintenance"?"Maintenance":"Complaint"}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${i(g.priority)}`,children:[g.priority," priority"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(g.status)}`,children:g.status.replace("_"," ")})]}),e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:g.issue||g.subject}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsxs("p",{children:[g.property_name," - ",g.unit_number]}),g.tenant_name&&e.jsxs("p",{children:["Tenant: ",g.tenant_name]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsx("span",{children:m(g.created_date)}),g.estimated_cost&&e.jsxs("span",{className:"font-medium text-gray-700",children:["Est. Cost: SAR ",g.estimated_cost]})]})]},`${g.type}-${g.id}`))})]}),!o&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(ne,{to:"/owner/maintenance/new",className:"flex items-center justify-center p-3 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 border border-blue-200 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Request"]}),e.jsxs(ne,{to:"/owner/maintenance/vendors",className:"flex items-center justify-center p-3 text-sm text-gray-600 hover:text-gray-700 hover:bg-gray-50 border border-gray-200 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Manage Vendors"]})]})]})]})},ky=()=>{const{user:r}=Be(),[l,o]=N.useState({properties:[],tenants:[],financial:null,maintenance:[],complaints:[]}),[i,u]=N.useState(!0),[m,h]=N.useState(null);N.useEffect(()=>{f()},[]);const f=async()=>{try{u(!0),h(null);const[b,x,g,p,C]=await Promise.all([Et.getOwnerProperties(r==null?void 0:r.id),Et.getOwnerTenants(r==null?void 0:r.id),Et.getFinancialOverview(r==null?void 0:r.id),Et.getMaintenanceRequests(r==null?void 0:r.id),Et.getComplaints(r==null?void 0:r.id)]);o({properties:b.data||[],tenants:x.data||[],financial:g.data||null,maintenance:p.data||[],complaints:C.data||[]})}catch(b){console.error("Error loading dashboard data:",b),h("Failed to load dashboard data. Please try again.")}finally{u(!1)}};return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:f,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r==null?void 0:r.first_name,"!"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Here's an overview of your property portfolio and recent activities."})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})}),e.jsx(O,{onClick:f,variant:"secondary",size:"sm",loading:i,children:"Refresh"})]})]}),e.jsx(vy,{financial:l.financial,properties:l.properties,loading:i}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ny,{properties:l.properties,loading:i})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(_y,{financial:l.financial,loading:i})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(wy,{tenants:l.tenants.slice(0,5),loading:i}),e.jsx(Sy,{maintenance:l.maintenance,complaints:l.complaints,loading:i})]}),e.jsx(B,{header:"Quick Actions",className:"bg-gradient-to-r from-teal-50 to-blue-50",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(ne,{to:"/owner/properties",className:"group",children:e.jsxs("div",{className:"text-center p-4 rounded-lg border border-gray-200 hover:border-teal-300 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-teal-600 group-hover:text-teal-700",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-teal-700",children:"Manage Properties"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View and manage all properties"})]})}),e.jsx(ne,{to:"/owner/tenants",className:"group",children:e.jsxs("div",{className:"text-center p-4 rounded-lg border border-gray-200 hover:border-teal-300 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-teal-600 group-hover:text-teal-700",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-teal-700",children:"Tenant Management"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View tenant details and leases"})]})}),e.jsx(ne,{to:"/owner/financial",className:"group",children:e.jsxs("div",{className:"text-center p-4 rounded-lg border border-gray-200 hover:border-teal-300 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-teal-600 group-hover:text-teal-700",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-teal-700",children:"Financial Reports"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Income and expense tracking"})]})}),e.jsx(ne,{to:"/owner/maintenance",className:"group",children:e.jsxs("div",{className:"text-center p-4 rounded-lg border border-gray-200 hover:border-teal-300 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-teal-600 group-hover:text-teal-700",children:e.jsxs("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-teal-700",children:"Maintenance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track requests and repairs"})]})})]})})]})},Cy={async createProperty(r){var l,o;try{return{success:!0,data:(await ce.post("/properties/create-property",r)).data.data,message:"Property created successfully"}}catch(i){return console.error("Error creating property:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to create property"}}},async getProperties(r={}){var l,o;try{const i=await ce.get("/properties/get-all-properties",{params:r});return{success:!0,data:i.data.data,pagination:i.data.pagination,total:i.data.count}}catch(i){return console.error("Error fetching properties:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch properties"}}},async getProperty(r){var l,o;try{return{success:!0,data:(await ce.get(`/properties/${r}`)).data.data}}catch(i){return console.error("Error fetching property:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch property"}}},async updateProperty(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/properties/${r}`,l)).data.data,message:"Property updated successfully"}}catch(u){return console.error("Error updating property:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update property"}}},async deleteProperty(r){var l,o;try{return await ce.delete(`/properties/${r}`),{success:!0,message:"Property deleted successfully"}}catch(i){return console.error("Error deleting property:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to delete property"}}},async getPropertyUnits(r){var l,o;try{return{success:!0,data:(await ce.get(`/properties/${r}/units`)).data.data}}catch(i){return console.error("Error fetching property units:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch property units"}}},async getPropertyStatistics(r){var l,o;try{return{success:!0,data:(await ce.get(`/properties/${r}/statistics`)).data.data}}catch(i){return console.error("Error fetching property statistics:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch property statistics"}}}},Wo=({isOpen:r,onClose:l,onPropertyAdded:o})=>{const[i,u]=N.useState({property_number:"",address_line1:"",address_line2:"",city:"",state_province:"",postal_code:"",country:"",plot_size_sqm:"",total_units:"",description:""}),[m,h]=N.useState({}),[f,b]=N.useState(!1),x=[{value:"UAE",label:"United Arab Emirates"},{value:"Saudi Arabia",label:"Saudi Arabia"},{value:"Qatar",label:"Qatar"},{value:"Kuwait",label:"Kuwait"},{value:"Bahrain",label:"Bahrain"},{value:"Oman",label:"Oman"},{value:"Jordan",label:"Jordan"},{value:"Lebanon",label:"Lebanon"},{value:"Egypt",label:"Egypt"}],g=R=>{const{name:A,value:j}=R.target;u(k=>({...k,[A]:j})),m[A]&&h(k=>({...k,[A]:""}))},p=()=>{const R={};return i.property_number.trim()?i.property_number.length>255&&(R.property_number="Property number cannot exceed 255 characters"):R.property_number="Property number is required",i.address_line1.trim()?i.address_line1.length>255&&(R.address_line1="Address line 1 cannot exceed 255 characters"):R.address_line1="Address line 1 is required",i.city.trim()?i.city.length>255&&(R.city="City cannot exceed 255 characters"):R.city="City is required",i.country.trim()?i.country.length>255&&(R.country="Country cannot exceed 255 characters"):R.country="Country is required",i.address_line2&&i.address_line2.length>255&&(R.address_line2="Address line 2 cannot exceed 255 characters"),i.state_province&&i.state_province.length>255&&(R.state_province="State/Province cannot exceed 255 characters"),i.postal_code&&i.postal_code.length>20&&(R.postal_code="Postal code cannot exceed 20 characters"),i.plot_size_sqm&&(isNaN(i.plot_size_sqm)||parseFloat(i.plot_size_sqm)<0)&&(R.plot_size_sqm="Plot size must be a positive number"),i.total_units&&(isNaN(i.total_units)||parseInt(i.total_units)<1)&&(R.total_units="Total units must be a positive integer"),h(R),Object.keys(R).length===0},C=async R=>{if(R.preventDefault(),!!p()){b(!0);try{const A={...i,address_line2:i.address_line2||null,state_province:i.state_province||null,postal_code:i.postal_code||null,plot_size_sqm:i.plot_size_sqm?parseFloat(i.plot_size_sqm):null,total_units:i.total_units?parseInt(i.total_units):null,description:i.description||null},j=await Cy.createProperty(A);j.success?(u({property_number:"",address_line1:"",address_line2:"",city:"",state_province:"",postal_code:"",country:"",plot_size_sqm:"",total_units:"",description:""}),h({}),o&&o(j.data),l()):typeof j.error=="string"?h({general:j.error}):h({general:"Failed to create property. Please try again."})}catch(A){console.error("Error creating property:",A),h({general:"An unexpected error occurred. Please try again."})}finally{b(!1)}}},M=()=>{f||(u({property_number:"",address_line1:"",address_line2:"",city:"",state_province:"",postal_code:"",country:"",plot_size_sqm:"",total_units:"",description:""}),h({}),l())};return e.jsx(gx,{isOpen:r,onClose:M,title:"Add New Property",size:"full",closeOnOverlayClick:!f,closeOnEscape:!f,children:e.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[m.general&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m.general}),e.jsx(bt,{label:"Property Number",name:"property_number",value:i.property_number,onChange:g,error:m.property_number,required:!0,disabled:f,placeholder:"e.g., PROP-001",helperText:"Unique identifier for the property"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Address Information"}),e.jsx(bt,{label:"Address Line 1",name:"address_line1",value:i.address_line1,onChange:g,error:m.address_line1,required:!0,disabled:f,placeholder:"e.g., 123 Main Street"}),e.jsx(bt,{label:"Address Line 2",name:"address_line2",value:i.address_line2,onChange:g,error:m.address_line2,disabled:f,placeholder:"e.g., Suite 100, Building A (optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(bt,{label:"City",name:"city",value:i.city,onChange:g,error:m.city,required:!0,disabled:f,placeholder:"e.g., Dubai"}),e.jsx(bt,{label:"State/Province",name:"state_province",value:i.state_province,onChange:g,error:m.state_province,disabled:f,placeholder:"e.g., Dubai (optional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(bt,{label:"Postal Code",name:"postal_code",value:i.postal_code,onChange:g,error:m.postal_code,disabled:f,placeholder:"e.g., 12345 (optional)"}),e.jsx(sn,{label:"Country",name:"country",value:i.country,onChange:g,error:m.country,required:!0,disabled:f,options:x,placeholder:"Select a country"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Property Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(bt,{label:"Plot Size (sqm)",name:"plot_size_sqm",type:"number",value:i.plot_size_sqm,onChange:g,error:m.plot_size_sqm,disabled:f,placeholder:"e.g., 1000",helperText:"Plot size in square meters (optional)",min:"0",step:"0.01"}),e.jsx(bt,{label:"Total Units",name:"total_units",type:"number",value:i.total_units,onChange:g,error:m.total_units,disabled:f,placeholder:"e.g., 10",helperText:"Number of units in the property (optional)",min:"1",step:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:g,disabled:f,rows:4,className:"form-input",placeholder:"Enter property description (optional)"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Additional details about the property"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx(O,{type:"button",variant:"secondary",onClick:M,disabled:f,children:"Cancel"}),e.jsx(O,{type:"submit",variant:"primary",loading:f,disabled:f,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),children:f?"Creating Property...":"Create Property"})]})]})})};Wo.propTypes={isOpen:I.bool.isRequired,onClose:I.func.isRequired,onPropertyAdded:I.func};const Ay=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState(!1),x=()=>{b(!0)},g=()=>{b(!1)},p=_=>{o(E=>[_,...E])};N.useEffect(()=>{C()},[]);const C=N.useCallback(async()=>{u(!0),h(null);try{const _=await Et.getOwnerProperties(r==null?void 0:r.id);o(_.data||[])}catch{h("Failed to load properties. Please try again.")}finally{u(!1)}},[r]),M=_=>{switch(_){case"active":return"bg-emerald-100 text-emerald-800";case"maintenance":return"bg-amber-100 text-amber-800";case"vacant":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R=_=>{switch(_){case"building":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"villa":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"commercial":return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});default:return e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}},A=l.reduce((_,E)=>_+(E.property_value||0),0),j=l.reduce((_,E)=>_+(E.monthly_income||0),0),k=l.reduce((_,E)=>_+(E.total_units||0),0),S=l.reduce((_,E)=>_+(E.occupied_units||0),0);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Properties"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:C,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Properties"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and monitor your property portfolio"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:C,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",onClick:x,children:"Add Property"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-teal-600",children:i?e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse mx-auto"}):l.length}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Properties"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${A.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Value"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${j.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Monthly Income"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i?e.jsx("div",{className:"h-8 w-12 bg-gray-200 rounded animate-pulse mx-auto"}):`${Math.round(S/k*100)}%`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Occupancy Rate"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i?Array.from({length:6}).map((_,E)=>e.jsx(B,{loading:!0,className:"h-96"},E)):l.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't added any properties yet."}),e.jsx(O,{variant:"primary",onClick:x,children:"Add Your First Property"})]}):l.map(_=>{var E,v;return e.jsx(ne,{to:`/owner/properties/${_.id}`,className:"group block",children:e.jsxs(B,{className:"h-full hover:shadow-lg hover:scale-105 transition-all duration-200",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200 -m-6 mb-4",children:[e.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover rounded-t-lg group-hover:scale-105 transition-transform duration-200",onError:H=>{H.target.src="https://via.placeholder.com/400x300?text=Property+Image"}}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(_.status)}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:"bg-white bg-opacity-90 p-2 rounded-full text-teal-600",children:R(_.type)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-teal-600 transition-colors",children:_.name}),e.jsx("p",{className:"text-sm text-gray-500",children:_.address})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Units:"}),e.jsxs("span",{className:"ml-1 font-medium text-gray-900",children:[_.occupied_units,"/",_.total_units]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Income:"}),e.jsxs("span",{className:"ml-1 font-medium text-emerald-600",children:["SAR ",(E=_.monthly_income)==null?void 0:E.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Occupancy"}),e.jsxs("span",{children:[Math.round(_.occupied_units/_.total_units*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-teal-500 h-2 rounded-full transition-all duration-300",style:{width:`${_.occupied_units/_.total_units*100}%`}})})]}),e.jsx("div",{className:"pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Property Value"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["SAR ",(v=_.property_value)==null?void 0:v.toLocaleString()]})]})})]})]})},_.id)})}),e.jsx(Wo,{isOpen:f,onClose:g,onPropertyAdded:p})]})},Ry=()=>{var M,R,A,j,k,S,_;const{id:r}=gr(),[l,o]=N.useState(null),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState("overview");N.useEffect(()=>{x()},[r]);const x=async()=>{try{u(!0),h(null);const E=await Et.getPropertyDetails(r);o(E.data)}catch(E){console.error("Error loading property details:",E),h("Failed to load property details. Please try again.")}finally{u(!1)}},g=E=>{switch(E){case"active":return"bg-emerald-100 text-emerald-800";case"maintenance":return"bg-amber-100 text-amber-800";case"vacant":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=E=>{switch(E){case"excellent":return"text-emerald-600";case"good":return"text-blue-600";case"fair":return"text-amber-600";case"under_renovation":return"text-purple-600";default:return"text-gray-600"}},C=[{id:"overview",label:"Overview"},{id:"financial",label:"Financial"},{id:"tenants",label:"Tenants"},{id:"maintenance",label:"Maintenance"},{id:"documents",label:"Documents"}];return i?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:6}).map((E,v)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},v))})]})}):m||!l?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Property Not Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m||"The requested property could not be found."}),e.jsx(ne,{to:"/owner/properties",children:e.jsx(O,{variant:"primary",children:"Back to Properties"})})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[e.jsx(ne,{to:"/owner/properties",className:"hover:text-teal-600",children:"Properties"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:l.name})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.name}),e.jsx("p",{className:"mt-2 text-gray-600",children:l.address})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${g(l.status)}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}),e.jsx(O,{variant:"primary",children:"Edit Property"})]})]}),e.jsx(B,{className:"overflow-hidden",children:e.jsx("div",{className:"h-64 md:h-96 bg-gray-200",children:e.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover",onError:E=>{E.target.src="https://via.placeholder.com/800x400?text=Property+Image"}})})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-teal-600",children:l.total_units}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Units"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:l.occupied_units}),e.jsx("div",{className:"text-sm text-gray-500",children:"Occupied"})]}),e.jsxs(B,{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["SAR ",(M=l.monthly_income)==null?void 0:M.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Monthly Income"})]}),e.jsxs(B,{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["SAR ",(R=l.property_value)==null?void 0:R.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Property Value"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:C.map(E=>e.jsx("button",{onClick:()=>b(E.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===E.id?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:E.label},E.id))})}),f==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(B,{header:"Property Information",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Type"}),e.jsx("p",{className:"text-gray-900 capitalize",children:l.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Construction Year"}),e.jsx("p",{className:"text-gray-900",children:l.construction_year})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Condition"}),e.jsx("p",{className:`font-medium capitalize ${p(l.condition)}`,children:(A=l.condition)==null?void 0:A.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Maintenance"}),e.jsx("p",{className:"text-gray-900",children:new Date(l.last_maintenance).toLocaleDateString()})]})]})}),e.jsx(B,{header:"Amenities",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:(j=l.amenities)==null?void 0:j.map((E,v)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"text-sm text-gray-700",children:E})]},v))})})]}),f==="financial"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(B,{header:"Income Summary",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Income"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:["SAR ",(k=l.monthly_income)==null?void 0:k.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Yearly Income"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:["SAR ",(l.monthly_income*12).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Occupancy Rate"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[Math.round(l.occupied_units/l.total_units*100),"%"]})]})]})}),e.jsx(B,{header:"Property Valuation",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Current Value"}),e.jsxs("span",{className:"font-semibold text-purple-600",children:["SAR ",(S=l.property_value)==null?void 0:S.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Price per Unit"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["SAR ",(_=Math.round(l.property_value/l.total_units))==null?void 0:_.toLocaleString()]})]})]})})]}),f==="tenants"&&e.jsx(B,{header:"Current Tenants",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("p",{className:"text-gray-500",children:"Tenant information will be displayed here"}),e.jsx(ne,{to:"/owner/tenants",className:"mt-4 inline-block",children:e.jsx(O,{variant:"primary",children:"View All Tenants"})})]})}),f==="maintenance"&&e.jsx(B,{header:"Maintenance History",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})})}),e.jsx("p",{className:"text-gray-500",children:"Maintenance history will be displayed here"}),e.jsx(ne,{to:"/owner/maintenance",className:"mt-4 inline-block",children:e.jsx(O,{variant:"primary",children:"View Maintenance"})})]})}),f==="documents"&&e.jsx(B,{header:"Property Documents",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-500",children:"Property documents will be displayed here"}),e.jsx(O,{variant:"primary",children:"Upload Documents"})]})})]})},My=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState({search:"",property:"",paymentStatus:""}),x=E=>{b(v=>({...v,search:E.target.value}))},g=E=>{b(v=>({...v,property:E.target.value}))},p=E=>{b(v=>({...v,paymentStatus:E.target.value}))};N.useEffect(()=>{C()},[]);const C=async()=>{try{u(!0),h(null);const E=await Et.getOwnerTenants(r==null?void 0:r.id);o(E.data||[])}catch(E){console.error("Error loading tenants:",E),h("Failed to load tenants. Please try again.")}finally{u(!1)}},M=E=>{switch(E){case"current":return"bg-emerald-100 text-emerald-800";case"overdue":return"bg-red-100 text-red-800";case"pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},R=E=>new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),A=N.useMemo(()=>l.filter(E=>{const v=E.name.toLowerCase().includes(f.search.toLowerCase())||E.email.toLowerCase().includes(f.search.toLowerCase())||E.property_name.toLowerCase().includes(f.search.toLowerCase()),H=!f.property||E.property_name.includes(f.property),q=!f.paymentStatus||E.payment_status===f.paymentStatus;return v&&H&&q}),[l,f.search,f.property,f.paymentStatus]),j=[{key:"tenant_info",title:"Tenant",render:(E,v)=>{var H,q;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-700",children:(q=(H=v.name)==null?void 0:H.charAt(0))==null?void 0:q.toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),e.jsx("div",{className:"text-sm text-gray-500",children:v.email}),e.jsx("div",{className:"text-sm text-gray-500",children:v.phone})]})]})}},{key:"property_info",title:"Property & Unit",render:(E,v)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.property_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Unit: ",v.unit_number]})]})},{key:"lease_info",title:"Lease Period",render:(E,v)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:R(v.lease_start)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["to ",R(v.lease_end)]})]})},{key:"rent_info",title:"Rent & Deposit",render:(E,v)=>{var H,q;return e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["SAR ",(H=v.monthly_rent)==null?void 0:H.toLocaleString(),"/month"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Deposit: SAR ",(q=v.deposit)==null?void 0:q.toLocaleString()]})]})}},{key:"payment_status",title:"Payment Status",render:(E,v)=>{var H,q;return e.jsxs("div",{children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(v.payment_status)}`,children:((H=v.payment_status)==null?void 0:H.charAt(0).toUpperCase())+((q=v.payment_status)==null?void 0:q.slice(1))}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last: ",R(v.last_payment)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Next: ",R(v.next_payment)]})]})}},{key:"actions",title:"Actions",render:(E,v)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(ne,{to:`/owner/tenants/${v.id}`,className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Contact"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-700 text-sm font-medium",children:"Bill"})]})}],k=A.filter(E=>E.payment_status==="current").length,S=A.filter(E=>E.payment_status==="overdue").length,_=A.reduce((E,v)=>E+(v.monthly_rent||0),0);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Tenants"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:C,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Tenants"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage tenant relationships and track payments"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:C,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Add Tenant"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-teal-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):A.length}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Tenants"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):k}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Current Payments"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):S}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Overdue Payments"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${_.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Monthly Rent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(bt,{placeholder:"Search tenants...",value:f.search,onChange:x,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx(bt,{placeholder:"Filter by property...",value:f.property,onChange:g}),e.jsx(sn,{value:f.paymentStatus,onChange:p,options:[{value:"",label:"All Payment Status"},{value:"current",label:"Current"},{value:"overdue",label:"Overdue"},{value:"pending",label:"Pending"}]})]}),e.jsx(B,{header:`Tenants (${A.length})`,children:e.jsx(Xa,{columns:j,data:A,loading:i,emptyMessage:"No tenants found",variant:"default"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(B,{header:"Quick Actions",className:"bg-gradient-to-br from-teal-50 to-blue-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Generate Monthly Bills"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Send Payment Reminders"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Export Tenant List"})]})}),e.jsx(B,{header:"Payment Overview",className:"bg-gradient-to-br from-emerald-50 to-green-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"This Month"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:["SAR ",_.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Collected"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:["SAR ",(_-S*2400).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Outstanding"}),e.jsxs("span",{className:"font-semibold text-red-600",children:["SAR ",(S*2400).toLocaleString()]})]})]})}),e.jsx(B,{header:"Recent Activity",className:"bg-gradient-to-br from-purple-50 to-indigo-50",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Payment received from Sarah Al-Mansouri"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Lease renewal due for Mohammed Al-Ahmed"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Payment overdue from Abdullah Trading Co."})]})]})})]})]})},Ey=()=>{var R,A,j,k,S,_,E,v,H,q;const{id:r}=gr(),[l,o]=N.useState(null),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState("profile");N.useEffect(()=>{x()},[r]);const x=async()=>{try{u(!0),h(null);const J=(await Et.getOwnerTenants()).data.find(W=>W.id===parseInt(r));o(J)}catch($){console.error("Error loading tenant details:",$),h("Failed to load tenant details. Please try again.")}finally{u(!1)}},g=$=>{switch($){case"current":return"bg-emerald-100 text-emerald-800";case"overdue":return"bg-red-100 text-red-800";case"pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},p=$=>new Date($).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),C=[{id:"profile",label:"Profile"},{id:"lease",label:"Lease Details"},{id:"payments",label:"Payment History"},{id:"communications",label:"Communications"}],M=[{date:"2024-02-01",amount:(l==null?void 0:l.monthly_rent)||0,status:"paid",method:"Bank Transfer"},{date:"2024-01-01",amount:(l==null?void 0:l.monthly_rent)||0,status:"paid",method:"Bank Transfer"},{date:"2023-12-01",amount:(l==null?void 0:l.monthly_rent)||0,status:"paid",method:"Cash"},{date:"2023-11-01",amount:(l==null?void 0:l.monthly_rent)||0,status:"paid",method:"Bank Transfer"}];return i?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:6}).map(($,J)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},J))})]})}):m||!l?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tenant Not Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m||"The requested tenant could not be found."}),e.jsx(ne,{to:"/owner/tenants",children:e.jsx(O,{variant:"primary",children:"Back to Tenants"})})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[e.jsx(ne,{to:"/owner/tenants",className:"hover:text-teal-600",children:"Tenants"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:l.name})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-teal-700",children:(A=(R=l.name)==null?void 0:R.charAt(0))==null?void 0:A.toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.name}),e.jsx("p",{className:"text-gray-600",children:l.email}),e.jsx("p",{className:"text-gray-600",children:l.phone})]})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${g(l.payment_status)}`,children:((j=l.payment_status)==null?void 0:j.charAt(0).toUpperCase())+((k=l.payment_status)==null?void 0:k.slice(1))}),e.jsx(O,{variant:"primary",children:"Contact Tenant"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-teal-600",children:["SAR ",(S=l.monthly_rent)==null?void 0:S.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Monthly Rent"})]}),e.jsxs(B,{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["SAR ",(_=l.deposit)==null?void 0:_.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Security Deposit"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.ceil((new Date(l.lease_end)-new Date)/(1e3*60*60*24))}),e.jsx("div",{className:"text-sm text-gray-500",children:"Days Until Lease End"})]}),e.jsxs(B,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:M.filter($=>$.status==="paid").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Payments Made"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:C.map($=>e.jsx("button",{onClick:()=>b($.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===$.id?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:$.label},$.id))})}),f==="profile"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(B,{header:"Personal Information",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e.jsx("p",{className:"text-gray-900",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-gray-900",children:l.phone})]})]})}),e.jsx(B,{header:"Property Information",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Property"}),e.jsx("p",{className:"text-gray-900",children:l.property_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Unit Number"}),e.jsx("p",{className:"text-gray-900",children:l.unit_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Move-in Date"}),e.jsx("p",{className:"text-gray-900",children:p(l.lease_start)})]})]})})]}),f==="lease"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(B,{header:"Lease Terms",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),e.jsx("p",{className:"text-gray-900",children:p(l.lease_start)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"End Date"}),e.jsx("p",{className:"text-gray-900",children:p(l.lease_end)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Monthly Rent"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:["SAR ",(E=l.monthly_rent)==null?void 0:E.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Security Deposit"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:["SAR ",(v=l.deposit)==null?void 0:v.toLocaleString()]})]})]})]})}),e.jsx(B,{header:"Lease Status",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Status"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(l.payment_status)}`,children:((H=l.payment_status)==null?void 0:H.charAt(0).toUpperCase())+((q=l.payment_status)==null?void 0:q.slice(1))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Last Payment"}),e.jsx("span",{className:"text-gray-900",children:p(l.last_payment)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Next Payment Due"}),e.jsx("span",{className:"text-gray-900",children:p(l.next_payment)})]})]})})]}),f==="payments"&&e.jsx(B,{header:"Payment History",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(($,J)=>{var W;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p($.date)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["SAR ",(W=$.amount)==null?void 0:W.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.method}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800",children:$.status})})]},J)})})]})})}),f==="communications"&&e.jsx(B,{header:"Communication History",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("p",{className:"text-gray-500",children:"Communication history will be displayed here"}),e.jsx(O,{variant:"primary",className:"mt-4",children:"Send Message"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(O,{variant:"primary",children:"Generate Invoice"}),e.jsx(O,{variant:"secondary",children:"Send Payment Reminder"}),e.jsx(O,{variant:"secondary",children:"Schedule Inspection"}),e.jsx(O,{variant:"ghost",children:"Export Tenant Data"})]})]})},Ly=()=>{var j,k;const{user:r}=Be(),[l,o]=N.useState(null),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState("monthly"),[x,g]=N.useState(new Date().getFullYear());N.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0),h(null);const S=await Et.getFinancialOverview(r==null?void 0:r.id);o(S.data)}catch(S){console.error("Error loading financial data:",S),h("Failed to load financial data. Please try again.")}finally{u(!1)}},C=[{month:"Jan",income:11e4,expenses:15e3},{month:"Feb",income:116500,expenses:18e3},{month:"Mar",income:112e3,expenses:12e3},{month:"Apr",income:118e3,expenses:2e4},{month:"May",income:115e3,expenses:16e3},{month:"Jun",income:12e4,expenses:14e3},{month:"Jul",income:116500,expenses:17e3},{month:"Aug",income:119e3,expenses:15e3},{month:"Sep",income:117e3,expenses:19e3},{month:"Oct",income:121e3,expenses:13e3},{month:"Nov",income:116500,expenses:16e3},{month:"Dec",income:118e3,expenses:18e3}];new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"});const M=C.reduce((S,_)=>S+_.income,0),R=C.reduce((S,_)=>S+_.expenses,0),A=M-R;return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Financial Data"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:p,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financial Reports"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Track income, expenses, and portfolio performance"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsxs("select",{value:f,onChange:S=>b(S.target.value),className:"bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"monthly",children:"Monthly View"}),e.jsx("option",{value:"quarterly",children:"Quarterly View"}),e.jsx("option",{value:"yearly",children:"Yearly View"})]}),e.jsx(O,{onClick:p,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Export Report"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center bg-gradient-to-br from-emerald-50 to-green-50",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${(j=l==null?void 0:l.monthly_income)==null?void 0:j.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Monthly Income"}),e.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:"+8.2% vs last month"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${M.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Yearly Income"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"+12.5% vs last year"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${R.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Yearly Expenses"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"+5.1% vs last year"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${A.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Net Income"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"+15.3% vs last year"})]})]}),e.jsxs(B,{header:`Income vs Expenses - ${x}`,children:[e.jsx("div",{className:"h-80 flex items-end justify-between space-x-2 p-4",children:C.map((S,_)=>{const E=Math.max(...C.map(q=>Math.max(q.income,q.expenses))),v=S.income/E*100,H=S.expenses/E*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center space-y-2",children:[e.jsxs("div",{className:"w-full flex space-x-1 items-end",style:{height:"200px"},children:[e.jsx("div",{className:"bg-emerald-500 rounded-t flex-1 min-h-[4px] transition-all duration-500 hover:bg-emerald-600",style:{height:`${v}%`},title:`Income: SAR ${S.income.toLocaleString()}`}),e.jsx("div",{className:"bg-red-400 rounded-t flex-1 min-h-[4px] transition-all duration-500 hover:bg-red-500",style:{height:`${H}%`},title:`Expenses: SAR ${S.expenses.toLocaleString()}`})]}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:S.month})]},_)})}),e.jsxs("div",{className:"flex justify-center space-x-6 mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Income"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-400 rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Expenses"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(B,{header:"Income Breakdown",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Rental Income"}),e.jsxs("span",{className:"font-semibold text-emerald-600",children:["SAR ",(k=l==null?void 0:l.monthly_income)==null?void 0:k.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Parking Fees"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"SAR 2,500"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Service Charges"}),e.jsx("span",{className:"font-semibold text-purple-600",children:"SAR 1,800"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-amber-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Late Fees"}),e.jsx("span",{className:"font-semibold text-amber-600",children:"SAR 500"})]})]})}),e.jsx(B,{header:"Expense Breakdown",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Maintenance"}),e.jsx("span",{className:"font-semibold text-red-600",children:"SAR 8,500"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Utilities"}),e.jsx("span",{className:"font-semibold text-orange-600",children:"SAR 3,200"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Insurance"}),e.jsx("span",{className:"font-semibold text-yellow-600",children:"SAR 2,100"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"Management Fees"}),e.jsx("span",{className:"font-semibold text-gray-600",children:"SAR 1,500"})]})]})})]}),e.jsx(B,{header:"Property Performance",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Income"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Occupancy Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ROI"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Al-Noor Residential Complex"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"SAR 48,000"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"83.3%"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"8.2%"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800",children:"Excellent"})})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Sunset Villa"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"SAR 8,500"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"100%"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"12.0%"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800",children:"Excellent"})})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Golden Plaza Shops"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"SAR 32,000"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"75%"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"6.8%"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Good"})})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(B,{header:"Generate Reports",className:"bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Monthly Report"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Quarterly Report"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Tax Summary"})]})}),e.jsx(B,{header:"Financial Actions",className:"bg-gradient-to-br from-emerald-50 to-green-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Record Expense"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Track Payment"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Set Budget"})]})}),e.jsx(B,{header:"Analysis Tools",className:"bg-gradient-to-br from-purple-50 to-pink-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"ROI Calculator"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Cash Flow Analysis"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Market Comparison"})]})})]})]})},Ty=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState([]),[m,h]=N.useState(!0),[f,b]=N.useState(null),[x,g]=N.useState("maintenance"),[p,C]=N.useState({search:"",status:"",priority:"",property:""}),M=$=>{C(J=>({...J,search:$.target.value}))};N.useEffect(()=>{R()},[]);const R=async()=>{try{h(!0),b(null);const[$,J]=await Promise.all([Et.getMaintenanceRequests(r==null?void 0:r.id),Et.getComplaints(r==null?void 0:r.id)]);o($.data||[]),u(J.data||[])}catch($){console.error("Error loading maintenance data:",$),b("Failed to load maintenance data. Please try again.")}finally{h(!1)}},A=$=>{switch($){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-amber-100 text-amber-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},j=$=>{switch($){case"completed":case"resolved":return"bg-emerald-100 text-emerald-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":case"open":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},k=$=>new Date($).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),S=[{key:"issue",title:"Issue",render:($,J)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.issue}),e.jsxs("div",{className:"text-sm text-gray-500",children:[J.property_name," - ",J.unit_number]})]})},{key:"tenant",title:"Tenant",render:($,J)=>e.jsx("div",{className:"text-sm text-gray-900",children:J.tenant_name})},{key:"priority",title:"Priority",render:($,J)=>{var W,ie;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(J.priority)}`,children:((W=J.priority)==null?void 0:W.charAt(0).toUpperCase())+((ie=J.priority)==null?void 0:ie.slice(1))})}},{key:"status",title:"Status",render:($,J)=>{var W,ie;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j(J.status)}`,children:((W=J.status)==null?void 0:W.replace("_"," ").charAt(0).toUpperCase())+((ie=J.status)==null?void 0:ie.replace("_"," ").slice(1))})}},{key:"assigned_to",title:"Assigned To",render:($,J)=>e.jsx("div",{className:"text-sm text-gray-900",children:J.assigned_to||"Unassigned"})},{key:"cost",title:"Est. Cost",render:($,J)=>e.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.estimated_cost?`SAR ${J.estimated_cost}`:"TBD"})},{key:"date",title:"Created",render:($,J)=>e.jsx("div",{className:"text-sm text-gray-500",children:k(J.created_date)})},{key:"actions",title:"Actions",render:($,J)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Update"})]})}],_=[{key:"subject",title:"Subject",render:($,J)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.subject}),e.jsx("div",{className:"text-sm text-gray-500",children:J.property_name})]})},{key:"tenant",title:"Tenant",render:($,J)=>e.jsx("div",{className:"text-sm text-gray-900",children:J.tenant_name})},{key:"priority",title:"Priority",render:($,J)=>{var W,ie;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(J.priority)}`,children:((W=J.priority)==null?void 0:W.charAt(0).toUpperCase())+((ie=J.priority)==null?void 0:ie.slice(1))})}},{key:"status",title:"Status",render:($,J)=>{var W,ie;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j(J.status)}`,children:((W=J.status)==null?void 0:W.charAt(0).toUpperCase())+((ie=J.status)==null?void 0:ie.slice(1))})}},{key:"created_date",title:"Created",render:($,J)=>e.jsx("div",{className:"text-sm text-gray-500",children:k(J.created_date)})},{key:"resolved_date",title:"Resolved",render:($,J)=>e.jsx("div",{className:"text-sm text-gray-500",children:J.resolved_date?k(J.resolved_date):"-"})},{key:"actions",title:"Actions",render:($,J)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Respond"})]})}],E=x==="maintenance"?l:i,v=x==="maintenance"?S:_,H=N.useMemo(()=>E.filter($=>{var ye,Ue,pe,G;const J=((ye=$.issue)==null?void 0:ye.toLowerCase().includes(p.search.toLowerCase()))||((Ue=$.subject)==null?void 0:Ue.toLowerCase().includes(p.search.toLowerCase()))||((pe=$.property_name)==null?void 0:pe.toLowerCase().includes(p.search.toLowerCase())),W=!p.status||$.status===p.status,ie=!p.priority||$.priority===p.priority,ae=!p.property||((G=$.property_name)==null?void 0:G.includes(p.property));return J&&W&&ie&&ae}),[E,p.search,p.status,p.priority,p.property]),q={total_maintenance:l.length,pending_maintenance:l.filter($=>$.status==="pending").length,in_progress_maintenance:l.filter($=>$.status==="in_progress").length,total_complaints:i.length,open_complaints:i.filter($=>$.status==="open").length,resolved_complaints:i.filter($=>$.status==="resolved").length};return f?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Maintenance Data"}),e.jsx("p",{className:"text-gray-500 mb-4",children:f}),e.jsx(O,{onClick:R,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Maintenance & Complaints"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Track and manage property maintenance requests and tenant complaints"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:R,variant:"secondary",size:"sm",loading:m,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"New Request"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m?e.jsx("div",{className:"h-6 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):q.total_maintenance}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Maintenance"}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[q.pending_maintenance," pending, ",q.in_progress_maintenance," ","in progress"]})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m?e.jsx("div",{className:"h-6 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):q.total_complaints}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Complaints"}),e.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[q.open_complaints," open, ",q.resolved_complaints," resolved"]})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-emerald-50 to-green-50",children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[m?e.jsx("div",{className:"h-6 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):Math.round(q.resolved_complaints/(q.total_complaints||1)*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Resolution Rate"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:m?e.jsx("div",{className:"h-6 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):l.reduce(($,J)=>$+(J.estimated_cost||0),0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Est. Costs (SAR)"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>g("maintenance"),className:`py-2 px-1 border-b-2 font-medium text-sm ${x==="maintenance"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Maintenance Requests (",l.length,")"]}),e.jsxs("button",{onClick:()=>g("complaints"),className:`py-2 px-1 border-b-2 font-medium text-sm ${x==="complaints"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Complaints (",i.length,")"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(bt,{placeholder:"Search...",value:p.search,onChange:M,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx(sn,{value:p.status,onChange:$=>C({...p,status:$.target.value}),options:[{value:"",label:"All Status"},{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"open",label:"Open"},{value:"resolved",label:"Resolved"}]}),e.jsx(sn,{value:p.priority,onChange:$=>C({...p,priority:$.target.value}),options:[{value:"",label:"All Priorities"},{value:"high",label:"High Priority"},{value:"medium",label:"Medium Priority"},{value:"low",label:"Low Priority"}]}),e.jsx(bt,{placeholder:"Filter by property...",value:p.property,onChange:$=>C({...p,property:$.target.value})})]}),e.jsx(B,{header:`${x==="maintenance"?"Maintenance Requests":"Complaints"} (${H.length})`,children:e.jsx(Xa,{columns:v,data:H,loading:m,emptyMessage:`No ${x==="maintenance"?"maintenance requests":"complaints"} found`,variant:"default"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(B,{header:"Quick Actions",className:"bg-gradient-to-br from-teal-50 to-blue-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Create Work Order"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Schedule Inspection"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Export Report"})]})}),e.jsx(B,{header:"Vendor Management",className:"bg-gradient-to-br from-purple-50 to-indigo-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Manage Vendors"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Request Quotes"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Vendor Performance"})]})}),e.jsx(B,{header:"Analytics",className:"bg-gradient-to-br from-emerald-50 to-green-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Maintenance Trends"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Cost Analysis"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Response Times"})]})})]})]})},Dy=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState(new Date().toISOString().slice(0,7)),[x,g]=N.useState({search:"",paymentStatus:"",property:""});N.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0),h(null);const v=await Et.getOwnerTenants(r==null?void 0:r.id);o(v.data||[])}catch(v){console.error("Error loading billing data:",v),h("Failed to load billing data. Please try again.")}finally{u(!1)}},C=v=>{switch(v){case"current":return"bg-emerald-100 text-emerald-800";case"overdue":return"bg-red-100 text-red-800";case"pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},M=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),R=(v,H)=>`INV-${new Date(H).toISOString().slice(0,7).replace("-","")}-${v.toString().padStart(3,"0")}`,A=[{key:"tenant_info",title:"Tenant",render:(v,H)=>{var q,$;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-700",children:($=(q=H.name)==null?void 0:q.charAt(0))==null?void 0:$.toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name}),e.jsx("div",{className:"text-sm text-gray-500",children:H.property_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Unit: ",H.unit_number]})]})]})}},{key:"invoice_info",title:"Invoice Details",render:(v,H)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R(H.id,f)}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(f).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})},{key:"amount_info",title:"Amount Details",render:(v,H)=>{var q;return e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["SAR ",(q=H.monthly_rent)==null?void 0:q.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Monthly Rent"}),e.jsx("div",{className:"text-sm text-gray-500",children:"+ Service Charges"})]})}},{key:"payment_status",title:"Payment Status",render:(v,H)=>{var q,$;return e.jsxs("div",{children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C(H.payment_status)}`,children:((q=H.payment_status)==null?void 0:q.charAt(0).toUpperCase())+(($=H.payment_status)==null?void 0:$.slice(1))}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Due: ",M(H.next_payment)]})]})}},{key:"actions",title:"Actions",render:(v,H)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Generate"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Send"}),e.jsx("button",{className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"Download"})]})}],j=l.filter(v=>{const H=v.name.toLowerCase().includes(x.search.toLowerCase())||v.property_name.toLowerCase().includes(x.search.toLowerCase()),q=!x.paymentStatus||v.payment_status===x.paymentStatus,$=!x.property||v.property_name.includes(x.property);return H&&q&&$}),k=j.reduce((v,H)=>v+(H.monthly_rent||0),0),S=j.filter(v=>v.payment_status==="current").reduce((v,H)=>v+(H.monthly_rent||0),0),_=j.filter(v=>v.payment_status==="overdue").reduce((v,H)=>v+(H.monthly_rent||0),0),E=j.filter(v=>v.payment_status==="pending").reduce((v,H)=>v+(H.monthly_rent||0),0);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Billing Data"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:p,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Billing & Payments"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Generate invoices and track payment status"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx("input",{type:"month",value:f,onChange:N.useCallback(v=>b(v.target.value),[]),className:"form-input"}),e.jsx(O,{onClick:p,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Generate All Bills"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${k.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Billing"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:new Date(f).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-emerald-50 to-green-50",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${S.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Collected"}),e.jsxs("div",{className:"text-xs text-emerald-600 mt-1",children:[Math.round(S/k*100)||0,"% of total"]})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-red-50 to-pink-50",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${_.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Overdue"}),e.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Requires attention"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:i?e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${E.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Pending"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"Awaiting payment"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search tenants or properties...",value:x.search,onChange:N.useCallback(v=>g(H=>({...H,search:v.target.value})),[]),className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Payment Status"}),e.jsxs("select",{value:x.paymentStatus,onChange:N.useCallback(v=>g(H=>({...H,paymentStatus:v.target.value})),[]),className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"All Payment Status"}),e.jsx("option",{value:"current",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Property"}),e.jsx("input",{type:"text",placeholder:"Filter by property...",value:x.property,onChange:N.useCallback(v=>g(H=>({...H,property:v.target.value})),[]),className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]})]}),e.jsx(B,{header:`Billing Records (${j.length})`,children:e.jsx(Xa,{columns:A,data:j,loading:i,emptyMessage:"No billing records found",variant:"default"})}),e.jsx(B,{header:"Payment Collection Progress",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Collection Progress"}),e.jsxs("span",{children:[Math.round(S/k*100)||0,"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${S/k*100||0}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-emerald-600",children:"Collected"}),e.jsxs("div",{className:"text-gray-500",children:["SAR ",S.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-amber-600",children:"Pending"}),e.jsxs("div",{className:"text-gray-500",children:["SAR ",E.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-600",children:"Overdue"}),e.jsxs("div",{className:"text-gray-500",children:["SAR ",_.toLocaleString()]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(B,{header:"Billing Actions",className:"bg-gradient-to-br from-teal-50 to-blue-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Generate Monthly Bills"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Send Payment Reminders"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Bulk Invoice Download"})]})}),e.jsx(B,{header:"Payment Tracking",className:"bg-gradient-to-br from-emerald-50 to-green-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Record Payment"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Payment History"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Late Fee Calculator"})]})}),e.jsx(B,{header:"Reports & Analytics",className:"bg-gradient-to-br from-purple-50 to-indigo-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{variant:"primary",fullWidth:!0,children:"Monthly Report"}),e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Collection Analytics"}),e.jsx(O,{variant:"ghost",fullWidth:!0,children:"Tax Summary"})]})})]}),e.jsx(B,{header:"Recent Payment Transactions",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Sarah Al-Mansouri"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Sunset Villa - February 2024"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-emerald-600",children:"SAR 8,500"}),e.jsx("div",{className:"text-xs text-gray-500",children:"2 days ago"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Mohammed Al-Ahmed"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Al-Noor Complex - February 2024"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-blue-600",children:"SAR 2,400"}),e.jsx("div",{className:"text-xs text-gray-500",children:"5 days ago"})]})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsx(O,{variant:"ghost",children:"View All Transactions"})})]})})]})},Va=(r=800)=>new Promise(l=>setTimeout(l,r)),kh=[{id:1,tenant_id:3,property_name:"Al-Noor Residential Complex",unit_number:"A-205",address:"Al-Noor Street, Business Bay, Dubai",property_type:"apartment",floor:2,bedrooms:2,bathrooms:2,area_sqft:1200,lease_start:"2023-06-15T00:00:00Z",lease_end:"2024-06-14T23:59:59Z",monthly_rent:2400,deposit_amount:4800,ejari_number:"EJ-2023-789456",ejari_expiry:"2024-06-14T23:59:59Z",ejari_status:"active",property_condition:"excellent",parking_space:"P-205",balcony:!0,furnished:"semi-furnished",amenities:["Swimming Pool","Gym","Security","Parking","Elevator"],landlord_name:"Ahmed Al-Rashid",landlord_phone:"+966 55 987 6543",property_manager:"Al-Rashid Properties",image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&h=600&fit=crop"}],Ch=[{id:1,tenant_id:3,property_id:1,lease_start:"2023-06-15T00:00:00Z",lease_end:"2024-06-14T23:59:59Z",monthly_rent:2400,deposit_amount:4800,security_deposit:4800,commission:240,contract_type:"annual",auto_renewal:!0,notice_period_days:60,rent_increase_percentage:5,payment_due_date:1,late_fee_percentage:2,terms_and_conditions:["Tenant is responsible for utility bills","No pets allowed without prior approval","Smoking is prohibited inside the unit","Subletting requires landlord approval","Property must be maintained in good condition"],renewal_options:{available:!0,early_renewal_discount:2,renewal_deadline:"2024-04-14T23:59:59Z"},status:"active",signed_date:"2023-06-10T00:00:00Z",contract_file:"lease_agreement_2023.pdf"}],Ah=[{id:1,tenant_id:3,amount:2400,payment_date:"2024-02-01T10:30:00Z",due_date:"2024-02-01T23:59:59Z",payment_type:"rent",status:"paid",method:"bank_transfer",reference_number:"TXN-240201-001",description:"Monthly rent - February 2024",late_fee:0},{id:2,tenant_id:3,amount:2400,payment_date:"2024-01-01T09:15:00Z",due_date:"2024-01-01T23:59:59Z",payment_type:"rent",status:"paid",method:"bank_transfer",reference_number:"TXN-240101-001",description:"Monthly rent - January 2024",late_fee:0},{id:3,tenant_id:3,amount:2448,payment_date:"2023-12-03T14:20:00Z",due_date:"2023-12-01T23:59:59Z",payment_type:"rent",status:"paid",method:"cash",reference_number:"TXN-231203-001",description:"Monthly rent - December 2023",late_fee:48},{id:4,tenant_id:3,amount:4800,payment_date:"2023-06-15T12:00:00Z",due_date:"2023-06-15T23:59:59Z",payment_type:"deposit",status:"paid",method:"bank_transfer",reference_number:"TXN-230615-001",description:"Security deposit",late_fee:0}],Rh=[{id:1,tenant_id:3,property_id:1,bill_type:"electricity",provider:"DEWA",amount:180,due_date:"2024-02-15T23:59:59Z",billing_period:"2024-01",consumption:450,unit:"kWh",status:"pending",bill_number:"DEWA-240115-001",issue_date:"2024-01-15T00:00:00Z"},{id:2,tenant_id:3,property_id:1,bill_type:"water",provider:"DEWA",amount:85,due_date:"2024-02-15T23:59:59Z",billing_period:"2024-01",consumption:12,unit:"cubic meters",status:"pending",bill_number:"DEWA-240115-002",issue_date:"2024-01-15T00:00:00Z"},{id:3,tenant_id:3,property_id:1,bill_type:"internet",provider:"Etisalat",amount:299,due_date:"2024-02-10T23:59:59Z",billing_period:"2024-02",status:"paid",bill_number:"ETI-240201-001",issue_date:"2024-02-01T00:00:00Z",payment_date:"2024-02-05T10:30:00Z"}],Ol=[{id:1,tenant_id:3,property_id:1,issue_type:"plumbing",title:"Kitchen sink leakage",description:"The kitchen sink has been leaking for the past two days. Water is dripping from under the sink.",priority:"medium",status:"in_progress",submitted_date:"2024-02-10T14:30:00Z",scheduled_date:"2024-02-12T10:00:00Z",assigned_vendor:"Dubai Plumbing Services",vendor_contact:"+971 4 123 4567",estimated_cost:150,photos:["kitchen_sink_1.jpg","kitchen_sink_2.jpg"],tenant_available:"weekdays_morning",access_instructions:"Key available with security guard"},{id:2,tenant_id:3,property_id:1,issue_type:"electrical",title:"Bedroom light not working",description:"The main bedroom ceiling light stopped working yesterday evening.",priority:"low",status:"completed",submitted_date:"2024-02-05T19:45:00Z",scheduled_date:"2024-02-07T15:00:00Z",completed_date:"2024-02-07T16:30:00Z",assigned_vendor:"ElectroFix Dubai",vendor_contact:"+971 4 234 5678",actual_cost:75,resolution:"Replaced faulty light bulb and checked electrical connections",tenant_rating:5,tenant_feedback:"Quick and professional service"}],zy=[{id:1,tenant_id:3,document_type:"ejari_certificate",title:"Ejari Certificate 2023",file_name:"ejari_certificate_2023.pdf",file_size:"2.1 MB",upload_date:"2023-06-20T00:00:00Z",expiry_date:"2024-06-14T23:59:59Z",status:"active",download_url:"/documents/ejari_certificate_2023.pdf"},{id:2,tenant_id:3,document_type:"lease_agreement",title:"Lease Agreement 2023-2024",file_name:"lease_agreement_2023.pdf",file_size:"1.8 MB",upload_date:"2023-06-15T00:00:00Z",status:"active",download_url:"/documents/lease_agreement_2023.pdf"},{id:3,tenant_id:3,document_type:"security_deposit_receipt",title:"Security Deposit Receipt",file_name:"deposit_receipt_2023.pdf",file_size:"0.5 MB",upload_date:"2023-06-15T00:00:00Z",status:"active",download_url:"/documents/deposit_receipt_2023.pdf"}];class Oy{async getTenantDashboard(l){await Va();const o=kh.filter(p=>p.tenant_id===l),i=o[0],u=Ch.find(p=>p.tenant_id===l),m=Ah.filter(p=>p.tenant_id===l).slice(0,3),h=Rh.filter(p=>p.tenant_id===l&&p.status==="pending"),f=Ol.filter(p=>p.tenant_id===l&&p.status!=="completed"),b=new Date(u==null?void 0:u.lease_end),g=Math.ceil((b-new Date)/(1e3*60*60*24));return{success:!0,data:{current_property:i,lease_info:{...u,remaining_days:g,remaining_months:Math.ceil(g/30)},payment_summary:{next_payment_due:"2024-03-01T23:59:59Z",next_payment_amount:2400,total_paid_this_year:m.reduce((p,C)=>p+C.amount,0),payment_status:"current"},pending_bills:h,active_maintenance:f,quick_stats:{total_properties:o.length,pending_bills_count:h.length,active_requests_count:f.length,lease_renewal_due:g<=90}}}}async getTenantProperties(l){return await Va(),{success:!0,data:kh.filter(i=>i.tenant_id===l)}}async getLeaseAgreements(l){return await Va(),{success:!0,data:Ch.filter(i=>i.tenant_id===l)}}async getPaymentHistory(l){return await Va(),{success:!0,data:Ah.filter(i=>i.tenant_id===l)}}async getUtilityBills(l){return await Va(),{success:!0,data:Rh.filter(i=>i.tenant_id===l)}}async getMaintenanceRequests(l){return await Va(),{success:!0,data:Ol.filter(i=>i.tenant_id===l)}}async getTenantDocuments(l){return await Va(),{success:!0,data:zy.filter(i=>i.tenant_id===l)}}async submitMaintenanceRequest(l,o){await Va();const i={id:Ol.length+1,tenant_id:l,property_id:o.property_id,...o,status:"pending",submitted_date:new Date().toISOString()};return Ol.push(i),{success:!0,data:i,message:"Maintenance request submitted successfully"}}}const $a=new Oy,By=({data:r,loading:l=!1})=>{const o=()=>e.jsx(B,{className:"text-center",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded mx-auto mb-2"}),e.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mx-auto mb-1"}),e.jsx("div",{className:"h-3 w-24 bg-gray-200 rounded mx-auto"})]})});return l?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((i,u)=>e.jsx(o,{},u))}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ne,{to:"/tenant/lease",children:e.jsxs(B,{className:"text-center hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-br from-teal-50 to-blue-50 cursor-pointer",children:[e.jsx("div",{className:"text-3xl font-bold text-teal-600",children:r!=null&&r.lease_renewal_due?e.jsx("span",{className:"text-amber-600",children:"Renewal Due"}):"Active"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Lease Status"}),e.jsx("div",{className:"text-xs text-teal-600 mt-1",children:r!=null&&r.lease_renewal_due?"Action required":"All good"})]})}),e.jsx(ne,{to:"/tenant/bills",children:e.jsxs(B,{className:"text-center hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-br from-amber-50 to-orange-50 cursor-pointer",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:(r==null?void 0:r.pending_bills_count)||0}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Pending Bills"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:(r==null?void 0:r.pending_bills_count)>0?"Requires payment":"All paid"})]})}),e.jsx(ne,{to:"/tenant/maintenance",children:e.jsxs(B,{className:"text-center hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-br from-purple-50 to-indigo-50 cursor-pointer",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:(r==null?void 0:r.active_requests_count)||0}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Active Requests"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:(r==null?void 0:r.active_requests_count)>0?"In progress":"No issues"})]})}),e.jsx(ne,{to:"/tenant/properties",children:e.jsxs(B,{className:"text-center hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-br from-emerald-50 to-green-50 cursor-pointer",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:(r==null?void 0:r.total_properties)||0}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"My Properties"}),e.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:(r==null?void 0:r.total_properties)===1?"Single unit":"Multiple units"})]})})]})},Uy=({data:r,loading:l=!1})=>{var m,h,f;const o=b=>new Date(b).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),i=b=>b<=30?"text-red-600":b<=90?"text-amber-600":"text-emerald-600",u=b=>b<=30?"Urgent renewal required":b<=90?"Renewal recommended":"Lease active";return l?e.jsx(B,{header:"Lease Information",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3"})]})]}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):r?e.jsx(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lease Information"}),e.jsx(ne,{to:"/tenant/lease",children:e.jsx(O,{variant:"secondary",size:"sm",children:"Manage Lease "})})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Lease Start"}),e.jsx("p",{className:"text-gray-900 font-medium",children:o(r.lease_start)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Lease End"}),e.jsx("p",{className:"text-gray-900 font-medium",children:o(r.lease_end)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Monthly Rent"}),e.jsxs("p",{className:"text-teal-600 font-semibold text-lg",children:["SAR ",(m=r.monthly_rent)==null?void 0:m.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Remaining"}),e.jsx("span",{className:`text-sm font-semibold ${i(r.remaining_days)}`,children:u(r.remaining_days)})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${i(r.remaining_days)}`,children:r.remaining_months}),e.jsx("div",{className:"text-xs text-gray-500",children:"Months"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${i(r.remaining_days)}`,children:r.remaining_days}),e.jsx("div",{className:"text-xs text-gray-500",children:"Days"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${r.remaining_days<=30?"bg-red-500":r.remaining_days<=90?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.max(5,Math.min(95,r.remaining_days/365*100))}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["SAR ",(h=r.security_deposit)==null?void 0:h.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Contract Type"}),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:r.contract_type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Auto Renewal"}),e.jsx("span",{className:`font-medium ${r.auto_renewal?"text-emerald-600":"text-gray-900"}`,children:r.auto_renewal?"Enabled":"Disabled"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Notice Period"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[r.notice_period_days," days"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Due"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[r.payment_due_date,r.payment_due_date===1?"st":r.payment_due_date===2?"nd":r.payment_due_date===3?"rd":"th"," of month"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Late Fee"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[r.late_fee_percentage,"% per month"]})]})]})]}),((f=r.renewal_options)==null?void 0:f.available)&&e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Lease Renewal Available"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Early renewal discount: ",r.renewal_options.early_renewal_discount,"% off"]}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Deadline: ",o(r.renewal_options.renewal_deadline)]})]}),e.jsx(ne,{to:"/tenant/lease",children:e.jsx(O,{variant:"primary",size:"sm",children:"Renew Now"})})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[e.jsx(ne,{to:"/tenant/lease",children:e.jsx(O,{variant:"secondary",children:"View Full Agreement"})}),e.jsx(ne,{to:"/tenant/documents",children:e.jsx(O,{variant:"ghost",children:"Download Contract"})}),r.remaining_days<=90&&e.jsx(ne,{to:"/tenant/lease",children:e.jsx(O,{variant:"primary",children:"Discuss Renewal"})})]})]})}):e.jsx(B,{header:"Lease Information",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-500",children:"No lease information available"})]})})},qy=({data:r,loading:l=!1})=>{var b,x;const o=g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),i=g=>{switch(g){case"current":return"text-emerald-600 bg-emerald-50";case"due_soon":return"text-amber-600 bg-amber-50";case"overdue":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},u=g=>{switch(g){case"current":return"All Paid";case"due_soon":return"Due Soon";case"overdue":return"Overdue";default:return"Unknown"}},m=g=>{const M=new Date(g)-new Date;return Math.ceil(M/(1e3*60*60*24))};if(l)return e.jsx(B,{header:"Payment Summary",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})});if(!r)return e.jsx(B,{header:"Payment Summary",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsx("p",{className:"text-gray-500",children:"No payment information available"})]})});const h=m(r.next_payment_due),f=h<0?"overdue":h<=7?"due_soon":"current";return e.jsx(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Payment Summary"}),e.jsx(ne,{to:"/tenant/payments",children:e.jsx(O,{variant:"secondary",size:"sm",children:"View All "})})]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-lg border ${i(f)}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Next Payment"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",o(r.next_payment_due)]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(f)}`,children:u(f)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["SAR ",(b=r.next_payment_amount)==null?void 0:b.toLocaleString()]}),e.jsx("div",{className:"text-right",children:h>=0?e.jsx("p",{className:"text-sm text-gray-600",children:h===0?"Due today":`${h} days left`}):e.jsxs("p",{className:"text-sm text-red-600 font-medium",children:[Math.abs(h)," days overdue"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-emerald-600",children:["SAR ",(x=r.total_paid_this_year)==null?void 0:x.toLocaleString()]}),e.jsx("div",{className:"text-gray-600",children:"Paid This Year"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:new Date().getMonth()+1}),e.jsx("div",{className:"text-gray-600",children:"Payments Made"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Payments"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"February 2024"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Rent payment"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-emerald-600",children:"SAR 2,400"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Paid"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"January 2024"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Rent payment"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-emerald-600",children:"SAR 2,400"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Paid"})]})]})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[e.jsx(ne,{to:"/tenant/payments",children:e.jsx(O,{variant:f==="overdue"?"primary":"secondary",fullWidth:!0,children:f==="overdue"?"Pay Now":"Make Payment"})}),e.jsx(ne,{to:"/tenant/payments",children:e.jsx(O,{variant:"ghost",fullWidth:!0,children:"View Payment History"})})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h6",{className:"text-xs font-medium text-gray-700 mb-2",children:"Accepted Payment Methods"}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsx("span",{children:"Bank Transfer"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.jsx("span",{children:"Cash"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 1v16.24a2 2 0 01-1.85 1.995l-.15.005H5a2 2 0 01-2-2V3a2 2 0 012-2h2a2 2 0 012 2v14h8a2 2 0 002-2V5a2 2 0 00-2-2H9z"})}),e.jsx("span",{children:"Cheque"})]})]})]})]})})},Hy=()=>{var x,g;const{user:r}=Be(),[l,o]=N.useState(null),[i,u]=N.useState(!0),[m,h]=N.useState(null);N.useEffect(()=>{f()},[]);const f=async()=>{try{u(!0),h(null);const p=await $a.getTenantDashboard(r==null?void 0:r.id);o(p.data)}catch(p){console.error("Error loading dashboard data:",p),h("Failed to load dashboard data. Please try again.")}finally{u(!1)}},b=p=>new Date(p).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:f,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r==null?void 0:r.first_name,"!"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Here's an overview of your rental information and account status"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:f,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(ne,{to:"/tenant/maintenance",children:e.jsx(O,{variant:"primary",children:"Request Maintenance"})})]})]}),e.jsx(By,{data:l==null?void 0:l.quick_stats,loading:i}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"My Current Property"}),e.jsx(ne,{to:"/tenant/properties",children:e.jsx(O,{variant:"secondary",size:"sm",children:"View Details "})})]}),children:i?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]}):l!=null&&l.current_property?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200 rounded-lg overflow-hidden",children:[e.jsx("img",{src:l.current_property.image,alt:l.current_property.property_name,className:"w-full h-full object-cover",onError:p=>{p.target.src="https://via.placeholder.com/600x300?text=Property+Image"}}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:"Active Lease"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:l.current_property.property_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Unit: ",l.current_property.unit_number]}),e.jsx("p",{className:"text-sm text-gray-500",children:l.current_property.address})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-semibold text-teal-600",children:["SAR ",(x=l.current_property.monthly_rent)==null?void 0:x.toLocaleString(),"/month"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[l.current_property.bedrooms," bed, ",l.current_property.bathrooms," bath"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[l.current_property.area_sqft," sq ft"]})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("p",{className:"text-gray-500",children:"No property information available"})]})}),e.jsx(Uy,{data:l==null?void 0:l.lease_info,loading:i}),e.jsx(B,{header:"Recent Activity",children:i?e.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((p,C)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/2"})]})]},C))}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-emerald-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Rent payment processed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"February 2024 - SAR 2,400"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"2 days ago"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Maintenance request updated"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Kitchen sink repair - In Progress"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"3 days ago"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-amber-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Utility bill received"}),e.jsx("p",{className:"text-xs text-gray-500",children:"DEWA - SAR 265 due Feb 15"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"5 days ago"})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(qy,{data:l==null?void 0:l.payment_summary,loading:i}),e.jsx(B,{header:"Pending Bills",children:i?e.jsx("div",{className:"space-y-3",children:Array.from({length:2}).map((p,C)=>e.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-1/3"})]},C))}):((g=l==null?void 0:l.pending_bills)==null?void 0:g.length)>0?e.jsxs("div",{className:"space-y-3",children:[l.pending_bills.map(p=>e.jsx("div",{className:"p-3 border border-amber-200 bg-amber-50 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 capitalize",children:[p.bill_type," - ",p.provider]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",b(p.due_date)]})]}),e.jsxs("span",{className:"text-sm font-semibold text-amber-700",children:["SAR ",p.amount]})]})},p.id)),e.jsx(ne,{to:"/tenant/bills",children:e.jsx(O,{variant:"secondary",size:"sm",fullWidth:!0,children:"View All Bills"})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-300 mb-2",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-sm text-gray-500",children:"No pending bills"})]})}),e.jsx(B,{header:"Quick Actions",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{to:"/tenant/payments",children:e.jsx(O,{variant:"primary",fullWidth:!0,children:"Make Payment"})}),e.jsx(ne,{to:"/tenant/maintenance",children:e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Request Maintenance"})}),e.jsx(ne,{to:"/tenant/documents",children:e.jsx(O,{variant:"ghost",fullWidth:!0,children:"View Documents"})})]})}),e.jsx(B,{header:"Emergency Contact",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Property Manager"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Al-Rashid Properties"}),e.jsx("a",{href:"tel:+966559876543",className:"text-sm text-teal-600 hover:text-teal-700 font-medium",children:"+966 55 987 6543"})]}),e.jsx("div",{className:"text-center pt-3 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500",children:"For urgent maintenance issues outside business hours"})})]})})]})]})]})},Py=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null);N.useEffect(()=>{f()},[]);const f=async()=>{try{u(!0),h(null);const x=await $a.getTenantProperties(r==null?void 0:r.id);o(x.data||[])}catch(x){console.error("Error loading properties:",x),h("Failed to load properties. Please try again.")}finally{u(!1)}},b=x=>new Date(x).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Properties"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:f,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Properties"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"View details of your rented properties and lease information"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(O,{onClick:f,variant:"secondary",size:"sm",loading:i,children:"Refresh"})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:i?Array.from({length:2}).map((x,g)=>e.jsx(B,{loading:!0,className:"h-96"},g)):l.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-gray-500",children:"You don't have any rented properties."})]}):l.map(x=>{var g,p,C,M;return e.jsxs(B,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200 -m-6 mb-6",children:[e.jsx("img",{src:x.image,alt:x.property_name,className:"w-full h-full object-cover",onError:R=>{R.target.src="https://via.placeholder.com/600x300?text=Property+Image"}}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:"Active Lease"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-white bg-opacity-90 text-gray-700",children:x.property_type})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x.property_name}),e.jsxs("p",{className:"text-gray-600",children:["Unit: ",x.unit_number]}),e.jsx("p",{className:"text-sm text-gray-500",children:x.address})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:x.bedrooms}),e.jsx("div",{className:"text-gray-500",children:"Bedrooms"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:x.bathrooms}),e.jsx("div",{className:"text-gray-500",children:"Bathrooms"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:x.area_sqft}),e.jsx("div",{className:"text-gray-500",children:"Sq Ft"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Lease Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Start Date:"}),e.jsx("p",{className:"font-medium text-blue-900",children:b(x.lease_start)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"End Date:"}),e.jsx("p",{className:"font-medium text-blue-900",children:b(x.lease_end)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Monthly Rent:"}),e.jsxs("p",{className:"font-semibold text-blue-900",children:["SAR ",(g=x.monthly_rent)==null?void 0:g.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Deposit:"}),e.jsxs("p",{className:"font-medium text-blue-900",children:["SAR ",(p=x.deposit_amount)==null?void 0:p.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-emerald-900 mb-2",children:"Ejari Certificate"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-700",children:"Ejari Number:"}),e.jsx("p",{className:"font-medium text-emerald-900",children:x.ejari_number})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-700",children:"Expiry Date:"}),e.jsx("p",{className:"font-medium text-emerald-900",children:b(x.ejari_expiry)})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-emerald-700",children:"Status:"}),e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:x.ejari_status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Features"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(C=x.amenities)==null?void 0:C.slice(0,4).map((R,A)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:R},A)),((M=x.amenities)==null?void 0:M.length)>4&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:["+",x.amenities.length-4," more"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Information"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Landlord:"})," ",x.landlord_name]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",x.landlord_phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Manager:"})," ",x.property_manager]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[e.jsx(O,{variant:"primary",size:"sm",fullWidth:!0,children:"Contact Landlord"}),e.jsx(O,{variant:"secondary",size:"sm",fullWidth:!0,children:"Request Maintenance"})]})]})]},x.id)})})]})},Vy=()=>{var R,A,j,k,S,_;const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState("current");N.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0),h(null);const E=await $a.getLeaseAgreements(r==null?void 0:r.id);o(E.data||[])}catch(E){console.error("Error loading leases:",E),h("Failed to load lease information. Please try again.")}finally{u(!1)}},g=E=>new Date(E).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),p=l.find(E=>E.status==="active"),C=p?Math.ceil((new Date(p.lease_end)-new Date)/(1e3*60*60*24)):0,M=[{id:"current",label:"Current Lease"},{id:"terms",label:"Terms & Conditions"},{id:"renewal",label:"Renewal Options"}];return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Lease Information"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:x,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lease Management"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your lease agreements, terms, and renewal options"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:x,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Download Agreement"})]})]}),!i&&p&&C<=90&&e.jsx("div",{className:`p-4 rounded-lg border ${C<=30?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:`w-5 h-5 mt-0.5 ${C<=30?"text-red-600":"text-amber-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-sm font-medium ${C<=30?"text-red-900":"text-amber-900"}`,children:C<=30?"Urgent: Lease Renewal Required":"Lease Renewal Reminder"}),e.jsxs("p",{className:`text-sm mt-1 ${C<=30?"text-red-700":"text-amber-700"}`,children:["Your lease expires in ",C," days (",g(p.lease_end),"). Please contact your landlord to discuss renewal options."]})]}),e.jsx(O,{variant:"primary",size:"sm",children:"Discuss Renewal"})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:M.map(E=>e.jsx("button",{onClick:()=>b(E.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===E.id?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:E.label},E.id))})}),f==="current"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:i?e.jsxs(e.Fragment,{children:[e.jsx(B,{loading:!0,className:"h-64"}),e.jsx(B,{loading:!0,className:"h-64"})]}):p?e.jsxs(e.Fragment,{children:[e.jsx(B,{header:"Lease Overview",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),e.jsx("p",{className:"text-gray-900 font-medium",children:g(p.lease_start)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"End Date"}),e.jsx("p",{className:"text-gray-900 font-medium",children:g(p.lease_end)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Monthly Rent"}),e.jsxs("p",{className:"text-teal-600 font-semibold text-lg",children:["SAR ",(R=p.monthly_rent)==null?void 0:R.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Security Deposit"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:["SAR ",(A=p.security_deposit)==null?void 0:A.toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Contract Type"}),e.jsx("p",{className:"text-gray-900 font-medium capitalize",children:p.contract_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Auto Renewal"}),e.jsx("p",{className:`font-medium ${p.auto_renewal?"text-emerald-600":"text-gray-900"}`,children:p.auto_renewal?"Enabled":"Disabled"})]})]})]})}),e.jsx(B,{header:"Payment Terms",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Due Date"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:[p.payment_due_date,p.payment_due_date===1?"st":p.payment_due_date===2?"nd":p.payment_due_date===3?"rd":"th"," of each month"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Late Fee"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:[p.late_fee_percentage,"% per month"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notice Period"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:[p.notice_period_days," days"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Commission"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:["SAR ",p.commission]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Next Payment Due"}),e.jsxs("p",{className:"text-blue-700",children:["March 1, 2024 - SAR ",(j=p.monthly_rent)==null?void 0:j.toLocaleString()]})]})]})})]}):e.jsxs("div",{className:"col-span-2 text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Lease Found"}),e.jsx("p",{className:"text-gray-500",children:"No lease agreement information available."})]})}),f==="terms"&&e.jsx(B,{header:"Terms & Conditions",children:i?e.jsx("div",{className:"animate-pulse space-y-3",children:Array.from({length:5}).map((E,v)=>e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"},v))}):p!=null&&p.terms_and_conditions?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Please review the following terms and conditions of your lease agreement:"}),e.jsx("ul",{className:"space-y-3",children:p.terms_and_conditions.map((E,v)=>e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-teal-100 rounded-full flex items-center justify-center mt-0.5",children:e.jsx("span",{className:"text-xs font-medium text-teal-600",children:v+1})}),e.jsx("p",{className:"text-gray-700",children:E})]},v))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-500",children:"For questions about these terms, please contact your property manager or landlord."})})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No terms and conditions available."})})}),f==="renewal"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:i?e.jsxs(e.Fragment,{children:[e.jsx(B,{loading:!0,className:"h-64"}),e.jsx(B,{loading:!0,className:"h-64"})]}):(k=p==null?void 0:p.renewal_options)!=null&&k.available?e.jsxs(e.Fragment,{children:[e.jsx(B,{header:"Renewal Options",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[e.jsx("h4",{className:"font-medium text-emerald-900 mb-2",children:"Early Renewal Discount"}),e.jsxs("p",{className:"text-emerald-700 text-sm mb-3",children:["Renew your lease early and save ",p.renewal_options.early_renewal_discount,"% on your monthly rent!"]}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Current Rent:"})," SAR ",(S=p.monthly_rent)==null?void 0:S.toLocaleString(),"/month"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Discounted Rent:"})," SAR ",(_=Math.round(p.monthly_rent*(1-p.renewal_options.early_renewal_discount/100)))==null?void 0:_.toLocaleString(),"/month"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Renewal Deadline"}),e.jsx("p",{className:"text-gray-900 font-medium",children:g(p.renewal_options.renewal_deadline)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Projected Rent Increase"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:[p.rent_increase_percentage,"% annually"]})]})]})}),e.jsx(B,{header:"Renewal Process",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-600",children:"1"})}),e.jsx("p",{className:"text-gray-700",children:"Contact your landlord to express interest"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-600",children:"2"})}),e.jsx("p",{className:"text-gray-700",children:"Negotiate terms and rental amount"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-600",children:"3"})}),e.jsx("p",{className:"text-gray-700",children:"Sign new lease agreement"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-600",children:"4"})}),e.jsx("p",{className:"text-gray-700",children:"Update Ejari registration"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx(O,{variant:"primary",fullWidth:!0,children:"Start Renewal Process"})})]})})]}):e.jsxs("div",{className:"col-span-2 text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Renewal Options Available"}),e.jsx("p",{className:"text-gray-500",children:"Contact your landlord for renewal information."})]})})]})},Fy=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState("history");N.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0),h(null);const S=await $a.getPaymentHistory(r==null?void 0:r.id);o(S.data||[])}catch(S){console.error("Error loading payments:",S),h("Failed to load payment history. Please try again.")}finally{u(!1)}},g=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=S=>{switch(S){case"paid":return"bg-emerald-100 text-emerald-800";case"pending":return"bg-amber-100 text-amber-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=[{key:"payment_date",title:"Date",render:(S,_)=>e.jsx("div",{className:"text-sm text-gray-900",children:g(_.payment_date)})},{key:"description",title:"Description",render:(S,_)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.description}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:_.payment_type})]})},{key:"amount",title:"Amount",render:(S,_)=>{var E;return e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["SAR ",(E=_.amount)==null?void 0:E.toLocaleString(),_.late_fee>0&&e.jsxs("div",{className:"text-xs text-red-600",children:["+SAR ",_.late_fee," late fee"]})]})}},{key:"method",title:"Method",render:(S,_)=>{var E;return e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:(E=_.method)==null?void 0:E.replace("_"," ")})}},{key:"status",title:"Status",render:(S,_)=>{var E,v;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(_.status)}`,children:((E=_.status)==null?void 0:E.charAt(0).toUpperCase())+((v=_.status)==null?void 0:v.slice(1))})}},{key:"reference",title:"Reference",render:(S,_)=>e.jsx("div",{className:"text-sm text-gray-500",children:_.reference_number})}],M=[{id:"history",label:"Payment History"},{id:"upcoming",label:"Upcoming Payments"},{id:"methods",label:"Payment Methods"}],R=l.reduce((S,_)=>S+(_.amount||0),0),A=new Date().getFullYear(),j=l.filter(S=>new Date(S.payment_date).getFullYear()===A),k=j.reduce((S,_)=>S+(_.amount||0),0);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Payment Data"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:x,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment Center"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your rent payments and view payment history"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:x,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Make Payment"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center bg-gradient-to-br from-emerald-50 to-green-50",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${k.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Paid This Year"}),e.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:A})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse mx-auto"}):j.length}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Payments Made"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"This year"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:"SAR 2,400"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Next Payment"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"Due Mar 1"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i?e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${R.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Paid"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"All time"})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:M.map(S=>e.jsx("button",{onClick:()=>b(S.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===S.id?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:S.label},S.id))})}),f==="history"&&e.jsx(B,{header:`Payment History (${l.length})`,children:e.jsx(Xa,{columns:C,data:l,loading:i,emptyMessage:"No payment history found",variant:"default"})}),f==="upcoming"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(B,{header:"Next Payment Due",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900",children:"March 2024 Rent"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Due: March 1, 2024"})]}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800",children:"Due Soon"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-2xl font-bold text-amber-900",children:"SAR 2,400"}),e.jsx("span",{className:"text-sm text-amber-700",children:"5 days left"})]})]}),e.jsx(O,{variant:"primary",fullWidth:!0,children:"Pay Now"})]})}),e.jsx(B,{header:"Payment Schedule",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"April 2024"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Due: April 1, 2024"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"SAR 2,400"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"May 2024"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Due: May 1, 2024"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"SAR 2,400"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"June 2024"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Due: June 1, 2024"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"SAR 2,400"})]})]})})]}),f==="methods"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(B,{header:"Available Payment Methods",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-teal-300 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Bank Transfer"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Direct transfer to landlord's account"})]}),e.jsx("span",{className:"text-xs bg-emerald-100 text-emerald-800 px-2 py-1 rounded-full",children:"Recommended"})]})}),e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-teal-300 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Cash Payment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay in person at property office"})]})]})}),e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-teal-300 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Cheque"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Post-dated cheques"})]})]})})]})}),e.jsx(B,{header:"Payment Instructions",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Bank Transfer Details"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Bank:"})," Emirates NBD"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Name:"})," Al-Rashid Properties"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," 1234567890"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"IBAN:"})," AE070260001234567890"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reference:"})," Unit A-205 + Your Name"]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Important Notes"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:" Payments are due on the 1st of each month"}),e.jsx("li",{children:" Late payments incur a 2% monthly fee"}),e.jsx("li",{children:" Always include your unit number in the reference"}),e.jsx("li",{children:" Keep payment receipts for your records"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(O,{variant:"secondary",fullWidth:!0,children:"Download Payment Receipt Template"})})]})})]})]})},Yy=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState("all");N.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0),h(null);const S=await $a.getUtilityBills(r==null?void 0:r.id);o(S.data||[])}catch(S){console.error("Error loading bills:",S),h("Failed to load utility bills. Please try again.")}finally{u(!1)}},g=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=S=>{switch(S){case"paid":return"bg-emerald-100 text-emerald-800";case"pending":return"bg-amber-100 text-amber-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=S=>{switch(S){case"electricity":return e.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"water":return e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 7.172V5L8 4z"})});case"internet":return e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})});default:return e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}},M=[{key:"bill_type",title:"Type",render:(S,_)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[C(_.bill_type),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:_.bill_type}),e.jsx("div",{className:"text-sm text-gray-500",children:_.provider})]})]})},{key:"billing_period",title:"Period",render:(S,_)=>e.jsx("div",{className:"text-sm text-gray-900",children:_.billing_period})},{key:"consumption",title:"Usage",render:(S,_)=>e.jsxs("div",{className:"text-sm text-gray-900",children:[_.consumption," ",_.unit]})},{key:"amount",title:"Amount",render:(S,_)=>e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["SAR ",_.amount]})},{key:"due_date",title:"Due Date",render:(S,_)=>e.jsx("div",{className:"text-sm text-gray-900",children:g(_.due_date)})},{key:"status",title:"Status",render:(S,_)=>{var E,v;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(_.status)}`,children:((E=_.status)==null?void 0:E.charAt(0).toUpperCase())+((v=_.status)==null?void 0:v.slice(1))})}},{key:"actions",title:"Actions",render:(S,_)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),_.status==="pending"&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Pay"})]})}],R=l.filter(S=>f==="all"?!0:S.status===f),A=l.filter(S=>S.status==="pending").reduce((S,_)=>S+_.amount,0),j=l.filter(S=>S.status==="paid").reduce((S,_)=>S+_.amount,0),k=l.filter(S=>S.status==="pending").length;return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Bills"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:x,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bills & Utilities"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Track and manage your utility bills and service charges"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:x,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Pay All Pending"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:i?e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse mx-auto"}):k}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Pending Bills"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"Requires payment"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-red-50 to-pink-50",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:i?e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${A}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Amount Due"}),e.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Total pending"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-emerald-50 to-green-50",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse mx-auto"}):`SAR ${j}`}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Paid This Year"}),e.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:"2024"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):l.length}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Bills"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"All time"})]})]}),!i&&k>0&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-medium text-amber-900",children:[k," Pending Bill",k>1?"s":""]}),e.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["You have SAR ",A," in pending utility bills. Pay them before the due date to avoid late fees."]})]}),e.jsx(O,{variant:"primary",size:"sm",children:"Pay Now"})]})}),e.jsx(B,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Utility Bills"}),e.jsxs("select",{value:f,onChange:N.useCallback(S=>b(S.target.value),[]),className:"bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"all",children:"All Bills"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]}),children:e.jsx(Xa,{columns:M,data:R,loading:i,emptyMessage:"No bills found",variant:"default"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(B,{header:"Electricity (DEWA)",className:"bg-gradient-to-br from-yellow-50 to-amber-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Month"}),e.jsx("span",{className:"font-semibold text-yellow-700",children:"SAR 180"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Usage"}),e.jsx("span",{className:"text-sm text-gray-900",children:"450 kWh"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Due Date"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Feb 15, 2024"})]}),e.jsx(O,{variant:"secondary",size:"sm",fullWidth:!0,children:"View Details"})]})}),e.jsx(B,{header:"Water (DEWA)",className:"bg-gradient-to-br from-blue-50 to-cyan-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Month"}),e.jsx("span",{className:"font-semibold text-blue-700",children:"SAR 85"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Usage"}),e.jsx("span",{className:"text-sm text-gray-900",children:"12 m"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Due Date"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Feb 15, 2024"})]}),e.jsx(O,{variant:"secondary",size:"sm",fullWidth:!0,children:"View Details"})]})}),e.jsx(B,{header:"Internet (Etisalat)",className:"bg-gradient-to-br from-purple-50 to-indigo-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Month"}),e.jsx("span",{className:"font-semibold text-purple-700",children:"SAR 299"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Plan"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Unlimited"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800",children:"Paid"})]}),e.jsx(O,{variant:"ghost",size:"sm",fullWidth:!0,children:"View Details"})]})})]}),e.jsx(B,{header:"Payment Tips & Information",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Payment Methods"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Online banking transfer"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"DEWA/Etisalat mobile apps"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Payment kiosks"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Customer service centers"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Important Notes"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:" Bills are typically issued monthly"}),e.jsx("li",{children:" Payment due dates are usually 15 days from issue"}),e.jsx("li",{children:" Late payments may incur additional charges"}),e.jsx("li",{children:" Keep payment receipts for your records"}),e.jsx("li",{children:" Contact providers for payment plan options"})]})]})]})})]})},Gy=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState(!1),[x,g]=N.useState({issue_type:"",title:"",description:"",priority:"medium",tenant_available:"weekdays_morning"});N.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0),h(null);const _=await $a.getMaintenanceRequests(r==null?void 0:r.id);o(_.data||[])}catch(_){console.error("Error loading maintenance requests:",_),h("Failed to load maintenance requests. Please try again.")}finally{u(!1)}},C=async _=>{_.preventDefault();try{const E=await $a.submitMaintenanceRequest(r==null?void 0:r.id,{...x,property_id:1});E.success&&(o([E.data,...l]),g({issue_type:"",title:"",description:"",priority:"medium",tenant_available:"weekdays_morning"}),b(!1))}catch(E){console.error("Error submitting request:",E)}},M=_=>new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),R=_=>{switch(_){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-amber-100 text-amber-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=_=>{switch(_){case"completed":return"bg-emerald-100 text-emerald-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},j=[{key:"title",title:"Issue",render:(_,E)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.title}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:E.issue_type})]})},{key:"priority",title:"Priority",render:(_,E)=>{var v,H;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R(E.priority)}`,children:((v=E.priority)==null?void 0:v.charAt(0).toUpperCase())+((H=E.priority)==null?void 0:H.slice(1))})}},{key:"status",title:"Status",render:(_,E)=>{var v,H;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(E.status)}`,children:((v=E.status)==null?void 0:v.replace("_"," ").charAt(0).toUpperCase())+((H=E.status)==null?void 0:H.replace("_"," ").slice(1))})}},{key:"submitted_date",title:"Submitted",render:(_,E)=>e.jsx("div",{className:"text-sm text-gray-900",children:M(E.submitted_date)})},{key:"assigned_vendor",title:"Assigned To",render:(_,E)=>e.jsx("div",{className:"text-sm text-gray-900",children:E.assigned_vendor||"Not assigned"})},{key:"actions",title:"Actions",render:(_,E)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),E.status==="completed"&&!E.tenant_rating&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Rate"})]})}],k=l.filter(_=>_.status!=="completed").length,S=l.filter(_=>_.status==="completed").length;return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Maintenance Requests"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:p,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Maintenance Requests"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Submit and track maintenance requests for your property"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:p,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",onClick:()=>b(!0),children:"New Request"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(B,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):k}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Active Requests"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"In progress"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-emerald-50 to-green-50",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):S}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Completed"}),e.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:"This year"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):l.filter(_=>_.status==="pending").length}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Pending"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"Awaiting assignment"})]}),e.jsxs(B,{className:"text-center bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i?e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse mx-auto"}):l.length}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total Requests"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"All time"})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(B,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Submit Maintenance Request"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Issue Type"}),e.jsxs("select",{value:x.issue_type,onChange:N.useCallback(_=>g(E=>({...E,issue_type:_.target.value})),[]),className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0,children:[e.jsx("option",{value:"",children:"Select issue type"}),e.jsx("option",{value:"plumbing",children:"Plumbing"}),e.jsx("option",{value:"electrical",children:"Electrical"}),e.jsx("option",{value:"hvac",children:"HVAC/Air Conditioning"}),e.jsx("option",{value:"appliances",children:"Appliances"}),e.jsx("option",{value:"structural",children:"Structural"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Priority"}),e.jsxs("select",{value:x.priority,onChange:N.useCallback(_=>g(E=>({...E,priority:_.target.value})),[]),className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Issue Title"}),e.jsx("input",{type:"text",value:x.title,onChange:N.useCallback(_=>g(E=>({...E,title:_.target.value})),[]),placeholder:"Brief description of the issue",className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed Description"}),e.jsx("textarea",{value:x.description,onChange:N.useCallback(_=>g(E=>({...E,description:_.target.value})),[]),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Please provide detailed information about the issue...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Preferred Time for Access"}),e.jsxs("select",{value:x.tenant_available,onChange:N.useCallback(_=>g(E=>({...E,tenant_available:_.target.value})),[]),className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"weekdays_morning",children:"Weekdays Morning (8AM-12PM)"}),e.jsx("option",{value:"weekdays_afternoon",children:"Weekdays Afternoon (12PM-5PM)"}),e.jsx("option",{value:"weekdays_evening",children:"Weekdays Evening (5PM-8PM)"}),e.jsx("option",{value:"weekends",children:"Weekends"}),e.jsx("option",{value:"anytime",children:"Anytime"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(O,{type:"button",variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),e.jsx(O,{type:"submit",variant:"primary",children:"Submit Request"})]})]})]})}),e.jsx(B,{header:`Maintenance Requests (${l.length})`,children:e.jsx(Xa,{columns:j,data:l,loading:i,emptyMessage:"No maintenance requests found",variant:"default"})}),e.jsx(B,{header:"Emergency Maintenance",children:e.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-900",children:"Emergency Situations"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"For urgent issues like water leaks, electrical hazards, or security concerns, contact the emergency hotline immediately."}),e.jsx("div",{className:"mt-3",children:e.jsxs("a",{href:"tel:+971800123456",className:"inline-flex items-center px-3 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Emergency Hotline: +971 800 123 456"]})})]})]})})}),e.jsx(B,{header:"Maintenance Tips",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Before Submitting a Request"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Check if the issue is covered by your lease agreement"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Try basic troubleshooting steps first"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Take photos of the issue if possible"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-teal-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Provide detailed description of the problem"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Response Times"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-red-800",children:"High Priority"}),e.jsx("span",{className:"text-sm text-red-600",children:"24 hours"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-amber-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Medium Priority"}),e.jsx("span",{className:"text-sm text-amber-600",children:"3-5 days"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Low Priority"}),e.jsx("span",{className:"text-sm text-green-600",children:"1-2 weeks"})]})]})]})]})})]})},$y=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState(""),x=N.useCallback(k=>{b(k.target.value)},[]);N.useEffect(()=>{g()},[]);const g=async()=>{try{u(!0),h(null);const k=await $a.getTenantDocuments(r==null?void 0:r.id);o(k.data||[])}catch(k){console.error("Error loading documents:",k),h("Failed to load documents. Please try again.")}finally{u(!1)}},p=k=>new Date(k).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),C=k=>{switch(k){case"ejari_certificate":return e.jsx("svg",{className:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})});case"lease_agreement":return e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"security_deposit_receipt":return e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})});default:return e.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}},M=(k,S)=>k==="expired"?"bg-red-100 text-red-800":S&&Math.ceil((new Date(S)-new Date)/864e5)<=30?"bg-amber-100 text-amber-800":"bg-emerald-100 text-emerald-800",R=(k,S)=>{if(k==="expired")return"Expired";if(S){const _=Math.ceil((new Date(S)-new Date)/864e5);if(_<=30)return`Expires in ${_} days`}return"Active"},A=N.useMemo(()=>l.filter(k=>k.title.toLowerCase().includes(f.toLowerCase())||k.document_type.toLowerCase().includes(f.toLowerCase())),[l,f]),j=N.useMemo(()=>({ejari_certificate:A.filter(k=>k.document_type==="ejari_certificate"),lease_agreement:A.filter(k=>k.document_type==="lease_agreement"),receipts:A.filter(k=>k.document_type==="security_deposit_receipt"),other:A.filter(k=>!["ejari_certificate","lease_agreement","security_deposit_receipt"].includes(k.document_type))}),[A]);return m?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Documents"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m}),e.jsx(O,{onClick:g,variant:"primary",children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Documents"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Access and manage your lease documents, certificates, and receipts"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[e.jsx(O,{onClick:g,variant:"secondary",size:"sm",loading:i,children:"Refresh"}),e.jsx(O,{variant:"primary",children:"Upload Document"})]})]}),e.jsx(B,{children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Search Documents"}),e.jsx("input",{type:"text",placeholder:"Search documents...",value:f,onChange:x,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(B,{header:"Ejari Certificates",children:i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map((k,S)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-24 bg-gray-200 rounded"})},S))}):j.ejari_certificate.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.ejari_certificate.map(k=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-emerald-300 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:C(k.document_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),e.jsx("p",{className:"text-sm text-gray-500",children:k.file_size}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Uploaded: ",p(k.upload_date)]}),k.expiry_date&&e.jsxs("p",{className:"text-xs text-gray-400",children:["Expires: ",p(k.expiry_date)]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(k.status,k.expiry_date)}`,children:R(k.status,k.expiry_date)}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]})]})]})},k.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("p",{className:"text-gray-500",children:"No Ejari certificates found"})]})}),e.jsx(B,{header:"Lease Agreements",children:i?e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-24 bg-gray-200 rounded"})}):j.lease_agreement.length>0?e.jsx("div",{className:"space-y-4",children:j.lease_agreement.map(k=>{var S,_;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:C(k.document_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),e.jsx("p",{className:"text-sm text-gray-500",children:k.file_size}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Uploaded: ",p(k.upload_date)]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(k.status)}`,children:((S=k.status)==null?void 0:S.charAt(0).toUpperCase())+((_=k.status)==null?void 0:_.slice(1))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]})]})]})},k.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-500",children:"No lease agreements found"})]})}),e.jsx(B,{header:"Receipts & Payments",children:i?e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-24 bg-gray-200 rounded"})}):j.receipts.length>0?e.jsx("div",{className:"space-y-4",children:j.receipts.map(k=>{var S,_;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:C(k.document_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),e.jsx("p",{className:"text-sm text-gray-500",children:k.file_size}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Uploaded: ",p(k.upload_date)]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(k.status)}`,children:((S=k.status)==null?void 0:S.charAt(0).toUpperCase())+((_=k.status)==null?void 0:_.slice(1))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]})]})]})},k.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})})}),e.jsx("p",{className:"text-gray-500",children:"No receipts found"})]})})]}),e.jsx(B,{header:"Document Services",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-emerald-50 rounded-lg",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-emerald-600 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ejari Renewal"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Renew your Ejari certificate online"}),e.jsx(O,{variant:"primary",size:"sm",children:"Renew Ejari"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-blue-600 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Download All"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download all documents as ZIP"}),e.jsx(O,{variant:"secondary",size:"sm",children:"Download ZIP"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-purple-600 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Share Documents"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share with authorized parties"}),e.jsx(O,{variant:"ghost",size:"sm",children:"Share"})]})]})})]})},mr=(r=500)=>new Promise(l=>setTimeout(l,r)),hr={admin:[{id:1,participant:{id:2,name:"Ahmed Al-Rashid",role:"owner",status:"online",property:"Al-Noor Complex"},messages:[{id:1,sender_id:2,text:"Hello, I need to discuss the maintenance budget for this quarter.",timestamp:"2024-02-20T09:30:00Z",status:"read"},{id:2,sender_id:1,text:"Of course! I've prepared the quarterly maintenance report. Let me share it with you.",timestamp:"2024-02-20T09:32:00Z",status:"read"},{id:3,sender_id:1,document:{name:"Q1_Maintenance_Report_2024.pdf",type:"application/pdf",size:"2.3 MB",url:"/documents/maintenance_report.pdf"},timestamp:"2024-02-20T09:33:00Z",status:"read"},{id:4,sender_id:2,text:"Thank you! I'll review this and get back to you with any questions.",timestamp:"2024-02-20T09:35:00Z",status:"read"},{id:5,sender_id:1,text:"Perfect. Also, I wanted to update you on the new tenant applications we received.",timestamp:"2024-02-20T14:20:00Z",status:"delivered"}]},{id:2,participant:{id:3,name:"Sarah Johnson",role:"tenant",status:"offline",property:"Al-Noor Complex - Unit A-205"},messages:[{id:6,sender_id:3,text:"Hi, I'm having an issue with the air conditioning in my unit. It's not cooling properly.",timestamp:"2024-02-19T16:45:00Z",status:"read"},{id:7,sender_id:1,text:"I'm sorry to hear about the AC issue. I'll arrange for a technician to visit your unit. Are you available tomorrow morning?",timestamp:"2024-02-19T17:10:00Z",status:"read"},{id:8,sender_id:3,text:"Yes, I'll be available between 9 AM and 12 PM. Thank you for the quick response!",timestamp:"2024-02-19T17:15:00Z",status:"read"},{id:9,sender_id:3,image:{name:"AC_unit_issue.jpg",url:"https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=300&fit=crop",size:"1.2 MB"},text:"Here's a photo of the AC unit showing the issue",timestamp:"2024-02-19T17:16:00Z",status:"read"},{id:10,sender_id:1,text:"Perfect! I've scheduled the technician for tomorrow at 10 AM. They'll contact you 30 minutes before arrival.",timestamp:"2024-02-19T17:30:00Z",status:"read"}]}],owner:[{id:3,participant:{id:1,name:"Admin Support",role:"admin",status:"online"},messages:[{id:11,sender_id:2,text:"Hello, I need to discuss the maintenance budget for this quarter.",timestamp:"2024-02-20T09:30:00Z",status:"read"},{id:12,sender_id:1,text:"Of course! I've prepared the quarterly maintenance report. Let me share it with you.",timestamp:"2024-02-20T09:32:00Z",status:"read"},{id:13,sender_id:1,document:{name:"Q1_Maintenance_Report_2024.pdf",type:"application/pdf",size:"2.3 MB",url:"/documents/maintenance_report.pdf"},timestamp:"2024-02-20T09:33:00Z",status:"read"}]},{id:4,participant:{id:3,name:"Sarah Johnson",role:"tenant",status:"offline",property:"Unit A-205"},messages:[{id:14,sender_id:3,text:"Hello Mr. Al-Rashid, I wanted to discuss the lease renewal for my unit.",timestamp:"2024-02-18T14:20:00Z",status:"read"},{id:15,sender_id:2,text:"Hello Sarah! I'd be happy to discuss the renewal. Your lease expires in June, correct?",timestamp:"2024-02-18T14:45:00Z",status:"read"},{id:16,sender_id:3,text:"Yes, that's right. I'm very happy with the unit and would like to renew for another year.",timestamp:"2024-02-18T15:00:00Z",status:"read"},{id:17,sender_id:2,text:"Excellent! I'll prepare the renewal documents. The rent will increase by 5% as per market rates.",timestamp:"2024-02-18T15:30:00Z",status:"read"},{id:18,sender_id:2,document:{name:"Lease_Renewal_Agreement_2024.pdf",type:"application/pdf",size:"1.8 MB",url:"/documents/lease_renewal.pdf"},text:"Here's the renewal agreement for your review",timestamp:"2024-02-18T16:00:00Z",status:"delivered"}]}],tenant:[{id:5,participant:{id:2,name:"Ahmed Al-Rashid",role:"owner",status:"online"},messages:[{id:19,sender_id:3,text:"Hello Mr. Al-Rashid, I wanted to discuss the lease renewal for my unit.",timestamp:"2024-02-18T14:20:00Z",status:"read"},{id:20,sender_id:2,text:"Hello Sarah! I'd be happy to discuss the renewal. Your lease expires in June, correct?",timestamp:"2024-02-18T14:45:00Z",status:"read"},{id:21,sender_id:3,text:"Yes, that's right. I'm very happy with the unit and would like to renew for another year.",timestamp:"2024-02-18T15:00:00Z",status:"read"},{id:22,sender_id:2,document:{name:"Lease_Renewal_Agreement_2024.pdf",type:"application/pdf",size:"1.8 MB",url:"/documents/lease_renewal.pdf"},text:"Here's the renewal agreement for your review",timestamp:"2024-02-18T16:00:00Z",status:"delivered"}]},{id:6,participant:{id:1,name:"Property Management",role:"admin",status:"online"},messages:[{id:23,sender_id:3,text:"Hi, I'm having an issue with the air conditioning in my unit. It's not cooling properly.",timestamp:"2024-02-19T16:45:00Z",status:"read"},{id:24,sender_id:1,text:"I'm sorry to hear about the AC issue. I'll arrange for a technician to visit your unit. Are you available tomorrow morning?",timestamp:"2024-02-19T17:10:00Z",status:"read"},{id:25,sender_id:3,image:{name:"AC_unit_issue.jpg",url:"https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=300&fit=crop",size:"1.2 MB"},text:"Here's a photo of the AC unit showing the issue",timestamp:"2024-02-19T17:16:00Z",status:"read"},{id:26,sender_id:1,text:"Perfect! I've scheduled the technician for tomorrow at 10 AM. They'll contact you 30 minutes before arrival.",timestamp:"2024-02-19T17:30:00Z",status:"read"},{id:27,sender_id:3,text:"Thank you so much for the quick response! I really appreciate it.",timestamp:"2024-02-19T17:35:00Z",status:"sent"}]}]};class Zy{async getConversations(l){return await mr(),{success:!0,data:hr[l]||[]}}async getConversation(l,o){await mr();const u=(hr[o]||[]).find(m=>m.id===parseInt(l));return u?{success:!0,data:u}:{success:!1,error:"Conversation not found"}}async sendMessage(l,o,i){await mr();const m=(hr[o]||[]).find(f=>f.id===parseInt(l));if(!m)return{success:!1,error:"Conversation not found"};const h={id:Date.now(),sender_id:i.sender_id,text:i.text,timestamp:new Date().toISOString(),status:"sent"};return m.messages.push(h),{success:!0,data:h}}async markAsRead(l,o,i){await mr();const m=(hr[o]||[]).find(h=>h.id===parseInt(l));return m?(m.messages.forEach(h=>{i.includes(h.id)&&(h.status="read")}),{success:!0,data:{updated:i.length}}):{success:!1,error:"Conversation not found"}}async searchConversations(l,o){return await mr(),{success:!0,data:(hr[l]||[]).filter(m=>{const h=m.participant.name.toLowerCase().includes(o.toLowerCase()),f=m.messages.some(b=>b.text&&b.text.toLowerCase().includes(o.toLowerCase()));return h||f})}}}const Ao=new Zy,Wy=({contacts:r,selectedContact:l,onSelectContact:o,currentUser:i})=>{const[u,m]=N.useState(""),h=C=>{m(C.target.value)},f=C=>{const M=new Date(C),A=(new Date-M)/(1e3*60*60);return A<24?M.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):A<168?M.toLocaleDateString("en-US",{weekday:"short"}):M.toLocaleDateString("en-US",{month:"short",day:"numeric"})},b=C=>{if(!C.messages||C.messages.length===0)return"No messages yet";const M=C.messages[C.messages.length-1];return M.text?M.text.length>50?M.text.substring(0,50)+"...":M.text:M.image?" Photo":M.document?" Document":"Message"},x=C=>C.messages?C.messages.filter(M=>M.sender_id!==(i==null?void 0:i.id)&&M.status!=="read").length:0,g=N.useMemo(()=>r.filter(C=>{var M,R,A,j;return((R=(M=C.participant)==null?void 0:M.name)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))||((j=(A=C.participant)==null?void 0:A.role)==null?void 0:j.toLowerCase().includes(u.toLowerCase()))}),[r,u]),p=N.useMemo(()=>g.sort((C,M)=>{var j,k;const R=(j=C.messages)==null?void 0:j[C.messages.length-1],A=(k=M.messages)==null?void 0:k[M.messages.length-1];return!R&&!A?0:R?A?new Date(A.timestamp)-new Date(R.timestamp):-1:1}),[g]);return e.jsxs("div",{className:"h-full flex flex-col bg-white border-r border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Messages"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:u,onChange:h,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-colors duration-200"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:p.length===0?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("p",{className:"text-gray-500",children:"No conversations found"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:p.map(C=>{var j,k,S,_,E,v,H,q;const M=(l==null?void 0:l.id)===C.id,R=x(C),A=(j=C.messages)==null?void 0:j[C.messages.length-1];return e.jsx("div",{onClick:()=>o(C),className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${M?"bg-teal-50 border-r-2 border-teal-500":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-700",children:(_=(S=(k=C.participant)==null?void 0:k.name)==null?void 0:S.charAt(0))==null?void 0:_.toUpperCase()})}),((E=C.participant)==null?void 0:E.status)==="online"&&e.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-emerald-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`text-sm font-medium truncate ${R>0?"text-gray-900":"text-gray-700"}`,children:(v=C.participant)==null?void 0:v.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A&&e.jsx("span",{className:"text-xs text-gray-500",children:f(A.timestamp)}),R>0&&e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 text-xs font-medium text-white bg-teal-600 rounded-full",children:R>9?"9+":R})]})]}),e.jsx("div",{className:"flex items-center justify-between mt-1",children:e.jsx("p",{className:`text-sm truncate ${R>0?"text-gray-900 font-medium":"text-gray-500"}`,children:b(C)})}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:(H=C.participant)==null?void 0:H.role}),((q=C.participant)==null?void 0:q.property)&&e.jsx("span",{className:"ml-2 text-xs text-gray-500 truncate",children:C.participant.property})]})]})]})},C.id)})})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-teal-600 hover:bg-teal-700 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Message"]})})]})},Xy=({conversation:r,currentUser:l,onSendMessage:o})=>{var A,j,k,S,_,E,v,H;const[i,u]=N.useState(""),[m,h]=N.useState(null),[f,b]=N.useState(null),x=N.useRef(null),g=()=>{var q;(q=x.current)==null||q.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{g()},[r==null?void 0:r.messages]);const p=q=>new Date(q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),C=q=>new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),M=q=>{q.preventDefault(),i.trim()&&(o(i),u(""))},R=q=>q!=null&&q.includes("pdf")?e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}):q!=null&&q.includes("doc")?e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):e.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return r?e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-gray-200 p-4 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-teal-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-teal-700",children:(k=(j=(A=r.participant)==null?void 0:A.name)==null?void 0:j.charAt(0))==null?void 0:k.toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(S=r.participant)==null?void 0:S.name}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:(_=r.participant)==null?void 0:_.role})]}),e.jsx("div",{className:"ml-auto flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${((E=r.participant)==null?void 0:E.status)==="online"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:((v=r.participant)==null?void 0:v.status)||"offline"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(H=r.messages)==null?void 0:H.map((q,$)=>{var ie;const J=q.sender_id===(l==null?void 0:l.id),W=$===0||C(q.timestamp)!==C((ie=r.messages[$-1])==null?void 0:ie.timestamp);return e.jsxs("div",{children:[W&&e.jsx("div",{className:"flex justify-center my-4",children:e.jsx("span",{className:"px-3 py-1 text-xs bg-white rounded-full text-gray-500 border",children:C(q.timestamp)})}),e.jsx("div",{className:`flex ${J?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${J?"bg-teal-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[q.text&&e.jsx("p",{className:"text-sm",children:q.text}),q.image&&e.jsxs("div",{className:"mt-2",children:[e.jsx("img",{src:q.image.url,alt:q.image.name,className:"max-w-full h-auto rounded cursor-pointer hover:opacity-90",onClick:()=>h(q.image)}),e.jsx("p",{className:"text-xs mt-1 opacity-75",children:q.image.name})]}),q.document&&e.jsx("div",{className:"mt-2 p-3 bg-black bg-opacity-10 rounded cursor-pointer hover:bg-opacity-20",onClick:()=>b(q.document),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[R(q.document.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:q.document.name}),e.jsx("p",{className:"text-xs opacity-75",children:q.document.size})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})}),e.jsxs("div",{className:`flex items-center justify-end mt-1 space-x-1 ${J?"text-teal-200":"text-gray-400"}`,children:[e.jsx("span",{className:"text-xs",children:p(q.timestamp)}),J&&e.jsxs("div",{className:"flex space-x-1",children:[q.status==="sent"&&e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),q.status==="delivered"&&e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]}),q.status==="read"&&e.jsxs("svg",{className:"w-3 h-3 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]})]})]})]})})]},q.id)}),e.jsx("div",{ref:x})]}),e.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:e.jsxs("form",{onSubmit:M,className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:i,onChange:q=>u(q.target.value),placeholder:"Type your message...",className:"w-full px-4 py-2 text-gray-700 bg-gray-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-colors duration-200"})}),e.jsx(O,{type:"submit",disabled:!i.trim(),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("img",{src:m.url,alt:m.name,className:"max-w-full max-h-full object-contain"}),e.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-50 text-white px-3 py-2 rounded",children:m.name})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-full w-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:f.name}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-400 mb-4",children:R(f.type)}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:f.name}),e.jsxs("p",{className:"text-gray-500 mb-4",children:["Size: ",f.size]}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(O,{variant:"primary",children:"Download"}),e.jsx(O,{variant:"secondary",children:"View"})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-gray-500",children:"Choose a contact to start messaging"})]})})},Bl=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(null),[m,h]=N.useState(!0),[f,b]=N.useState(null);N.useEffect(()=>{x()},[r]);const x=async()=>{try{h(!0),b(null);const C=await Ao.getConversations(r==null?void 0:r.role);C.success?(o(C.data),C.data.length>0&&!i&&u(C.data[0])):b(C.error||"Failed to load conversations")}catch(C){console.error("Error loading conversations:",C),b("Failed to load conversations. Please try again.")}finally{h(!1)}},g=C=>{u(C);const M=C.messages.filter(R=>R.sender_id!==(r==null?void 0:r.id)&&R.status!=="read").map(R=>R.id);M.length>0&&(Ao.markAsRead(C.id,r==null?void 0:r.role,M),o(R=>R.map(A=>A.id===C.id?{...A,messages:A.messages.map(j=>M.includes(j.id)?{...j,status:"read"}:j)}:A)))},p=async C=>{if(!(!i||!C.trim()))try{const M=await Ao.sendMessage(i.id,r==null?void 0:r.role,{sender_id:r==null?void 0:r.id,text:C.trim()});if(M.success){const R={...i,messages:[...i.messages,M.data]};u(R),o(A=>A.map(j=>j.id===i.id?R:j))}}catch(M){console.error("Error sending message:",M)}};return m?e.jsxs("div",{className:"h-screen flex",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200 bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-3"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"space-y-4 p-4",children:Array.from({length:5}).map((C,M)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]},M))})]}),e.jsxs("div",{className:"flex-1 bg-gray-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2 w-32"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-20"})]})]})}),e.jsx("div",{className:"p-4 space-y-4",children:Array.from({length:3}).map((C,M)=>e.jsx("div",{className:`flex ${M%2===0?"justify-start":"justify-end"}`,children:e.jsx("div",{className:"max-w-xs",children:e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg animate-pulse"})})},M))})]})]}):f?e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-24 w-24 text-red-400 mb-4",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Messages"}),e.jsx("p",{className:"text-gray-500 mb-4",children:f}),e.jsx("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-teal-600 hover:bg-teal-700",children:"Try Again"})]})}):e.jsxs("div",{className:"h-screen flex bg-white",children:[e.jsx("div",{className:"w-1/3 min-w-80",children:e.jsx(Wy,{contacts:l,selectedContact:i,onSelectContact:g,currentUser:r})}),e.jsx("div",{className:"flex-1",children:e.jsx(Xy,{conversation:i,currentUser:r,onSendMessage:p})})]})},Ge={async getProperties(r={}){var l,o;try{const i=await ce.get("/properties/get-all-properties",{params:r});return{success:!0,data:i.data.data||[],pagination:i.data.pagination,total:i.data.count||0}}catch(i){return console.error("Error fetching properties:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch properties",data:[]}}},async getProperty(r){var l,o;try{return{success:!0,data:(await ce.get(`/properties/${r}`)).data.data}}catch(i){return console.error("Error fetching property:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch property"}}},async createProperty(r){var l,o;try{return{success:!0,data:(await ce.post("/properties/create-property",r)).data.data,message:"Property created successfully"}}catch(i){return console.error("Error creating property:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to create property"}}},async updateProperty(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/properties/${r}`,l)).data.data,message:"Property updated successfully"}}catch(u){return console.error("Error updating property:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update property"}}},async deleteProperty(r){var l,o;try{return await ce.delete(`/properties/${r}`),{success:!0,message:"Property deleted successfully"}}catch(i){return console.error("Error deleting property:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to delete property"}}},async getPropertyStatistics(r){var l,o;try{return{success:!0,data:(await ce.get(`/properties/${r}/statistics`)).data.data}}catch(i){return console.error("Error fetching property statistics:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch property statistics"}}},async getUnits(r={}){var l,o,i,u,m;try{const h=await ce.get("/units/get-all-units",{params:r});return{success:!0,data:((l=h.data.data)==null?void 0:l.result)||h.data.data||[],total:h.data.count||((i=(o=h.data.data)==null?void 0:o.result)==null?void 0:i.length)||0}}catch(h){return console.error("Error fetching units:",h),{success:!1,error:((m=(u=h.response)==null?void 0:u.data)==null?void 0:m.error)||h.message||"Failed to fetch units",data:[]}}},async getUnit(r){var l,o;try{return{success:!0,data:(await ce.get(`/units/${r}`)).data.data}}catch(i){return console.error("Error fetching unit:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch unit"}}},async getUnitDetails(r){var l,o;try{return{success:!0,data:(await ce.get(`/units/${r}/details`)).data.data}}catch(i){return console.error("Error fetching unit details:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch unit details"}}},async createUnit(r){var l,o;try{return{success:!0,data:(await ce.post("/units/create-unit",r)).data.data,message:"Unit created successfully"}}catch(i){return console.error("Error creating unit:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to create unit"}}},async updateUnit(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/units/${r}`,l)).data.data,message:"Unit updated successfully"}}catch(u){return console.error("Error updating unit:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update unit"}}},async updateUnitStatus(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/units/${r}/status`,{current_status:l})).data.data,message:"Unit status updated successfully"}}catch(u){return console.error("Error updating unit status:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update unit status"}}},async deleteUnit(r){var l,o;try{return await ce.delete(`/units/${r}`),{success:!0,message:"Unit deleted successfully"}}catch(i){return console.error("Error deleting unit:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to delete unit"}}},async getTenants(r={}){var l,o,i,u,m;try{const h=await ce.get("/tenants/get-all-tenants",{params:r});return{success:!0,data:((l=h.data.data)==null?void 0:l.result)||h.data.data||[],pagination:h.data.pagination,total:h.data.count||((i=(o=h.data.data)==null?void 0:o.result)==null?void 0:i.length)||0}}catch(h){return console.error("Error fetching tenants:",h),{success:!1,error:((m=(u=h.response)==null?void 0:u.data)==null?void 0:m.error)||h.message||"Failed to fetch tenants",data:[]}}},async getTenant(r){var l,o;try{return{success:!0,data:(await ce.get(`/tenants/${r}`)).data.data}}catch(i){return console.error("Error fetching tenant:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch tenant"}}},async createTenant(r){var l,o;try{return{success:!0,data:(await ce.post("/tenants/create-tenant",r)).data.data,message:"Tenant created successfully"}}catch(i){return console.error("Error creating tenant:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to create tenant"}}},async updateTenant(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/tenants/${r}`,l)).data.data,message:"Tenant updated successfully"}}catch(u){return console.error("Error updating tenant:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update tenant"}}},async deleteTenant(r){var l,o;try{return await ce.delete(`/tenants/${r}`),{success:!0,message:"Tenant deleted successfully"}}catch(i){return console.error("Error deleting tenant:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to delete tenant"}}},async getTenantContracts(r){var l,o;try{return{success:!0,data:(await ce.get(`/tenants/${r}/contracts`)).data.data||[]}}catch(i){return console.error("Error fetching tenant contracts:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch tenant contracts",data:[]}}},async getTenantActiveContracts(r){var l,o;try{return{success:!0,data:(await ce.get(`/tenants/${r}/active-contracts`)).data.data||[]}}catch(i){return console.error("Error fetching tenant active contracts:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch tenant active contracts",data:[]}}},async getOwners(r={}){var l,o;try{return{success:!0,data:(await ce.get("/owners/find-all-owners",{params:r})).data||[]}}catch(i){return console.error("Error fetching owners:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch owners",data:[]}}},async getOwner(r){var l,o;try{return{success:!0,data:(await ce.get(`/owners/${r}`)).data.data}}catch(i){return console.error("Error fetching owner:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch owner"}}},async createOwner(r){var l,o;try{return{success:!0,data:(await ce.post("/owners/create-owner",r)).data.data,message:"Owner created successfully"}}catch(i){return console.error("Error creating owner:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to create owner"}}},async updateOwner(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/owners/${r}`,l)).data.data,message:"Owner updated successfully"}}catch(u){return console.error("Error updating owner:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update owner"}}},async deleteOwner(r){var l,o;try{return await ce.delete(`/owners/${r}`),{success:!0,message:"Owner deleted successfully"}}catch(i){return console.error("Error deleting owner:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to delete owner"}}},async getOwnerProperties(r){var l,o;try{return{success:!0,data:(await ce.get(`/owners/${r}/properties`)).data.data||[]}}catch(i){return console.error("Error fetching owner properties:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch owner properties",data:[]}}},async getOwnerFinancialSummary(r){var l,o;try{return{success:!0,data:(await ce.get(`/owners/${r}/financial-summary`)).data.data}}catch(i){return console.error("Error fetching owner financial summary:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch owner financial summary"}}},async getContracts(r={}){var l,o;try{const i=await ce.get("/contracts",{params:r});return{success:!0,data:i.data.data||[],pagination:i.data.pagination,total:i.data.count||0}}catch(i){return console.error("Error fetching contracts:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch contracts",data:[]}}},async getContract(r){var l,o;try{return{success:!0,data:(await ce.get(`/contracts/${r}`)).data.data}}catch(i){return console.error("Error fetching contract:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch contract"}}},async getContractDetails(r){var l,o;try{return{success:!0,data:(await ce.get(`/contracts/${r}/details`)).data.data}}catch(i){return console.error("Error fetching contract details:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to fetch contract details"}}},async createContract(r){var l,o;try{return{success:!0,data:(await ce.post("/contracts/create-contract",r)).data.data,message:"Contract created successfully"}}catch(i){return console.error("Error creating contract:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to create contract"}}},async updateContract(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/contracts/${r}`,l)).data.data,message:"Contract updated successfully"}}catch(u){return console.error("Error updating contract:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update contract"}}},async updateContractStatus(r,l){var o,i;try{return{success:!0,data:(await ce.put(`/contracts/${r}/status`,{contract_status:l})).data.data,message:"Contract status updated successfully"}}catch(u){return console.error("Error updating contract status:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to update contract status"}}},async renewContract(r,l){var o,i;try{return{success:!0,data:(await ce.post(`/contracts/${r}/renew`,l)).data.data,message:"Contract renewed successfully"}}catch(u){return console.error("Error renewing contract:",u),{success:!1,error:((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||u.message||"Failed to renew contract"}}},async deleteContract(r){var l,o;try{return await ce.delete(`/contracts/${r}`),{success:!0,message:"Contract deleted successfully"}}catch(i){return console.error("Error deleting contract:",i),{success:!1,error:((o=(l=i.response)==null?void 0:l.data)==null?void 0:o.error)||i.message||"Failed to delete contract"}}},async getDashboardStats(){try{const[r,l,o,i]=await Promise.allSettled([this.getProperties({limit:1}),this.getUnits({limit:1}),this.getTenants({limit:1}),this.getContracts({limit:1})]);return{success:!0,data:{totalProperties:r.status==="fulfilled"?r.value.total:0,totalUnits:l.status==="fulfilled"?l.value.total:0,totalTenants:o.status==="fulfilled"?o.value.total:0,totalContracts:i.status==="fulfilled"?i.value.total:0}}}catch(r){return console.error("Error fetching dashboard stats:",r),{success:!1,error:"Failed to fetch dashboard statistics",data:{totalProperties:0,totalUnits:0,totalTenants:0,totalContracts:0}}}}};let an=[],Ul=[];const je={addNotification(r){const l=Date.now()+Math.random(),o={id:l,type:"info",duration:5e3,...r,timestamp:new Date};return an.push(o),this.notifyListeners(),o.duration>0&&setTimeout(()=>{this.removeNotification(l)},o.duration),l},removeNotification(r){an=an.filter(l=>l.id!==r),this.notifyListeners()},clearAll(){an=[],this.notifyListeners()},getNotifications(){return[...an]},subscribe(r){return Ul.push(r),()=>{Ul=Ul.filter(l=>l!==r)}},notifyListeners(){Ul.forEach(r=>r(an))},success(r,l={}){return this.addNotification({type:"success",message:r,...l})},error(r,l={}){return this.addNotification({type:"error",message:r,duration:8e3,...l})},warning(r,l={}){return this.addNotification({type:"warning",message:r,...l})},info(r,l={}){return this.addNotification({type:"info",message:r,...l})},loading(r,l={}){return this.addNotification({type:"loading",message:r,duration:0,...l})}},Qy=()=>{const{user:r}=Be(),[l,o]=N.useState({stats:{totalProperties:0,totalUnits:0,totalTenants:0,totalOwners:0,activeContracts:0,pendingContracts:0,monthlyRevenue:0,occupancyRate:0},recentActivities:[],propertyDistribution:[],occupancyData:[],loading:!0,error:null});N.useEffect(()=>{i()},[]);const i=async()=>{var g;try{o($=>({...$,loading:!0,error:null}));const[p,C,M,R,A]=await Promise.allSettled([Ge.getProperties({limit:1}),Ge.getUnits({limit:1}),Ge.getTenants({limit:1}),Ge.getOwners({limit:1}),Ge.getContracts({limit:1})]),j=p.status==="fulfilled"&&p.value.total||0,k=C.status==="fulfilled"&&C.value.total||0,S=M.status==="fulfilled"&&M.value.total||0,_=R.status==="fulfilled"&&((g=R.value.data)==null?void 0:g.length)||0,E=A.status==="fulfilled"&&A.value.total||0,v=k>0?((k-k*.13)/k*100).toFixed(1):0,H=E*3500,q={stats:{totalProperties:j,totalUnits:k,totalTenants:S,totalOwners:_,activeContracts:Math.floor(E*.9),pendingContracts:Math.floor(E*.1),monthlyRevenue:H,occupancyRate:parseFloat(v)},recentActivities:[{id:1,type:"system_update",description:"Dashboard data refreshed from live API",timestamp:new Date,user:"System"},{id:2,type:"data_sync",description:`Loaded ${j} properties, ${k} units, ${S} tenants`,timestamp:new Date(Date.now()-5*60*1e3),user:"API Service"}],propertyDistribution:[{name:"Apartments",value:Math.floor(j*.6),color:"#0891b2"},{name:"Villas",value:Math.floor(j*.3),color:"#059669"},{name:"Commercial",value:Math.floor(j*.1),color:"#dc2626"}],occupancyData:[{month:"Jan",occupied:85,vacant:15},{month:"Feb",occupied:88,vacant:12},{month:"Mar",occupied:82,vacant:18},{month:"Apr",occupied:90,vacant:10},{month:"May",occupied:87,vacant:13},{month:"Jun",occupied:parseFloat(v),vacant:100-parseFloat(v)}]};o($=>({...$,...q,loading:!1})),je.success(`Dashboard loaded successfully! Found ${j} properties, ${k} units, ${S} tenants.`)}catch(p){console.error("Error loading dashboard data:",p),o(C=>({...C,loading:!1,error:"Failed to load dashboard data"})),je.error("Failed to load dashboard data. Please try again.")}},{stats:u,recentActivities:m,propertyDistribution:h,occupancyData:f,loading:b,error:x}=l;return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:x}),e.jsx(O,{onClick:i,variant:"primary",children:"Retry"})]})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Manager Dashboard"}),e.jsxs("p",{className:"text-teal-100 mt-2",children:["Welcome back, ",(r==null?void 0:r.first_name)||(r==null?void 0:r.username)||"Manager"]}),e.jsx("p",{className:"text-teal-200 text-sm mt-1",children:"Property Management Overview"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-teal-100 text-sm",children:"Today"}),e.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString()})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ct,{title:"Total Properties",value:u.totalProperties,icon:"building",color:"blue",trend:{value:12,isPositive:!0}}),e.jsx(ct,{title:"Total Units",value:u.totalUnits,icon:"home",color:"green",trend:{value:8,isPositive:!0}}),e.jsx(ct,{title:"Active Tenants",value:u.totalTenants,icon:"users",color:"purple",trend:{value:5,isPositive:!0}}),e.jsx(ct,{title:"Property Owners",value:u.totalOwners,icon:"briefcase",color:"orange",trend:{value:3,isPositive:!0}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ct,{title:"Active Contracts",value:u.activeContracts,icon:"document",color:"teal",trend:{value:7,isPositive:!0}}),e.jsx(ct,{title:"Pending Contracts",value:u.pendingContracts,icon:"clock",color:"yellow",trend:{value:2,isPositive:!1}}),e.jsx(ct,{title:"Monthly Revenue",value:`$${u.monthlyRevenue.toLocaleString()}`,icon:"credit-card",color:"green",trend:{value:15,isPositive:!0}}),e.jsx(ct,{title:"Occupancy Rate",value:`${u.occupancyRate}%`,icon:"chart",color:"blue",trend:{value:2.3,isPositive:!0}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Distribution"}),e.jsx(Zo,{data:h})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),e.jsx(px,{activities:m})]})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Occupancy Trends"}),e.jsx($o,{data:f})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(O,{variant:"primary",className:"flex items-center justify-center space-x-2 p-4",onClick:()=>window.location.href="/manager/properties",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Add Property"})]}),e.jsxs(O,{variant:"secondary",className:"flex items-center justify-center space-x-2 p-4",onClick:()=>window.location.href="/manager/tenants",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Add Tenant"})]}),e.jsxs(O,{variant:"secondary",className:"flex items-center justify-center space-x-2 p-4",onClick:()=>window.location.href="/manager/contracts",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"New Contract"})]}),e.jsxs(O,{variant:"secondary",className:"flex items-center justify-center space-x-2 p-4",onClick:()=>window.location.href="/manager/reports",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("span",{children:"View Reports"})]})]})]})]})},Ky=()=>{console.log("Manager Properties componenet has been rendered ...");const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState({search:"",type:"",status:""}),[x,g]=N.useState(!1);N.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0),h(null);const _=await Ge.getProperties({page:1,limit:100,...f});if(_.success){const E=_.data.map(v=>({id:v.property_id,property_number:v.property_number,address_line1:v.address_line1,address_line2:v.address_line2,city:v.city,state_province:v.state_province,country:v.country,postal_code:v.postal_code,plot_size_sqm:v.plot_size_sqm,total_units:v.total_units,description:v.description,status:"active",type:"apartment",created_at:v.created_at,owner:{id:1,first_name:"Property",last_name:"Owner",email:"owner@example.com"},units:{total:v.total_units||0,occupied:Math.floor((v.total_units||0)*.8),vacant:Math.floor((v.total_units||0)*.2)}}));o(E),je.success(`Loaded ${E.length} properties successfully!`)}else throw new Error(_.error||"Failed to load properties")}catch(_){console.error("Error loading properties:",_),h("Failed to load properties"),je.error("Failed to load properties. Please try again.")}finally{u(!1)}},C=N.useMemo(()=>l.filter(_=>{const E=_.property_number.toLowerCase().includes(f.search.toLowerCase())||_.address_line1.toLowerCase().includes(f.search.toLowerCase())||_.city.toLowerCase().includes(f.search.toLowerCase())||_.owner.first_name.toLowerCase().includes(f.search.toLowerCase())||_.owner.last_name.toLowerCase().includes(f.search.toLowerCase()),v=!f.type||_.type===f.type,H=!f.status||_.status===f.status;return E&&v&&H}),[l,f]);N.useCallback(_=>{b(E=>({...E,search:_.target.value}))},[]),N.useCallback(_=>{b(E=>({...E,type:_.target.value}))},[]),N.useCallback(_=>{b(E=>({...E,status:_.target.value}))},[]);const M=()=>{g(!0)},R=()=>{g(!1)},A=_=>{o(E=>[_,...E])},j=async _=>{if(window.confirm("Are you sure you want to delete this property?"))try{const E=je.loading("Deleting property..."),v=await Ge.deleteProperty(_);if(je.removeNotification(E),v.success)o(H=>H.filter(q=>q.id!==_)),je.success("Property deleted successfully!");else throw new Error(v.error||"Failed to delete property")}catch(E){console.error("Error deleting property:",E),je.error("Failed to delete property. Please try again.")}},k=_=>{switch(_){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=_=>{switch(_){case"apartment":return"bg-blue-100 text-blue-800";case"villa":return"bg-purple-100 text-purple-800";case"commercial":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Property Management"}),e.jsx("p",{className:"text-teal-100 mt-2",children:"Manage all properties in the system"})]}),e.jsx(O,{variant:"primary",onClick:M,children:"Add Property"})]})}),m?e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:m}),e.jsx(O,{onClick:p,variant:"primary",children:"Retry"})]}):C.length===0?e.jsx(B,{className:"p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:f.search||f.type||f.status?"No properties match your current filters.":"Get started by adding your first property."}),e.jsx(O,{variant:"primary",onClick:M,children:"Add Your First Property"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(_=>e.jsxs(B,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.property_number}),e.jsxs("p",{className:"text-sm text-gray-500",children:[_.address_line1,_.address_line2&&`, ${_.address_line2}`]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[_.city,", ",_.country]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(_.status)}`,children:_.status}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(_.type)}`,children:_.type})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Owner:"}),e.jsxs("span",{className:"font-medium",children:[_.owner.first_name," ",_.owner.last_name]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Total Units:"}),e.jsx("span",{className:"font-medium",children:_.total_units})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Occupied:"}),e.jsx("span",{className:"font-medium text-green-600",children:_.units.occupied})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Vacant:"}),e.jsx("span",{className:"font-medium text-orange-600",children:_.units.vacant})]}),_.plot_size_sqm&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Plot Size:"}),e.jsxs("span",{className:"font-medium",children:[_.plot_size_sqm," sqm"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:"primary",size:"sm",className:"flex-1",onClick:()=>window.location.href=`/manager/properties/${_.id}`,children:"View Details"}),e.jsx(O,{variant:"secondary",size:"sm",onClick:()=>window.location.href=`/manager/properties/${_.id}/edit`,children:"Edit"}),e.jsx(O,{variant:"danger",size:"sm",onClick:()=>j(_.id),children:"Delete"})]})]},_.id))}),e.jsx(Wo,{isOpen:x,onClose:R,onPropertyAdded:A})]})},Jy=({isOpen:r,onClose:l,onUnitCreated:o})=>{const[i,u]=N.useState({property_id:"",unit_number:"",unit_type:"Residential",area_sqm:"",num_bedrooms:"",num_bathrooms:"",current_status:"Vacant",description:""}),[m,h]=N.useState([]),[f,b]=N.useState({}),[x,g]=N.useState(!1);N.useEffect(()=>{r&&p()},[r]);const p=async()=>{try{const j=await Ge.getProperties({limit:100});if(j.success)h(j.data);else throw new Error(j.error)}catch{alert("Failed to load properties")}},C=j=>{const{name:k,value:S}=j.target;u(_=>({..._,[k]:S})),f[k]&&b(_=>({..._,[k]:""}))},M=()=>{const j={};return i.property_id||(j.property_id="Property is required"),i.unit_number.trim()||(j.unit_number="Unit number is required"),(!i.area_sqm||isNaN(i.area_sqm)||Number(i.area_sqm)<=0)&&(j.area_sqm="Valid size is required"),b(j),Object.keys(j).length===0},R=async j=>{if(j.preventDefault(),!M())return;g(!0);const k={...i,num_bedrooms:i.num_bedrooms?parseInt(i.num_bedrooms,10):null,num_bathrooms:i.num_bathrooms?parseInt(i.num_bathrooms,10):null,area_sqm:parseFloat(i.area_sqm)};try{const S=await Ge.createUnit(k);S.success?(o(S.data),A()):alert(S.error||"Failed to create unit")}catch{alert("Error creating unit")}finally{g(!1)}},A=()=>{u({property_id:"",unit_number:"",unit_type:"Residential",area_sqm:"",num_bedrooms:"",num_bathrooms:"",current_status:"Vacant",description:""}),b({}),l()};return r?e.jsx("div",{className:"absolute top-0 left-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] p-8 border border-gray-400 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Create New Unit"}),e.jsx("button",{onClick:A,className:"text-black hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Property *"}),e.jsxs("select",{name:"property_id",value:i.property_id,onChange:C,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",className:"text-gray-500",children:"Select Property"}),m.map(j=>e.jsxs("option",{value:j.property_id,children:[j.property_number," - ",j.address_line1]},j.property_id))]}),f.property_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.property_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Unit Number *"}),e.jsx("input",{type:"text",name:"unit_number",value:i.unit_number,onChange:C,placeholder:"e.g., 101",className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),f.unit_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.unit_number})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Unit Type"}),e.jsxs("select",{name:"unit_type",value:i.unit_type,onChange:C,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{children:"Residential"}),e.jsx("option",{children:"Commercial"}),e.jsx("option",{children:"Retail"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Size (sqm) *"}),e.jsx("input",{name:"area_sqm",value:i.area_sqm,onChange:C,placeholder:"e.g., 75",className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),f.area_sqm&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.area_sqm})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Bedrooms"}),e.jsx("input",{type:"number",name:"num_bedrooms",value:i.num_bedrooms,onChange:C,min:"0",className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Bathrooms"}),e.jsx("input",{type:"number",name:"num_bathrooms",value:i.num_bathrooms,onChange:C,min:"0",className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Status"}),e.jsxs("select",{name:"current_status",value:i.current_status,onChange:C,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{children:"For Sale"}),e.jsx("option",{children:"For Rent"}),e.jsx("option",{children:"For Lease"}),e.jsx("option",{children:"Occupied"}),e.jsx("option",{children:"Vacant"}),e.jsx("option",{children:"Maintenance"})]})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:i.description,onChange:C,placeholder:"Optional description",rows:3,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{type:"button",onClick:A,disabled:x,className:"px-6 py-2 bg-white hover:bg-gray-100 text-black font-medium rounded-md border border-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-black hover:bg-gray-900 text-white font-medium rounded-md border border-gray-400",children:x?"Creating...":"Create Unit"})]})]})]})})}):null},Iy=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState([]),[m,h]=N.useState(!0),[f,b]=N.useState(null),[x,g]=N.useState({search:"",property:"",status:"",type:""}),[p,C]=N.useState(!1);N.useEffect(()=>{M()},[]);const M=async()=>{try{h(!0),b(null);const[W,ie]=await Promise.allSettled([Ge.getProperties({limit:100}),Ge.getUnits({limit:100})]);let ae=[];W.status==="fulfilled"&&W.value.success&&(ae=W.value.data.map(Ue=>({id:Ue.property_id,property_number:Ue.property_number,address_line1:Ue.address_line1})));let ye=[];ie.status==="fulfilled"&&ie.value.success&&(ye=(ie.value.data.result||ie.value.data||[]).map(pe=>{var oe;const G=parseInt(pe.property_id),ee=ae.find(Me=>Me.id===G)||{id:G,property_number:pe.property_number||`PROP-${G}`,address_line1:pe.address_line1||"Property Address"};return{id:pe.unit_id,unit_number:pe.unit_number,property_id:G,property:ee,type:pe.unit_type||"1BR",size_sqm:pe.area_sqm||75,rent_amount:3500,status:((oe=pe.current_status)==null?void 0:oe.toLowerCase())||"vacant",floor:1,bedrooms:pe.num_bedrooms||1,bathrooms:pe.num_bathrooms||1,tenant:null,lease_start:null,lease_end:null}})),u(ae),o(ye),je.success(`Loaded ${ye.length} units from ${ae.length} properties successfully!`)}catch(W){console.error("Error loading data:",W),b("Failed to load units data"),je.error("Failed to load units data. Please try again.")}finally{h(!1)}},R=N.useMemo(()=>[{value:"",label:"All Properties"},...i.map(W=>({value:W.id.toString(),label:`${W.property_number} - ${W.address_line1}`}))],[i]),A=N.useMemo(()=>l.filter(W=>{const ie=W.unit_number.toLowerCase().includes(x.search.toLowerCase())||W.property.property_number.toLowerCase().includes(x.search.toLowerCase())||W.property.address_line1.toLowerCase().includes(x.search.toLowerCase())||W.tenant&&(W.tenant.first_name.toLowerCase().includes(x.search.toLowerCase())||W.tenant.last_name.toLowerCase().includes(x.search.toLowerCase())),ae=!x.property||W.property_id.toString()===x.property,ye=!x.status||W.status===x.status,Ue=!x.type||W.type===x.type;return ie&&ae&&ye&&Ue}),[l,x]),j=N.useCallback(W=>{g(ie=>({...ie,search:W.target.value}))},[]),k=N.useCallback(W=>{g(ie=>({...ie,property:W.target.value}))},[]),S=N.useCallback(W=>{g(ie=>({...ie,status:W.target.value}))},[]),_=N.useCallback(W=>{g(ie=>({...ie,type:W.target.value}))},[]),E=async(W,ie)=>{try{const ae=je.loading("Updating unit status..."),ye=await Ge.updateUnitStatus(W,ie);if(je.removeNotification(ae),ye.success)o(Ue=>Ue.map(pe=>pe.id===W?{...pe,status:ie}:pe)),je.success("Unit status updated successfully!");else throw new Error(ye.error||"Failed to update unit status")}catch(ae){console.error("Error updating unit status:",ae),je.error("Failed to update unit status. Please try again.")}},v=()=>{C(!0)},H=()=>{C(!1)},q=W=>{const ie={id:W.unit_id,unit_number:W.unit_number,property_id:W.property_id,property:i.find(ae=>ae.id===W.property_id)||{id:W.property_id,property_number:`PROP-${W.property_id}`,address_line1:"Property Address"},type:W.unit_type||"1BR",size_sqm:W.size_sqm||75,rent_amount:W.rent_amount||3500,status:W.current_status||"vacant",floor:W.floor_number||1,bedrooms:W.bedrooms||1,bathrooms:W.bathrooms||1,tenant:null,lease_start:null,lease_end:null};o(ae=>[ie,...ae])},$=W=>{switch(W==null?void 0:W.toLowerCase()){case"occupied":return"bg-green-100 text-green-800";case"vacant":return"bg-blue-100 text-blue-800";case"for sale":return"bg-orange-100 text-orange-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"reserved":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},J=[...new Set(l.map(W=>W.type))];return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Unit Management"}),e.jsx("p",{className:"text-teal-100 mt-2",children:"Manage all units across properties"})]}),e.jsx(O,{variant:"primary",onClick:v,children:"Add Unit"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Search Units"}),e.jsx("input",{type:"text",placeholder:"Search by unit number, property, or tenant...",value:x.search,onChange:j,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Property"}),e.jsx("select",{value:x.property,onChange:k,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:R.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Status"}),e.jsxs("select",{value:x.status,onChange:S,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"vacant",children:"Vacant"}),e.jsx("option",{value:"occupied",children:"Occupied"}),e.jsx("option",{value:"for sale",children:"For Sale"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"reserved",children:"Reserved"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Unit Type"}),e.jsxs("select",{value:x.type,onChange:_,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"All Types"}),J.map(W=>e.jsx("option",{value:W,children:W},W))]})]})]}),f?e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:f}),e.jsx(O,{onClick:M,variant:"primary",children:"Retry"})]}):A.length===0?e.jsx(B,{className:"p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Units Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:x.search||x.property||x.status||x.type?"No units match your current filters.":"Get started by adding your first unit."}),e.jsx(O,{variant:"primary",children:"Add Your First Unit"})]})}):e.jsx(B,{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.unit_number}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Floor ",W.floor]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.property.property_number}),e.jsx("div",{className:"text-sm text-gray-500",children:W.property.address_line1})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:W.type}),e.jsxs("div",{className:"text-sm text-gray-500",children:[W.bedrooms,"BR/",W.bathrooms,"BA"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[W.size_sqm," sqm"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",W.rent_amount.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${$(W.status)}`,children:W.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W.tenant?e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[W.tenant.first_name," ",W.tenant.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:W.tenant.email})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No tenant"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx(O,{variant:"primary",size:"sm",onClick:()=>window.location.href=`/manager/units/${W.id}`,children:"View"}),e.jsx(O,{variant:"secondary",size:"sm",onClick:()=>window.location.href=`/manager/units/${W.id}/edit`,children:"Edit"}),W.status==="vacant"&&e.jsx(O,{variant:"success",size:"sm",onClick:()=>E(W.id,"occupied"),children:"Assign"})]})]},W.id))})]})})}),e.jsx(Jy,{isOpen:p,onClose:H,onUnitCreated:q})]})},eb=({isOpen:r,onClose:l,onTenantCreated:o})=>{const[i,u]=N.useState({first_name:"",last_name:"",email:"",phone_number:"",date_of_birth:"",nationality:"",emirates_id:"",passport_number:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:""}),[m,h]=N.useState({}),[f,b]=N.useState(!1),x=N.useCallback(M=>{const{name:R,value:A}=M.target;u(j=>({...j,[R]:A})),m[R]&&h(j=>({...j,[R]:""}))},[m]),g=()=>{const M={};return i.first_name.trim()||(M.first_name="Required"),i.last_name.trim()||(M.last_name="Required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(M.email="Invalid email"):M.email="Required",i.phone_number.trim()||(M.phone_number="Required"),i.date_of_birth||(M.date_of_birth="Required"),i.nationality.trim()||(M.nationality="Required"),i.emirates_id.trim()||(M.emirates_id="Required"),i.passport_number.trim()||(M.passport_number="Required"),h(M),Object.keys(M).length===0},p=async M=>{if(M.preventDefault(),!g())return;b(!0);const R=je.loading("Creating tenant...");try{const A=await Ge.createTenant(i);if(je.removeNotification(R),A.success)je.success("Tenant created!"),o(A.data),C();else throw new Error(A.error)}catch{je.error("Error creating tenant")}finally{b(!1)}},C=N.useCallback(()=>{u({first_name:"",last_name:"",email:"",phone_number:"",date_of_birth:"",nationality:"",emirates_id:"",passport_number:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:""}),h({}),l()},[l]);return r?e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-start justify-center overflow-y-auto z-50 pt-10 pb-10",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl p-4 sm:p-6 md:p-8 border border-black",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Create New Tenant"}),e.jsx("button",{onClick:C,className:"text-black hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"First Name *"}),e.jsx("input",{name:"first_name",value:i.first_name,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"First name"}),m.first_name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Last Name *"}),e.jsx("input",{name:"last_name",value:i.last_name,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Last name"}),m.last_name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"email@example.com"}),m.email&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Phone *"}),e.jsx("input",{name:"phone_number",value:i.phone_number,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"+971501234567"}),m.phone_number&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.phone_number})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Date of Birth *"}),e.jsx("input",{type:"date",name:"date_of_birth",value:i.date_of_birth,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),m.date_of_birth&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.date_of_birth})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Nationality *"}),e.jsx("input",{name:"nationality",value:i.nationality,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"e.g., Emirati"}),m.nationality&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.nationality})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Identification"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Emirates ID *"}),e.jsx("input",{name:"emirates_id",value:i.emirates_id,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"784-XXXX-XXXXXXX-X"}),m.emirates_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.emirates_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Passport *"}),e.jsx("input",{name:"passport_number",value:i.passport_number,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Passport number"}),m.passport_number&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.passport_number})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Name"}),e.jsx("input",{name:"emergency_contact_name",value:i.emergency_contact_name,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Contact name (optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Phone"}),e.jsx("input",{name:"emergency_contact_phone",value:i.emergency_contact_phone,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"+971501234567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Relationship"}),e.jsxs("select",{name:"emergency_contact_relationship",value:i.emergency_contact_relationship,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"Select relationship"}),e.jsx("option",{children:"Spouse"}),e.jsx("option",{children:"Parent"}),e.jsx("option",{children:"Sibling"}),e.jsx("option",{children:"Child"}),e.jsx("option",{children:"Friend"}),e.jsx("option",{children:"Colleague"}),e.jsx("option",{children:"Other"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:C,disabled:f,className:"px-6 py-2 bg-white hover:bg-gray-100 text-black font-medium rounded-md border border-black",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-black hover:bg-gray-900 text-white font-medium rounded-md border border-black",children:f?"Creating...":"Create Tenant"})]})]})]})})}):null},tb=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState(!1);N.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0),h(null);const j=await Ge.getTenants({limit:100});if(j.success){const k=j.data.map(S=>({id:S.tenant_id,first_name:S.first_name,last_name:S.last_name,email:S.email,phone_number:S.phone_number,date_of_birth:S.date_of_birth,nationality:S.nationality,emirates_id:S.emirates_id,passport_number:S.passport_number,status:"active",created_at:S.created_at,current_lease:null,emergency_contact:{name:S.emergency_contact_name||"Emergency Contact",phone:S.emergency_contact_phone||"N/A",relationship:S.emergency_contact_relationship||"N/A"}}));o(k),je.success(`Loaded ${k.length} tenants successfully!`)}else throw new Error(j.error||"Failed to load tenants")}catch(j){console.error("Error loading tenants:",j),h("Failed to load tenants"),je.error("Failed to load tenants. Please try again.")}finally{u(!1)}},g=async(j,k)=>{try{o(S=>S.map(_=>_.id===j?{..._,status:k}:_))}catch(S){console.error("Error updating tenant status:",S),alert("Failed to update tenant status")}},p=async j=>{if(window.confirm("Are you sure you want to delete this tenant?"))try{const k=je.loading("Deleting tenant..."),S=await Ge.deleteTenant(j);if(je.removeNotification(k),S.success)o(_=>_.filter(E=>E.id!==j)),je.success("Tenant deleted successfully!");else throw new Error(S.error||"Failed to delete tenant")}catch(k){console.error("Error deleting tenant:",k),je.error("Failed to delete tenant. Please try again.")}},C=()=>{b(!0)},M=()=>{b(!1)},R=j=>{const k={id:j.tenant_id,first_name:j.first_name,last_name:j.last_name,email:j.email,phone_number:j.phone_number,date_of_birth:j.date_of_birth,nationality:j.nationality,emirates_id:j.emirates_id,passport_number:j.passport_number,status:"active",created_at:j.created_at,current_lease:null,emergency_contact:{name:j.emergency_contact_name||"Emergency Contact",phone:j.emergency_contact_phone||"N/A",relationship:j.emergency_contact_relationship||"N/A"}};o(S=>[k,...S])},A=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Tenant Management"}),e.jsx("p",{className:"text-teal-100 mt-2",children:"Manage all tenants in the system"})]}),e.jsx(O,{variant:"primary",onClick:C,children:"Add Tenant"})]})}),m?e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:m}),e.jsx(O,{onClick:x,variant:"primary",children:"Retry"})]}):l.length===0?e.jsx(B,{className:"p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Get started by adding your first tenant."}),e.jsx(O,{variant:"primary",children:"Add Your First Tenant"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(j=>e.jsxs(B,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[j.first_name," ",j.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:j.email}),e.jsx("p",{className:"text-sm text-gray-500",children:j.phone_number})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(j.status)}`,children:j.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Nationality:"}),e.jsx("span",{className:"font-medium",children:j.nationality})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Emirates ID:"}),e.jsx("span",{className:"font-medium",children:j.emirates_id})]}),j.current_lease?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Current Unit:"}),e.jsx("span",{className:"font-medium",children:j.current_lease.unit.unit_number})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Property:"}),e.jsx("span",{className:"font-medium",children:j.current_lease.unit.property.property_number})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Rent:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["$",j.current_lease.rent_amount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Lease End:"}),e.jsx("span",{className:"font-medium",children:new Date(j.current_lease.lease_end).toLocaleDateString()})]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic",children:"No active lease"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:j.emergency_contact.name}),e.jsx("p",{children:j.emergency_contact.phone}),e.jsx("p",{className:"text-xs text-gray-500",children:j.emergency_contact.relationship})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsx(O,{variant:"primary",size:"sm",className:"flex-1",onClick:()=>window.location.href=`/manager/tenants/${j.id}`,children:"View Details"}),e.jsx(O,{variant:"secondary",size:"sm",onClick:()=>window.location.href=`/manager/tenants/${j.id}/edit`,children:"Edit"}),j.status==="pending"&&e.jsx(O,{variant:"success",size:"sm",onClick:()=>g(j.id,"active"),children:"Approve"}),e.jsx(O,{variant:"danger",size:"sm",onClick:()=>p(j.id),children:"Delete"})]})]},j.id))}),e.jsx(eb,{isOpen:f,onClose:M,onTenantCreated:R})]})},ab=({isOpen:r,onClose:l,onOwnerCreated:o})=>{const[i,u]=N.useState({first_name:"",last_name:"",email:"",phone_number:"",date_of_birth:"",nationality:"",emirates_id:"",passport_number:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:""}),[m,h]=N.useState({}),[f,b]=N.useState(!1),x=N.useCallback(M=>{const{name:R,value:A}=M.target;u(j=>({...j,[R]:A})),m[R]&&h(j=>({...j,[R]:""}))},[m]),g=()=>{const M={};return i.first_name.trim()||(M.first_name="Required"),i.last_name.trim()||(M.last_name="Required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(M.email="Invalid email"):M.email="Required",i.phone_number.trim()||(M.phone_number="Required"),i.date_of_birth||(M.date_of_birth="Required"),i.nationality.trim()||(M.nationality="Required"),i.emirates_id.trim()||(M.emirates_id="Required"),i.passport_number.trim()||(M.passport_number="Required"),h(M),Object.keys(M).length===0},p=async M=>{if(M.preventDefault(),!g())return;b(!0);const R=je.loading("Creating owner...");try{const A=await Ge.createOwner(i);if(je.removeNotification(R),A.success)je.success("Owner created!"),o(A.data),C();else throw new Error(A.error)}catch{je.error("Error creating owner")}finally{b(!1)}},C=N.useCallback(()=>{u({first_name:"",last_name:"",email:"",phone_number:"",date_of_birth:"",nationality:"",emirates_id:"",passport_number:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:""}),h({}),l()},[l]);return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-start justify-center overflow-y-auto z-50 pt-10 pb-10",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl p-4 sm:p-6 md:p-8 border border-black",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Create New Owner"}),e.jsx("button",{onClick:C,className:"text-black hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"First Name *"}),e.jsx("input",{name:"first_name",value:i.first_name,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"First name"}),m.first_name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Last Name *"}),e.jsx("input",{name:"last_name",value:i.last_name,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Last name"}),m.last_name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"email@example.com"}),m.email&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Phone *"}),e.jsx("input",{name:"phone_number",value:i.phone_number,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"+971501234567"}),m.phone_number&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.phone_number})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Date of Birth *"}),e.jsx("input",{type:"date",name:"date_of_birth",value:i.date_of_birth,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),m.date_of_birth&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.date_of_birth})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Nationality *"}),e.jsx("input",{name:"nationality",value:i.nationality,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"e.g., Emirati"}),m.nationality&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.nationality})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Identification"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Emirates ID *"}),e.jsx("input",{name:"emirates_id",value:i.emirates_id,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"784-XXXX-XXXXXXX-X"}),m.emirates_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.emirates_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Passport *"}),e.jsx("input",{name:"passport_number",value:i.passport_number,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Passport number"}),m.passport_number&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.passport_number})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-xl font-semibold text-black mb-4",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Name"}),e.jsx("input",{name:"emergency_contact_name",value:i.emergency_contact_name,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Contact name (optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Phone"}),e.jsx("input",{name:"emergency_contact_phone",value:i.emergency_contact_phone,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"+971501234567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Relationship"}),e.jsxs("select",{name:"emergency_contact_relationship",value:i.emergency_contact_relationship,onChange:x,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"Select relationship"}),e.jsx("option",{children:"Spouse"}),e.jsx("option",{children:"Parent"}),e.jsx("option",{children:"Sibling"}),e.jsx("option",{children:"Child"}),e.jsx("option",{children:"Friend"}),e.jsx("option",{children:"Colleague"}),e.jsx("option",{children:"Other"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:C,disabled:f,className:"px-6 py-2 bg-white hover:bg-gray-100 text-black font-medium rounded-md border border-black",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-black hover:bg-gray-900 text-white font-medium rounded-md border border-black",children:f?"Creating...":"Create Owner"})]})]})]})}):null},sb=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState({search:"",status:""}),[x,g]=N.useState(!1);N.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0),h(null),o([{id:1,first_name:"John",last_name:"Smith",email:"john.smith@example.com",phone_number:"+971501234567",date_of_birth:"1975-04-12",nationality:"American",emirates_id:"784-1975-1234567-1",passport_number:"A12345678",status:"active",created_at:"2024-01-10",properties:[{id:1,property_number:"PROP-001",address_line1:"123 Main Street",total_units:10,occupied_units:8,monthly_revenue:35e3}],total_properties:1,total_units:10,occupied_units:8,monthly_revenue:35e3,emergency_contact:{name:"Jane Smith",phone:"+971501234568",relationship:"Spouse"}},{id:2,first_name:"Sarah",last_name:"Johnson",email:"sarah.johnson@example.com",phone_number:"+971507654321",date_of_birth:"1980-09-25",nationality:"British",emirates_id:"784-1980-7654321-2",passport_number:"B87654321",status:"active",created_at:"2024-01-20",properties:[{id:2,property_number:"PROP-002",address_line1:"456 Oak Avenue",total_units:15,occupied_units:12,monthly_revenue:127500}],total_properties:1,total_units:15,occupied_units:12,monthly_revenue:127500,emergency_contact:{name:"Michael Johnson",phone:"+971507654322",relationship:"Brother"}},{id:3,first_name:"Ahmed",last_name:"Al-Rashid",email:"ahmed.rashid@example.com",phone_number:"+971509876543",date_of_birth:"1970-12-08",nationality:"Emirati",emirates_id:"784-1970-9876543-3",passport_number:"C98765432",status:"active",created_at:"2024-01-05",properties:[{id:3,property_number:"PROP-003",address_line1:"789 Business District",total_units:5,occupied_units:3,monthly_revenue:16500}],total_properties:1,total_units:5,occupied_units:3,monthly_revenue:16500,emergency_contact:{name:"Fatima Al-Rashid",phone:"+971509876544",relationship:"Sister"}},{id:4,first_name:"Maria",last_name:"Rodriguez",email:"maria.rodriguez@example.com",phone_number:"+971502468135",date_of_birth:"1985-07-18",nationality:"Spanish",emirates_id:"784-1985-2468135-4",passport_number:"D24681357",status:"pending",created_at:"2024-03-01",properties:[],total_properties:0,total_units:0,occupied_units:0,monthly_revenue:0,emergency_contact:{name:"Carlos Rodriguez",phone:"+971502468136",relationship:"Husband"}}])}catch(S){console.error("Error loading owners:",S),h("Failed to load owners")}finally{u(!1)}},C=N.useMemo(()=>l.filter(S=>{const _=S.first_name.toLowerCase().includes(f.search.toLowerCase())||S.last_name.toLowerCase().includes(f.search.toLowerCase())||S.email.toLowerCase().includes(f.search.toLowerCase())||S.phone_number.includes(f.search)||S.emirates_id.includes(f.search),E=!f.status||S.status===f.status;return _&&E}),[l,f]),M=N.useCallback(S=>{b(_=>({..._,search:S.target.value}))},[]),R=N.useCallback(S=>{b(_=>({..._,status:S.target.value}))},[]),A=async(S,_)=>{try{o(E=>E.map(v=>v.id===S?{...v,status:_}:v))}catch(E){console.error("Error updating owner status:",E),alert("Failed to update owner status")}},j=async S=>{if(window.confirm("Are you sure you want to delete this owner?"))try{o(_=>_.filter(E=>E.id!==S))}catch(_){console.error("Error deleting owner:",_),alert("Failed to delete owner")}},k=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Owner Management"}),e.jsx("p",{className:"text-teal-100 mt-2",children:"Manage all property owners in the system"})]}),e.jsx(O,{variant:"primary",onClick:()=>g(!0),children:"Add Owner"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Search Owners"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or Emirates ID...",value:f.search,onChange:M,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Status"}),e.jsxs("select",{value:f.status,onChange:R,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),m?e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:m}),e.jsx(O,{onClick:p,variant:"primary",children:"Retry"})]}):C.length===0?e.jsx(B,{className:"p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Owners Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:f.search||f.status?"No owners match your current filters.":"Get started by adding your first owner."}),e.jsx(O,{variant:"primary",children:"Add Your First Owner"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(S=>e.jsxs(B,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[S.first_name," ",S.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:S.email}),e.jsx("p",{className:"text-sm text-gray-500",children:S.phone_number})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(S.status)}`,children:S.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Nationality:"}),e.jsx("span",{className:"font-medium",children:S.nationality})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Emirates ID:"}),e.jsx("span",{className:"font-medium",children:S.emirates_id})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Properties:"}),e.jsx("span",{className:"font-medium",children:S.total_properties})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Total Units:"}),e.jsx("span",{className:"font-medium",children:S.total_units})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Occupied Units:"}),e.jsx("span",{className:"font-medium text-green-600",children:S.occupied_units})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Monthly Revenue:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["$",S.monthly_revenue.toLocaleString()]})]})]}),S.properties.length>0&&e.jsxs("div",{className:"border-t pt-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Properties"}),e.jsx("div",{className:"space-y-1",children:S.properties.map(_=>e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium",children:_.property_number}),e.jsxs("p",{className:"text-xs text-gray-500",children:[_.address_line1,"  ",_.occupied_units,"/",_.total_units," occupied"]})]},_.id))})]}),e.jsxs("div",{className:"border-t pt-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:S.emergency_contact.name}),e.jsx("p",{children:S.emergency_contact.phone}),e.jsx("p",{className:"text-xs text-gray-500",children:S.emergency_contact.relationship})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:"primary",size:"sm",className:"flex-1",onClick:()=>window.location.href=`/manager/owners/${S.id}`,children:"View Details"}),e.jsx(O,{variant:"secondary",size:"sm",onClick:()=>window.location.href=`/manager/owners/${S.id}/edit`,children:"Edit"}),S.status==="pending"&&e.jsx(O,{variant:"success",size:"sm",onClick:()=>A(S.id,"active"),children:"Approve"}),e.jsx(O,{variant:"danger",size:"sm",onClick:()=>j(S.id),children:"Delete"})]})]},S.id))}),e.jsx(ab,{isOpen:x,onClose:()=>g(!1),onOwnerCreated:S=>{const _={id:S.owner_id,first_name:S.first_name,last_name:S.last_name,email:S.email,phone_number:S.phone_number,date_of_birth:S.date_of_birth,nationality:S.nationality,emirates_id:S.emirates_id,passport_number:S.passport_number,status:"active",created_at:S.created_at,properties:[],total_properties:0,total_units:0,occupied_units:0,monthly_revenue:0,emergency_contact:{name:S.emergency_contact_name||"Emergency Contact",phone:S.emergency_contact_phone||"N/A",relationship:S.emergency_contact_relationship||"N/A"}};o(E=>[_,...E])}})]})},nb=({isOpen:r,onClose:l,onContractCreated:o})=>{const[i,u]=N.useState({tenant_id:"",unit_id:"",rent_amount:"",security_deposit:"",lease_start_date:"",lease_end_date:"",contract_status:"draft",payment_frequency:"monthly",contract_type:"residential"}),[m,h]=N.useState([]),[f,b]=N.useState([]),[x,g]=N.useState({}),[p,C]=N.useState(!1),[M,R]=N.useState(!1),A=N.useCallback(E=>{const{name:v,value:H}=E.target;u(q=>({...q,[v]:H})),x[v]&&g(q=>({...q,[v]:""}))},[x]);N.useEffect(()=>{r&&j()},[r]);const j=async()=>{try{R(!0);const[E,v]=await Promise.all([Ge.getTenants({limit:100}),Ge.getUnits({limit:100})]);E.success&&h(E.data),v.success&&b(v.data)}catch(E){console.error("Error loading data:",E),je.error("Failed to load data")}finally{R(!1)}},k=()=>{const E={};if(i.tenant_id||(E.tenant_id="Tenant is required"),i.unit_id||(E.unit_id="Unit is required"),(!i.rent_amount||i.rent_amount<=0)&&(E.rent_amount="Valid rent amount is required"),(!i.security_deposit||i.security_deposit<0)&&(E.security_deposit="Valid security deposit is required"),i.lease_start_date||(E.lease_start_date="Lease start date is required"),i.lease_end_date||(E.lease_end_date="Lease end date is required"),i.lease_start_date&&i.lease_end_date){const v=new Date(i.lease_start_date);new Date(i.lease_end_date)<=v&&(E.lease_end_date="End date must be after start date")}return g(E),Object.keys(E).length===0},S=async E=>{if(E.preventDefault(),!k())return;C(!0);const v=je.loading("Creating contract...");try{const H={...i,tenant_id:parseInt(i.tenant_id),unit_id:parseInt(i.unit_id),rent_amount:parseFloat(i.rent_amount),security_deposit:parseFloat(i.security_deposit)},q=await Ge.createContract(H);if(je.removeNotification(v),q.success)je.success("Contract created!"),o(q.data),_();else throw new Error(q.error)}catch{je.error("Error creating contract")}finally{C(!1)}},_=N.useCallback(()=>{u({tenant_id:"",unit_id:"",rent_amount:"",security_deposit:"",lease_start_date:"",lease_end_date:"",contract_status:"draft",payment_frequency:"monthly",contract_type:"residential"}),g({}),l()},[l]);return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-start justify-center overflow-y-auto z-50 pt-10 pb-10",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl p-4 sm:p-6 md:p-8 border border-black",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Create New Contract"}),e.jsx("button",{onClick:_,className:"text-black hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Tenant *"}),e.jsxs("select",{name:"tenant_id",value:i.tenant_id,onChange:A,disabled:M,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"Select Tenant"}),m.map(E=>e.jsxs("option",{value:E.tenant_id.toString(),children:[E.first_name," ",E.last_name," - ",E.email]},E.tenant_id))]}),x.tenant_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.tenant_id}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M?"Loading tenants...":`${m.length} tenants available`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Unit *"}),e.jsxs("select",{name:"unit_id",value:i.unit_id,onChange:A,disabled:M,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"Select Unit"}),f.map(E=>e.jsxs("option",{value:E.unit_id.toString(),children:[E.unit_number," - ",E.unit_type||"Unit"," (",E.property_number||"N/A",") - ",E.area_sqm||0," sqm"]},E.unit_id))]}),x.unit_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.unit_id}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M?"Loading units...":`${f.length} units available`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Rent Amount *"}),e.jsx("input",{type:"number",name:"rent_amount",value:i.rent_amount,onChange:A,placeholder:"e.g., 3500",min:"1",step:"0.01",className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),x.rent_amount&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.rent_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Security Deposit *"}),e.jsx("input",{type:"number",name:"security_deposit",value:i.security_deposit,onChange:A,placeholder:"e.g., 3500",min:"0",step:"0.01",className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),x.security_deposit&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.security_deposit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Lease Start Date *"}),e.jsx("input",{type:"date",name:"lease_start_date",value:i.lease_start_date,onChange:A,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),x.lease_start_date&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.lease_start_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Lease End Date *"}),e.jsx("input",{type:"date",name:"lease_end_date",value:i.lease_end_date,onChange:A,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"}),x.lease_end_date&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.lease_end_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Contract Status"}),e.jsxs("select",{name:"contract_status",value:i.contract_status,onChange:A,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"terminated",children:"Terminated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Payment Frequency"}),e.jsxs("select",{name:"payment_frequency",value:i.payment_frequency,onChange:A,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"semi-annually",children:"Semi-Annually"}),e.jsx("option",{value:"annually",children:"Annually"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Contract Type"}),e.jsxs("select",{name:"contract_type",value:i.contract_type,onChange:A,className:"w-full bg-white text-black border border-black rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"short-term",children:"Short-term"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:_,disabled:p,className:"px-6 py-2 bg-white hover:bg-gray-100 text-black font-medium rounded-md border border-black",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-black hover:bg-gray-900 text-white font-medium rounded-md border border-black",children:p?"Creating...":"Create Contract"})]})]})]})}):null},rb=()=>{const{user:r}=Be(),[l,o]=N.useState([]),[i,u]=N.useState(!0),[m,h]=N.useState(null),[f,b]=N.useState({search:"",status:"",property:""}),[x,g]=N.useState(!1);N.useEffect(()=>{p()},[]);const p=async()=>{try{u(!0),h(null);const v=await Ge.getContracts({page:1,limit:100});if(v.success){const H=v.data.map(q=>{var $,J,W;return{id:q.contract_id,contract_number:`CON-${q.contract_id}`,tenant:{id:q.tenant_id,first_name:q.first_name||"Unknown",last_name:q.last_name||"Tenant",email:q.tenant_email||`${(q.first_name||"unknown").toLowerCase()}.${(q.last_name||"tenant").toLowerCase()}@example.com`,phone_number:q.tenant_phone||"+971501234567"},unit:{id:q.unit_id,unit_number:q.unit_number||"N/A",property:{id:q.property_id,property_number:q.property_number||"N/A",address_line1:q.address_line1||"N/A"}},owner:{id:q.owner_id,first_name:"Owner",last_name:"Name",email:"owner@example.com"},rent_amount:parseFloat(q.monthly_rent_amount)||0,security_deposit:parseFloat(q.monthly_rent_amount)||0,lease_start:q.start_date,lease_end:q.end_date,status:(($=q.contract_status)==null?void 0:$.toLowerCase())||"pending",contract_type:((J=q.contract_type)==null?void 0:J.toLowerCase())||"rental",payment_frequency:((W=q.payment_frequency)==null?void 0:W.toLowerCase())||"monthly",created_at:q.created_at,signed_date:q.signed_date,next_payment_due:q.end_date}});o(H)}else throw new Error(v.error||"Failed to fetch contracts")}catch(v){console.error("Error loading contracts:",v),h("Failed to load contracts")}finally{u(!1)}},C=N.useMemo(()=>l.filter(v=>{var W,ie,ae,ye,Ue,pe,G;const H=f.search.toLowerCase(),q=!H||(v.contract_number||"").toLowerCase().includes(H)||(((W=v.tenant)==null?void 0:W.first_name)||"").toLowerCase().includes(H)||(((ie=v.tenant)==null?void 0:ie.last_name)||"").toLowerCase().includes(H)||(((ae=v.unit)==null?void 0:ae.unit_number)||"").toLowerCase().includes(H)||(((Ue=(ye=v.unit)==null?void 0:ye.property)==null?void 0:Ue.property_number)||"").toLowerCase().includes(H),$=!f.status||v.status===f.status,J=!f.property||(((G=(pe=v.unit)==null?void 0:pe.property)==null?void 0:G.property_number)||"").toLowerCase().includes(f.property.toLowerCase());return q&&$&&J}),[l,f]),M=N.useCallback(v=>{b(H=>({...H,search:v.target.value}))},[]),R=N.useCallback(v=>{b(H=>({...H,status:v.target.value}))},[]),A=N.useCallback(v=>{b(H=>({...H,property:v.target.value}))},[]),j=async(v,H)=>{try{const q=await Ge.updateContractStatus(v,H);if(q.success)o($=>$.map(J=>J.id===v?{...J,status:H}:J)),je.success("Contract status updated successfully");else throw new Error(q.error||"Failed to update contract status")}catch(q){console.error("Error updating contract status:",q),je.error("Failed to update contract status")}},k=async v=>{try{const H=prompt("Enter new end date (YYYY-MM-DD):");if(!H)return;const q=await Ge.renewContract(v,{new_end_date:H});if(q.success)p(),je.success("Contract renewed successfully");else throw new Error(q.error||"Failed to renew contract")}catch(H){console.error("Error renewing contract:",H),je.error("Failed to renew contract")}},S=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-red-100 text-red-800";case"terminated":return"bg-gray-100 text-gray-800";case"draft":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},_=v=>{switch(v){case"residential":return"bg-blue-100 text-blue-800";case"commercial":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},E=v=>{const $=new Date(v)-new Date,J=Math.ceil($/(1e3*60*60*24));return J<=30&&J>0};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contract Management"}),e.jsx("p",{className:"text-teal-100 mt-2",children:"Manage all rental contracts in the system"})]}),e.jsx(O,{variant:"primary",onClick:()=>g(!0),children:"Create Contract"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Search Contracts"}),e.jsx("input",{type:"text",placeholder:"Search by contract number, tenant, or unit...",value:f.search,onChange:M,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Status"}),e.jsxs("select",{value:f.status,onChange:R,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"terminated",children:"Terminated"}),e.jsx("option",{value:"draft",children:"Draft"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Property"}),e.jsx("input",{type:"text",placeholder:"Filter by property number...",value:f.property,onChange:A,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]})]}),m?e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:m}),e.jsx(O,{onClick:p,variant:"primary",children:"Retry"})]}):C.length===0?e.jsx(B,{className:"p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Contracts Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:f.search||f.status||f.property?"No contracts match your current filters.":"Get started by creating your first contract."}),e.jsx(O,{variant:"primary",children:"Create Your First Contract"})]})}):e.jsx(B,{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contract"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lease Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.contract_number}),e.jsxs("div",{className:"flex space-x-1 mt-1",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(v.contract_type)}`,children:v.contract_type}),E(v.lease_end)&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-800",children:"Expiring Soon"})]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.tenant.first_name," ",v.tenant.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:v.tenant.email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.unit.unit_number}),e.jsx("div",{className:"text-sm text-gray-500",children:v.unit.property.property_number})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",v.rent_amount.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:v.payment_frequency})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:new Date(v.lease_start).toLocaleDateString()}),e.jsxs("div",{className:"text-sm text-gray-500",children:["to ",new Date(v.lease_end).toLocaleDateString()]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(v.status)}`,children:v.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx(O,{variant:"primary",size:"sm",onClick:()=>window.location.href=`/manager/contracts/${v.id}`,children:"View"}),e.jsx(O,{variant:"secondary",size:"sm",onClick:()=>window.location.href=`/manager/contracts/${v.id}/edit`,children:"Edit"}),v.status==="pending"&&e.jsx(O,{variant:"success",size:"sm",onClick:()=>j(v.id,"active"),children:"Approve"}),v.status==="active"&&E(v.lease_end)&&e.jsx(O,{variant:"warning",size:"sm",onClick:()=>k(v.id),children:"Renew"})]})]},v.id))})]})})}),e.jsx(nb,{isOpen:x,onClose:()=>g(!1),onContractCreated:v=>{const H={id:v.contract_id,contract_number:v.contract_number||`CON-${Date.now()}`,tenant:{id:v.tenant_id,first_name:"Tenant",last_name:"Name",email:"tenant@example.com",phone_number:"+971501234567"},unit:{id:v.unit_id,unit_number:"Unit",property:{id:1,property_number:"PROP-001",address_line1:"Property Address"}},owner:{id:1,first_name:"Owner",last_name:"Name",email:"owner@example.com"},rent_amount:v.rent_amount,security_deposit:v.security_deposit,lease_start:v.lease_start_date,lease_end:v.lease_end_date,status:v.contract_status,contract_type:v.contract_type,payment_frequency:v.payment_frequency,created_at:new Date().toISOString(),signed_date:null,next_payment_due:null};o(q=>[H,...q])}})]})},lb=()=>{const{user:r}=Be(),[l,o]=N.useState({summary:{totalRevenue:0,monthlyRevenue:0,yearlyRevenue:0,occupancyRate:0,totalProperties:0,totalUnits:0,activeContracts:0,pendingPayments:0},revenueData:[],occupancyData:[],propertyDistribution:[],loading:!0,error:null}),[i,u]=N.useState("monthly"),[m,h]=N.useState(new Date().getFullYear().toString());N.useEffect(()=>{f()},[i,m]);const f=async()=>{try{o(S=>({...S,loading:!0,error:null}));const k={summary:{totalRevenue:125e4,monthlyRevenue:485e3,yearlyRevenue:582e4,occupancyRate:86.7,totalProperties:45,totalUnits:180,activeContracts:142,pendingPayments:12},revenueData:[{month:"Jan",revenue:42e4,expenses:85e3,profit:335e3},{month:"Feb",revenue:445e3,expenses:89e3,profit:356e3},{month:"Mar",revenue:465e3,expenses:93e3,profit:372e3},{month:"Apr",revenue:485e3,expenses:97e3,profit:388e3},{month:"May",revenue:475e3,expenses:95e3,profit:38e4},{month:"Jun",revenue:49e4,expenses:98e3,profit:392e3},{month:"Jul",revenue:51e4,expenses:102e3,profit:408e3},{month:"Aug",revenue:495e3,expenses:99e3,profit:396e3},{month:"Sep",revenue:48e4,expenses:96e3,profit:384e3},{month:"Oct",revenue:485e3,expenses:97e3,profit:388e3},{month:"Nov",revenue:47e4,expenses:94e3,profit:376e3},{month:"Dec",revenue:455e3,expenses:91e3,profit:364e3}],occupancyData:[{month:"Jan",occupied:85,vacant:15},{month:"Feb",occupied:88,vacant:12},{month:"Mar",occupied:82,vacant:18},{month:"Apr",occupied:90,vacant:10},{month:"May",occupied:87,vacant:13},{month:"Jun",occupied:86,vacant:14},{month:"Jul",occupied:89,vacant:11},{month:"Aug",occupied:91,vacant:9},{month:"Sep",occupied:88,vacant:12},{month:"Oct",occupied:86,vacant:14},{month:"Nov",occupied:84,vacant:16},{month:"Dec",occupied:87,vacant:13}],propertyDistribution:[{name:"Apartments",value:25,color:"#0891b2"},{name:"Villas",value:12,color:"#059669"},{name:"Commercial",value:8,color:"#dc2626"}]};o(S=>({...S,...k,loading:!1}))}catch(k){console.error("Error loading report data:",k),o(S=>({...S,loading:!1,error:"Failed to load report data"}))}},b=N.useCallback(k=>{u(k.target.value)},[]),x=N.useCallback(k=>{h(k.target.value)},[]),g=k=>{alert(`Exporting report in ${k} format...`)},{summary:p,revenueData:C,occupancyData:M,propertyDistribution:R,loading:A,error:j}=l;return A?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):j?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:j}),e.jsx(O,{onClick:f,variant:"primary",children:"Retry"})]})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Financial Reports"}),e.jsx("p",{className:"text-teal-100 mt-2",children:"Comprehensive financial and operational analytics"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:"secondary",onClick:()=>g("PDF"),children:"Export PDF"}),e.jsx(O,{variant:"secondary",onClick:()=>g("Excel"),children:"Export Excel"})]})]})}),e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Report Period"}),e.jsxs("select",{value:i,onChange:b,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Year"}),e.jsxs("select",{value:m,onChange:x,className:"w-full bg-white text-black rounded-md border border-gray-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(O,{variant:"primary",onClick:f,className:"w-full",children:"Generate Report"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ct,{title:"Total Revenue",value:`$${p.totalRevenue.toLocaleString()}`,icon:"credit-card",color:"green",trend:{value:15,isPositive:!0}}),e.jsx(ct,{title:"Monthly Revenue",value:`$${p.monthlyRevenue.toLocaleString()}`,icon:"chart",color:"blue",trend:{value:8,isPositive:!0}}),e.jsx(ct,{title:"Occupancy Rate",value:`${p.occupancyRate}%`,icon:"home",color:"purple",trend:{value:2.3,isPositive:!0}}),e.jsx(ct,{title:"Active Contracts",value:p.activeContracts,icon:"document",color:"teal",trend:{value:5,isPositive:!0}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ct,{title:"Total Properties",value:p.totalProperties,icon:"building",color:"orange",trend:{value:3,isPositive:!0}}),e.jsx(ct,{title:"Total Units",value:p.totalUnits,icon:"grid",color:"indigo",trend:{value:7,isPositive:!0}}),e.jsx(ct,{title:"Yearly Revenue",value:`$${p.yearlyRevenue.toLocaleString()}`,icon:"trending-up",color:"green",trend:{value:12,isPositive:!0}}),e.jsx(ct,{title:"Pending Payments",value:p.pendingPayments,icon:"clock",color:"yellow",trend:{value:2,isPositive:!1}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trends"}),e.jsx(fx,{data:C})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Distribution"}),e.jsx(Zo,{data:R})]})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Occupancy Trends"}),e.jsx($o,{data:M})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Financial Summary"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expenses"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map((k,S)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.month}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",k.revenue.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",k.expenses.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:["$",k.profit.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(k.profit/k.revenue*100).toFixed(1),"%"]})]},S))})]})})]}),e.jsxs(B,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(O,{variant:"primary",onClick:()=>g("PDF"),className:"flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Download PDF Report"})]}),e.jsxs(O,{variant:"secondary",onClick:()=>g("Excel"),className:"flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Export to Excel"})]}),e.jsxs(O,{variant:"secondary",onClick:()=>window.print(),className:"flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),e.jsx("span",{children:"Print Report"})]})]})]})]})},ib=()=>{const[r,l]=N.useState([]);N.useEffect(()=>{const m=je.subscribe(h=>{l(h)});return l(je.getNotifications()),m},[]);const o=m=>{je.removeNotification(m)},i=m=>{switch(m){case"success":return e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"loading":return e.jsxs("svg",{className:"w-5 h-5 text-blue-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});default:return e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}},u=m=>{const h="relative flex items-center p-4 mb-3 rounded-lg shadow-lg border-l-4 transition-all duration-300 ease-in-out";switch(m){case"success":return`${h} bg-green-50 border-green-400 text-green-800`;case"error":return`${h} bg-red-50 border-red-400 text-red-800`;case"warning":return`${h} bg-yellow-50 border-yellow-400 text-yellow-800`;case"loading":return`${h} bg-blue-50 border-blue-400 text-blue-800`;default:return`${h} bg-blue-50 border-blue-400 text-blue-800`}};return r.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full space-y-2",children:r.map(m=>e.jsx("div",{className:u(m.type),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:i(m.type)}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:m.message}),m.description&&e.jsx("p",{className:"text-xs mt-1 opacity-75",children:m.description})]}),m.type!=="loading"&&e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:()=>o(m.id),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition ease-in-out duration-150",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},m.id))})};function cb(){return e.jsxs(P2,{children:[e.jsx(ib,{}),e.jsxs(Xg,{children:[e.jsx(xe,{path:"/",element:e.jsx(Y2,{})}),e.jsx(xe,{path:"/login",element:e.jsx(G2,{})}),e.jsx(xe,{path:"/register",element:e.jsx($2,{})}),e.jsx(xe,{path:"/home",element:e.jsx(dr,{requiredRoles:["tenant"],children:e.jsx(Z2,{})})}),e.jsxs(xe,{path:"/admin",element:e.jsx(dr,{requiredRoles:["admin","super_admin","manager"],children:e.jsx(zl,{})}),children:[e.jsx(xe,{path:"dashboard",element:e.jsx(ey,{})}),e.jsx(xe,{path:"tenants",element:e.jsx(ty,{})}),e.jsx(xe,{path:"buildings",element:e.jsx(ay,{})}),e.jsx(xe,{path:"buildings/:id",element:e.jsx(sy,{})}),e.jsx(xe,{path:"buildings/:buildingId/apartments/:apartmentId",element:e.jsx(ry,{})}),e.jsx(xe,{path:"vendors",element:e.jsx(ly,{})}),e.jsx(xe,{path:"transactions",element:e.jsx(uy,{})}),e.jsx(xe,{path:"virtual-demo",element:e.jsx(fy,{})}),e.jsx(xe,{path:"villas",element:e.jsx(yy,{})}),e.jsx(xe,{path:"villas/:id",element:e.jsx(by,{})}),e.jsx(xe,{path:"messages",element:e.jsx(Bl,{})})]}),e.jsxs(xe,{path:"/owner",element:e.jsx(dr,{requiredRoles:["owner"],children:e.jsx(zl,{})}),children:[e.jsx(xe,{path:"dashboard",element:e.jsx(ky,{})}),e.jsx(xe,{path:"properties",element:e.jsx(Ay,{})}),e.jsx(xe,{path:"properties/:id",element:e.jsx(Ry,{})}),e.jsx(xe,{path:"tenants",element:e.jsx(My,{})}),e.jsx(xe,{path:"tenants/:id",element:e.jsx(Ey,{})}),e.jsx(xe,{path:"financial",element:e.jsx(Ly,{})}),e.jsx(xe,{path:"maintenance",element:e.jsx(Ty,{})}),e.jsx(xe,{path:"billing",element:e.jsx(Dy,{})}),e.jsx(xe,{path:"messages",element:e.jsx(Bl,{})})]}),e.jsxs(xe,{path:"/manager",element:e.jsx(dr,{requiredRoles:["manager"],children:e.jsx(zl,{})}),children:[e.jsx(xe,{path:"dashboard",element:e.jsx(Qy,{})}),e.jsx(xe,{path:"properties",element:e.jsx(Ky,{})}),e.jsx(xe,{path:"units",element:e.jsx(Iy,{})}),e.jsx(xe,{path:"tenants",element:e.jsx(tb,{})}),e.jsx(xe,{path:"owners",element:e.jsx(sb,{})}),e.jsx(xe,{path:"contracts",element:e.jsx(rb,{})}),e.jsx(xe,{path:"reports",element:e.jsx(lb,{})}),e.jsx(xe,{path:"messages",element:e.jsx(Bl,{})})]}),e.jsxs(xe,{path:"/tenant",element:e.jsx(dr,{requiredRoles:["tenant"],children:e.jsx(zl,{})}),children:[e.jsx(xe,{path:"dashboard",element:e.jsx(Hy,{})}),e.jsx(xe,{path:"properties",element:e.jsx(Py,{})}),e.jsx(xe,{path:"lease",element:e.jsx(Vy,{})}),e.jsx(xe,{path:"payments",element:e.jsx(Fy,{})}),e.jsx(xe,{path:"bills",element:e.jsx(Yy,{})}),e.jsx(xe,{path:"maintenance",element:e.jsx(Gy,{})}),e.jsx(xe,{path:"documents",element:e.jsx($y,{})}),e.jsx(xe,{path:"messages",element:e.jsx(Bl,{})})]}),e.jsx(xe,{path:"*",element:e.jsx(Fa,{to:"/",replace:!0})})]})]})}class ob extends Lh.Component{constructor(o){super(o);P0(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(o){return{hasError:!0}}componentDidCatch(o,i){console.error("ErrorBoundary caught an error:",o,i),this.setState({error:o,errorInfo:i})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("svg",{className:"mx-auto h-16 w-16 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try again."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:this.handleRetry,className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300",children:"Try Again"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300",children:"Reload Page"})]}),e.jsx("div",{className:"mt-6 text-sm text-gray-500",children:e.jsx("p",{children:"If this problem persists, please contact support."})})]})}):this.props.children}}eg.createRoot(document.getElementById("root")).render(e.jsx(ob,{children:e.jsx(a1,{children:e.jsx(cb,{})})}));
